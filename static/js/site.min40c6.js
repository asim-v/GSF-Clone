/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./static/js/app.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@material/animation/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@material/animation/index.js ***!
  \***************************************************/
/*! exports provided: transformStyleProperties, getCorrectEventName, getCorrectPropertyName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transformStyleProperties", function() { return transformStyleProperties; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCorrectEventName", function() { return getCorrectEventName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCorrectPropertyName", function() { return getCorrectPropertyName; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @typedef {{
 *   noPrefix: string,
 *   webkitPrefix: string,
 *   styleProperty: string
 * }}
 */
let VendorPropertyMapType;

/** @const {Object<string, !VendorPropertyMapType>} */
const eventTypeMap = {
  'animationstart': {
    noPrefix: 'animationstart',
    webkitPrefix: 'webkitAnimationStart',
    styleProperty: 'animation',
  },
  'animationend': {
    noPrefix: 'animationend',
    webkitPrefix: 'webkitAnimationEnd',
    styleProperty: 'animation',
  },
  'animationiteration': {
    noPrefix: 'animationiteration',
    webkitPrefix: 'webkitAnimationIteration',
    styleProperty: 'animation',
  },
  'transitionend': {
    noPrefix: 'transitionend',
    webkitPrefix: 'webkitTransitionEnd',
    styleProperty: 'transition',
  },
};

/** @const {Object<string, !VendorPropertyMapType>} */
const cssPropertyMap = {
  'animation': {
    noPrefix: 'animation',
    webkitPrefix: '-webkit-animation',
  },
  'transform': {
    noPrefix: 'transform',
    webkitPrefix: '-webkit-transform',
  },
  'transition': {
    noPrefix: 'transition',
    webkitPrefix: '-webkit-transition',
  },
};

/**
 * @param {!Object} windowObj
 * @return {boolean}
 */
function hasProperShape(windowObj) {
  return (windowObj['document'] !== undefined && typeof windowObj['document']['createElement'] === 'function');
}

/**
 * @param {string} eventType
 * @return {boolean}
 */
function eventFoundInMaps(eventType) {
  return (eventType in eventTypeMap || eventType in cssPropertyMap);
}

/**
 * @param {string} eventType
 * @param {!Object<string, !VendorPropertyMapType>} map
 * @param {!Element} el
 * @return {string}
 */
function getJavaScriptEventName(eventType, map, el) {
  return map[eventType].styleProperty in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;
}

/**
 * Helper function to determine browser prefix for CSS3 animation events
 * and property names.
 * @param {!Object} windowObj
 * @param {string} eventType
 * @return {string}
 */
function getAnimationName(windowObj, eventType) {
  if (!hasProperShape(windowObj) || !eventFoundInMaps(eventType)) {
    return eventType;
  }

  const map = /** @type {!Object<string, !VendorPropertyMapType>} */ (
    eventType in eventTypeMap ? eventTypeMap : cssPropertyMap
  );
  const el = windowObj['document']['createElement']('div');
  let eventName = '';

  if (map === eventTypeMap) {
    eventName = getJavaScriptEventName(eventType, map, el);
  } else {
    eventName = map[eventType].noPrefix in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;
  }

  return eventName;
}

// Public functions to access getAnimationName() for JavaScript events or CSS
// property names.

const transformStyleProperties = ['transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'MSTransform'];

/**
 * @param {!Object} windowObj
 * @param {string} eventType
 * @return {string}
 */
function getCorrectEventName(windowObj, eventType) {
  return getAnimationName(windowObj, eventType);
}

/**
 * @param {!Object} windowObj
 * @param {string} eventType
 * @return {string}
 */
function getCorrectPropertyName(windowObj, eventType) {
  return getAnimationName(windowObj, eventType);
}




/***/ }),

/***/ "./node_modules/@material/base/component.js":
/*!**************************************************!*\
  !*** ./node_modules/@material/base/component.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/base/foundation.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */



/**
 * @template F
 */
class MDCComponent {
  /**
   * @param {!Element} root
   * @return {!MDCComponent}
   */
  static attachTo(root) {
    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and
    // returns an instantiated component with its root set to that element. Also note that in the cases of
    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized
    // from getDefaultFoundation().
    return new MDCComponent(root, new _foundation__WEBPACK_IMPORTED_MODULE_0__["default"]());
  }

  /**
   * @param {!Element} root
   * @param {F=} foundation
   * @param {...?} args
   */
  constructor(root, foundation = undefined, ...args) {
    /** @protected {!Element} */
    this.root_ = root;
    this.initialize(...args);
    // Note that we initialize foundation here and not within the constructor's default param so that
    // this.root_ is defined and can be used within the foundation class.
    /** @protected {!F} */
    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;
    this.foundation_.init();
    this.initialSyncWithDOM();
  }

  initialize(/* ...args */) {
    // Subclasses can override this to do any additional setup work that would be considered part of a
    // "constructor". Essentially, it is a hook into the parent constructor before the foundation is
    // initialized. Any additional arguments besides root and foundation will be passed in here.
  }

  /**
   * @return {!F} foundation
   */
  getDefaultFoundation() {
    // Subclasses must override this method to return a properly configured foundation class for the
    // component.
    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +
      'foundation class');
  }

  initialSyncWithDOM() {
    // Subclasses should override this method if they need to perform work to synchronize with a host DOM
    // object. An example of this would be a form control wrapper that needs to synchronize its internal state
    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM
    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.
  }

  destroy() {
    // Subclasses may implement this method to release any resources / deregister any listeners they have
    // attached. An example of this might be deregistering a resize event from the window object.
    this.foundation_.destroy();
  }

  /**
   * Wrapper method to add an event listener to the component's root element. This is most useful when
   * listening for custom events.
   * @param {string} evtType
   * @param {!Function} handler
   */
  listen(evtType, handler) {
    this.root_.addEventListener(evtType, handler);
  }

  /**
   * Wrapper method to remove an event listener to the component's root element. This is most useful when
   * unlistening for custom events.
   * @param {string} evtType
   * @param {!Function} handler
   */
  unlisten(evtType, handler) {
    this.root_.removeEventListener(evtType, handler);
  }

  /**
   * Fires a cross-browser-compatible custom event from the component root of the given type,
   * with the given data.
   * @param {string} evtType
   * @param {!Object} evtData
   * @param {boolean=} shouldBubble
   */
  emit(evtType, evtData, shouldBubble = false) {
    let evt;
    if (typeof CustomEvent === 'function') {
      evt = new CustomEvent(evtType, {
        detail: evtData,
        bubbles: shouldBubble,
      });
    } else {
      evt = document.createEvent('CustomEvent');
      evt.initCustomEvent(evtType, shouldBubble, false, evtData);
    }

    this.root_.dispatchEvent(evt);
  }
}

/* harmony default export */ __webpack_exports__["default"] = (MDCComponent);


/***/ }),

/***/ "./node_modules/@material/base/foundation.js":
/*!***************************************************!*\
  !*** ./node_modules/@material/base/foundation.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @template A
 */
class MDCFoundation {
  /** @return enum{cssClasses} */
  static get cssClasses() {
    // Classes extending MDCFoundation should implement this method to return an object which exports every
    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}
    return {};
  }

  /** @return enum{strings} */
  static get strings() {
    // Classes extending MDCFoundation should implement this method to return an object which exports all
    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}
    return {};
  }

  /** @return enum{numbers} */
  static get numbers() {
    // Classes extending MDCFoundation should implement this method to return an object which exports all
    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}
    return {};
  }

  /** @return {!Object} */
  static get defaultAdapter() {
    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient
    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter
    // validation.
    return {};
  }

  /**
   * @param {A=} adapter
   */
  constructor(adapter = {}) {
    /** @protected {!A} */
    this.adapter_ = adapter;
  }

  init() {
    // Subclasses should override this method to perform initialization routines (registering events, etc.)
  }

  destroy() {
    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)
  }
}

/* harmony default export */ __webpack_exports__["default"] = (MDCFoundation);


/***/ }),

/***/ "./node_modules/@material/base/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@material/base/index.js ***!
  \**********************************************/
/*! exports provided: MDCFoundation, MDCComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/base/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component */ "./node_modules/@material/base/component.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCComponent", function() { return _component__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */







/***/ }),

/***/ "./node_modules/@material/menu/adapter.js":
/*!************************************************!*\
  !*** ./node_modules/@material/menu/adapter.js ***!
  \************************************************/
/*! exports provided: MDCMenuAdapter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCMenuAdapter", function() { return MDCMenuAdapter; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* eslint no-unused-vars: [2, {"args": "none"}] */

/**
 * Adapter for MDC Menu. Provides an interface for managing
 * - classes
 * - dom
 * - focus
 * - position
 * - dimensions
 * - event handlers
 *
 * Additionally, provides type information for the adapter to the Closure
 * compiler.
 *
 * Implement this adapter for your framework of choice to delegate updates to
 * the component in your framework of choice. See architecture documentation
 * for more details.
 * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md
 *
 * @record
 */
class MDCMenuAdapter {
  /** @param {string} className */
  addClass(className) {}

  /** @param {string} className */
  removeClass(className) {}

  /**
   * @param {string} className
   * @return {boolean}
   */
  hasClass(className) {}

  /** @return {boolean} */
  hasNecessaryDom() {}

  /**
   * @param {EventTarget} target
   * @param {string} attributeName
   * @return {string}
   */
  getAttributeForEventTarget(target, attributeName) {}

  /** @return {{ width: number, height: number }} */
  getInnerDimensions() {}

  /** @return {boolean} */
  hasAnchor() {}

  /** @return {{width: number, height: number, top: number, right: number, bottom: number, left: number}} */
  getAnchorDimensions() {}

  /** @return {{ width: number, height: number }} */
  getWindowDimensions() {}

  /** @return {number} */
  getNumberOfItems() {}

  /**
   * @param {string} type
   * @param {function(!Event)} handler
   */
  registerInteractionHandler(type, handler) {}

  /**
   * @param {string} type
   * @param {function(!Event)} handler
   */
  deregisterInteractionHandler(type, handler) {}

  /** @param {function(!Event)} handler */
  registerBodyClickHandler(handler) {}

  /** @param {function(!Event)} handler */
  deregisterBodyClickHandler(handler) {}

  /**
   * @param {EventTarget} target
   * @return {number}
   */
  getIndexForEventTarget(target) {}

  /** @param {{index: number}} evtData */
  notifySelected(evtData) {}

  notifyCancel() {}

  saveFocus() {}

  restoreFocus() {}

  /** @return {boolean} */
  isFocused() {}

  focus() {}

  /** @return {number} */
  getFocusedItemIndex() /* number */ {}

  /** @param {number} index */
  focusItemAtIndex(index) {}

  /** @return {boolean} */
  isRtl() {}

  /** @param {string} origin */
  setTransformOrigin(origin) {}

  /** @param {{
  *   top: (string|undefined),
  *   right: (string|undefined),
  *   bottom: (string|undefined),
  *   left: (string|undefined)
  * }} position */
  setPosition(position) {}

  /** @param {string} height */
  setMaxHeight(height) {}

  /**
   * @param {number} index
   * @param {string} attr
   * @param {string} value
   */
  setAttrForOptionAtIndex(index, attr, value) {}

  /**
   * @param {number} index
   * @param {string} attr
   */
  rmAttrForOptionAtIndex(index, attr) {}

  /**
   * @param {number} index
   * @param {string} className
   */
  addClassForOptionAtIndex(index, className) {}

  /**
   * @param {number} index
   * @param {string} className
   */
  rmClassForOptionAtIndex(index, className) {}
}




/***/ }),

/***/ "./node_modules/@material/menu/constants.js":
/*!**************************************************!*\
  !*** ./node_modules/@material/menu/constants.js ***!
  \**************************************************/
/*! exports provided: cssClasses, strings, numbers, CornerBit, Corner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numbers", function() { return numbers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CornerBit", function() { return CornerBit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Corner", function() { return Corner; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** @enum {string} */
const cssClasses = {
  ROOT: 'mdc-menu',
  OPEN: 'mdc-menu--open',
  ANIMATING_OPEN: 'mdc-menu--animating-open',
  ANIMATING_CLOSED: 'mdc-menu--animating-closed',
  SELECTED_LIST_ITEM: 'mdc-list-item--selected',
};

/** @enum {string} */
const strings = {
  ITEMS_SELECTOR: '.mdc-menu__items',
  SELECTED_EVENT: 'MDCMenu:selected',
  CANCEL_EVENT: 'MDCMenu:cancel',
  ARIA_DISABLED_ATTR: 'aria-disabled',
};

/** @enum {number} */
const numbers = {
  // Amount of time to wait before triggering a selected event on the menu. Note that this time
  // will most likely be bumped up once interactive lists are supported to allow for the ripple to
  // animate before closing the menu
  SELECTED_TRIGGER_DELAY: 50,
  // Total duration of menu open animation.
  TRANSITION_OPEN_DURATION: 120,
  // Total duration of menu close animation.
  TRANSITION_CLOSE_DURATION: 75,
  // Margin left to the edge of the viewport when menu is at maximum possible height.
  MARGIN_TO_EDGE: 32,
  // Ratio of anchor width to menu width for switching from corner positioning to center positioning.
  ANCHOR_TO_MENU_WIDTH_RATIO: 0.67,
  // Ratio of vertical offset to menu height for switching from corner to mid-way origin positioning.
  OFFSET_TO_MENU_HEIGHT_RATIO: 0.1,
};

/**
 * Enum for bits in the {@see Corner) bitmap.
 * @enum {number}
 */
const CornerBit = {
  BOTTOM: 1,
  CENTER: 2,
  RIGHT: 4,
  FLIP_RTL: 8,
};

/**
 * Enum for representing an element corner for positioning the menu.
 *
 * The START constants map to LEFT if element directionality is left
 * to right and RIGHT if the directionality is right to left.
 * Likewise END maps to RIGHT or LEFT depending on the directionality.
 *
 * @enum {number}
 */
const Corner = {
  TOP_LEFT: 0,
  TOP_RIGHT: CornerBit.RIGHT,
  BOTTOM_LEFT: CornerBit.BOTTOM,
  BOTTOM_RIGHT: CornerBit.BOTTOM | CornerBit.RIGHT,
  TOP_START: CornerBit.FLIP_RTL,
  TOP_END: CornerBit.FLIP_RTL | CornerBit.RIGHT,
  BOTTOM_START: CornerBit.BOTTOM | CornerBit.FLIP_RTL,
  BOTTOM_END: CornerBit.BOTTOM | CornerBit.RIGHT | CornerBit.FLIP_RTL,
};





/***/ }),

/***/ "./node_modules/@material/menu/foundation.js":
/*!***************************************************!*\
  !*** ./node_modules/@material/menu/foundation.js ***!
  \***************************************************/
/*! exports provided: MDCMenuFoundation, AnchorMargin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCMenuFoundation", function() { return MDCMenuFoundation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnchorMargin", function() { return AnchorMargin; });
/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/foundation */ "./node_modules/@material/base/foundation.js");
/* harmony import */ var _adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adapter */ "./node_modules/@material/menu/adapter.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/menu/constants.js");
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @typedef {{
 *   top: number,
 *   right: number,
 *   bottom: number,
 *   left: number
 * }}
 */
let AnchorMargin;

/* eslint-disable no-unused-vars */
/**
 * @typedef {{
 *   viewport: { width: number, height: number },
 *   viewportDistance: {top: number, right: number, bottom: number, left: number},
 *   anchorHeight: number,
 *   anchorWidth: number,
 *   menuHeight: number,
 *   menuWidth: number,
 * }}
 */
let AutoLayoutMeasurements;
/* eslint-enable no-unused-vars */





/**
 * @extends {MDCFoundation<!MDCMenuAdapter>}
 */
class MDCMenuFoundation extends _material_base_foundation__WEBPACK_IMPORTED_MODULE_0__["default"] {
  /** @return enum{cssClasses} */
  static get cssClasses() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"];
  }

  /** @return enum{strings} */
  static get strings() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"];
  }

  /** @return enum{numbers} */
  static get numbers() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"];
  }

  /** @return enum{number} */
  static get Corner() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["Corner"];
  }

  /**
   * {@see MDCMenuAdapter} for typing information on parameters and return
   * types.
   * @return {!MDCMenuAdapter}
   */
  static get defaultAdapter() {
    return /** @type {!MDCMenuAdapter} */ ({
      addClass: () => {},
      removeClass: () => {},
      hasClass: () => false,
      hasNecessaryDom: () => false,
      getAttributeForEventTarget: () => {},
      getInnerDimensions: () => ({}),
      hasAnchor: () => false,
      getAnchorDimensions: () => ({}),
      getWindowDimensions: () => ({}),
      getNumberOfItems: () => 0,
      registerInteractionHandler: () => {},
      deregisterInteractionHandler: () => {},
      registerBodyClickHandler: () => {},
      deregisterBodyClickHandler: () => {},
      getIndexForEventTarget: () => 0,
      notifySelected: () => {},
      notifyCancel: () => {},
      saveFocus: () => {},
      restoreFocus: () => {},
      isFocused: () => false,
      focus: () => {},
      getFocusedItemIndex: () => -1,
      focusItemAtIndex: () => {},
      isRtl: () => false,
      setTransformOrigin: () => {},
      setPosition: () => {},
      setMaxHeight: () => {},
      setAttrForOptionAtIndex: () => {},
      rmAttrForOptionAtIndex: () => {},
      addClassForOptionAtIndex: () => {},
      rmClassForOptionAtIndex: () => {},
    });
  }

  /** @param {!MDCMenuAdapter} adapter */
  constructor(adapter) {
    super(Object.assign(MDCMenuFoundation.defaultAdapter, adapter));

    /** @private {function(!Event)} */
    this.clickHandler_ = (evt) => this.handlePossibleSelected_(evt);
    /** @private {function(!Event)} */
    this.keydownHandler_ = (evt) => this.handleKeyboardDown_(evt);
    /** @private {function(!Event)} */
    this.keyupHandler_ = (evt) => this.handleKeyboardUp_(evt);
    /** @private {function(!Event)} */
    this.documentClickHandler_ = (evt) => this.handleDocumentClick_(evt);
    /** @private {boolean} */
    this.isOpen_ = false;
    /** @private {number} */
    this.openAnimationEndTimerId_ = 0;
    /** @private {number} */
    this.closeAnimationEndTimerId_ = 0;
    /** @private {number} */
    this.selectedTriggerTimerId_ = 0;
    /** @private {number} */
    this.animationRequestId_ = 0;
    /** @private {!{ width: number, height: number }} */
    this.dimensions_;
    /** @private {number} */
    this.itemHeight_;
    /** @private {Corner} */
    this.anchorCorner_ = _constants__WEBPACK_IMPORTED_MODULE_2__["Corner"].TOP_START;
    /** @private {AnchorMargin} */
    this.anchorMargin_ = {top: 0, right: 0, bottom: 0, left: 0};
    /** @private {?AutoLayoutMeasurements} */
    this.measures_ = null;
    /** @private {number} */
    this.selectedIndex_ = -1;
    /** @private {boolean} */
    this.rememberSelection_ = false;
    /** @private {boolean} */
    this.quickOpen_ = false;

    // A keyup event on the menu needs to have a corresponding keydown
    // event on the menu. If the user opens the menu with a keydown event on a
    // button, the menu will only get the key up event causing buggy behavior with selected elements.
    /** @private {boolean} */
    this.keyDownWithinMenu_ = false;
  }

  init() {
    const {ROOT, OPEN} = MDCMenuFoundation.cssClasses;

    if (!this.adapter_.hasClass(ROOT)) {
      throw new Error(`${ROOT} class required in root element.`);
    }

    if (!this.adapter_.hasNecessaryDom()) {
      throw new Error(`Required DOM nodes missing in ${ROOT} component.`);
    }

    if (this.adapter_.hasClass(OPEN)) {
      this.isOpen_ = true;
    }

    this.adapter_.registerInteractionHandler('click', this.clickHandler_);
    this.adapter_.registerInteractionHandler('keyup', this.keyupHandler_);
    this.adapter_.registerInteractionHandler('keydown', this.keydownHandler_);
  }

  destroy() {
    clearTimeout(this.selectedTriggerTimerId_);
    clearTimeout(this.openAnimationEndTimerId_);
    clearTimeout(this.closeAnimationEndTimerId_);
    // Cancel any currently running animations.
    cancelAnimationFrame(this.animationRequestId_);
    this.adapter_.deregisterInteractionHandler('click', this.clickHandler_);
    this.adapter_.deregisterInteractionHandler('keyup', this.keyupHandler_);
    this.adapter_.deregisterInteractionHandler('keydown', this.keydownHandler_);
    this.adapter_.deregisterBodyClickHandler(this.documentClickHandler_);
  }

  /**
   * @param {!Corner} corner Default anchor corner alignment of top-left menu corner.
   */
  setAnchorCorner(corner) {
    this.anchorCorner_ = corner;
  }

  /**
   * @param {!AnchorMargin} margin 4-plet of margins from anchor.
   */
  setAnchorMargin(margin) {
    this.anchorMargin_.top = typeof margin.top === 'number' ? margin.top : 0;
    this.anchorMargin_.right = typeof margin.right === 'number' ? margin.right : 0;
    this.anchorMargin_.bottom = typeof margin.bottom === 'number' ? margin.bottom : 0;
    this.anchorMargin_.left = typeof margin.left === 'number' ? margin.left : 0;
  }

  /** @param {boolean} rememberSelection */
  setRememberSelection(rememberSelection) {
    this.rememberSelection_ = rememberSelection;
    this.setSelectedIndex(-1);
  }

  /** @param {boolean} quickOpen */
  setQuickOpen(quickOpen) {
    this.quickOpen_ = quickOpen;
  }

  /**
   * @param {?number} focusIndex
   * @private
   */
  focusOnOpen_(focusIndex) {
    if (focusIndex === null) {
      // If this instance of MDCMenu remembers selections, and the user has
      // made a selection, then focus the last selected item
      if (this.rememberSelection_ && this.selectedIndex_ >= 0) {
        this.adapter_.focusItemAtIndex(this.selectedIndex_);
        return;
      }

      this.adapter_.focus();
      // If that doesn't work, focus first item instead.
      if (!this.adapter_.isFocused()) {
        this.adapter_.focusItemAtIndex(0);
      }
    } else {
      this.adapter_.focusItemAtIndex(focusIndex);
    }
  }

  /**
   * Handle clicks and cancel the menu if not a child list-item
   * @param {!Event} evt
   * @private
   */
  handleDocumentClick_(evt) {
    let el = evt.target;

    while (el && el !== document.documentElement) {
      if (this.adapter_.getIndexForEventTarget(el) !== -1) {
        return;
      }
      el = el.parentNode;
    }

    this.adapter_.notifyCancel();
    this.close(evt);
  };

  /**
   * Handle keys that we want to repeat on hold (tab and arrows).
   * @param {!Event} evt
   * @return {boolean}
   * @private
   */
  handleKeyboardDown_(evt) {
    // Do nothing if Alt, Ctrl or Meta are pressed.
    if (evt.altKey || evt.ctrlKey || evt.metaKey) {
      return true;
    }

    const {keyCode, key, shiftKey} = evt;
    const isTab = key === 'Tab' || keyCode === 9;
    const isArrowUp = key === 'ArrowUp' || keyCode === 38;
    const isArrowDown = key === 'ArrowDown' || keyCode === 40;
    const isSpace = key === 'Space' || keyCode === 32;
    const isEnter = key === 'Enter' || keyCode === 13;
    // The menu needs to know if the keydown event was triggered on the menu
    this.keyDownWithinMenu_ = isEnter || isSpace;

    const focusedItemIndex = this.adapter_.getFocusedItemIndex();
    const lastItemIndex = this.adapter_.getNumberOfItems() - 1;

    if (shiftKey && isTab && focusedItemIndex === 0) {
      this.adapter_.focusItemAtIndex(lastItemIndex);
      evt.preventDefault();
      return false;
    }

    if (!shiftKey && isTab && focusedItemIndex === lastItemIndex) {
      this.adapter_.focusItemAtIndex(0);
      evt.preventDefault();
      return false;
    }

    // Ensure Arrow{Up,Down} and space do not cause inadvertent scrolling
    if (isArrowUp || isArrowDown || isSpace) {
      evt.preventDefault();
    }

    if (isArrowUp) {
      if (focusedItemIndex === 0 || this.adapter_.isFocused()) {
        this.adapter_.focusItemAtIndex(lastItemIndex);
      } else {
        this.adapter_.focusItemAtIndex(focusedItemIndex - 1);
      }
    } else if (isArrowDown) {
      if (focusedItemIndex === lastItemIndex || this.adapter_.isFocused()) {
        this.adapter_.focusItemAtIndex(0);
      } else {
        this.adapter_.focusItemAtIndex(focusedItemIndex + 1);
      }
    }

    return true;
  }

  /**
   * Handle keys that we don't want to repeat on hold (Enter, Space, Escape).
   * @param {!Event} evt
   * @return {boolean}
   * @private
   */
  handleKeyboardUp_(evt) {
    // Do nothing if Alt, Ctrl or Meta are pressed.
    if (evt.altKey || evt.ctrlKey || evt.metaKey) {
      return true;
    }

    const {keyCode, key} = evt;
    const isEnter = key === 'Enter' || keyCode === 13;
    const isSpace = key === 'Space' || keyCode === 32;
    const isEscape = key === 'Escape' || keyCode === 27;

    if (isEnter || isSpace) {
      // If the keydown event didn't occur on the menu, then it should
      // disregard the possible selected event.
      if (this.keyDownWithinMenu_) {
        this.handlePossibleSelected_(evt);
      }
      this.keyDownWithinMenu_ = false;
    }

    if (isEscape) {
      this.adapter_.notifyCancel();
      this.close();
    }

    return true;
  }

  /**
   * @param {!Event} evt
   * @private
   */
  handlePossibleSelected_(evt) {
    if (this.adapter_.getAttributeForEventTarget(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARIA_DISABLED_ATTR) === 'true') {
      return;
    }
    const targetIndex = this.adapter_.getIndexForEventTarget(evt.target);
    if (targetIndex < 0) {
      return;
    }
    // Debounce multiple selections
    if (this.selectedTriggerTimerId_) {
      return;
    }
    this.selectedTriggerTimerId_ = setTimeout(() => {
      this.selectedTriggerTimerId_ = 0;
      this.close();
      if (this.rememberSelection_) {
        this.setSelectedIndex(targetIndex);
      }
      this.adapter_.notifySelected({index: targetIndex});
    }, _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].SELECTED_TRIGGER_DELAY);
  }

  /**
   * @return {AutoLayoutMeasurements} Measurements used to position menu popup.
   */
  getAutoLayoutMeasurements_() {
    const anchorRect = this.adapter_.getAnchorDimensions();
    const viewport = this.adapter_.getWindowDimensions();

    return {
      viewport: viewport,
      viewportDistance: {
        top: anchorRect.top,
        right: viewport.width - anchorRect.right,
        left: anchorRect.left,
        bottom: viewport.height - anchorRect.bottom,
      },
      anchorHeight: anchorRect.height,
      anchorWidth: anchorRect.width,
      menuHeight: this.dimensions_.height,
      menuWidth: this.dimensions_.width,
    };
  }

  /**
   * Computes the corner of the anchor from which to animate and position the menu.
   * @return {Corner}
   * @private
   */
  getOriginCorner_() {
    // Defaults: open from the top left.
    let corner = _constants__WEBPACK_IMPORTED_MODULE_2__["Corner"].TOP_LEFT;

    const {viewportDistance, anchorHeight, anchorWidth, menuHeight, menuWidth} = this.measures_;
    const isBottomAligned = Boolean(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM);
    const availableTop = isBottomAligned ? viewportDistance.top + anchorHeight + this.anchorMargin_.bottom
      : viewportDistance.top + this.anchorMargin_.top;
    const availableBottom = isBottomAligned ? viewportDistance.bottom - this.anchorMargin_.bottom
      : viewportDistance.bottom + anchorHeight - this.anchorMargin_.top;

    const topOverflow = menuHeight - availableTop;
    const bottomOverflow = menuHeight - availableBottom;
    if (bottomOverflow > 0 && topOverflow < bottomOverflow) {
      corner |= _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM;
    }

    const isRtl = this.adapter_.isRtl();
    const isFlipRtl = Boolean(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].FLIP_RTL);
    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].RIGHT);
    const isAlignedRight = (avoidHorizontalOverlap && !isRtl) ||
      (!avoidHorizontalOverlap && isFlipRtl && isRtl);
    const availableLeft = isAlignedRight ? viewportDistance.left + anchorWidth + this.anchorMargin_.right :
      viewportDistance.left + this.anchorMargin_.left;
    const availableRight = isAlignedRight ? viewportDistance.right - this.anchorMargin_.right :
      viewportDistance.right + anchorWidth - this.anchorMargin_.left;

    const leftOverflow = menuWidth - availableLeft;
    const rightOverflow = menuWidth - availableRight;

    if ((leftOverflow < 0 && isAlignedRight && isRtl) ||
        (avoidHorizontalOverlap && !isAlignedRight && leftOverflow < 0) ||
        (rightOverflow > 0 && leftOverflow < rightOverflow)) {
      corner |= _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].RIGHT;
    }

    return corner;
  }

  /**
   * @param {Corner} corner Origin corner of the menu.
   * @return {number} Horizontal offset of menu origin corner from corresponding anchor corner.
   * @private
   */
  getHorizontalOriginOffset_(corner) {
    const {anchorWidth} = this.measures_;
    const isRightAligned = Boolean(corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].RIGHT);
    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].RIGHT);
    let x = 0;
    if (isRightAligned) {
      const rightOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.left : this.anchorMargin_.right;
      x = rightOffset;
    } else {
      const leftOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.right : this.anchorMargin_.left;
      x = leftOffset;
    }
    return x;
  }

  /**
   * @param {Corner} corner Origin corner of the menu.
   * @return {number} Vertical offset of menu origin corner from corresponding anchor corner.
   * @private
   */
  getVerticalOriginOffset_(corner) {
    const {viewport, viewportDistance, anchorHeight, menuHeight} = this.measures_;
    const isBottomAligned = Boolean(corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM);
    const {MARGIN_TO_EDGE} = MDCMenuFoundation.numbers;
    const avoidVerticalOverlap = Boolean(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM);
    const canOverlapVertically = !avoidVerticalOverlap;
    let y = 0;

    if (isBottomAligned) {
      y = avoidVerticalOverlap ? anchorHeight - this.anchorMargin_.top : -this.anchorMargin_.bottom;
      // adjust for when menu can overlap anchor, but too tall to be aligned to bottom
      // anchor corner. Bottom margin is ignored in such cases.
      if (canOverlapVertically && menuHeight > viewportDistance.top + anchorHeight) {
        y = -(Math.min(menuHeight, viewport.height - MARGIN_TO_EDGE) - (viewportDistance.top + anchorHeight));
      }
    } else {
      y = avoidVerticalOverlap ? (anchorHeight + this.anchorMargin_.bottom) : this.anchorMargin_.top;
      // adjust for when menu can overlap anchor, but too tall to be aligned to top
      // anchor corners. Top margin is ignored in that case.
      if (canOverlapVertically && menuHeight > viewportDistance.bottom + anchorHeight) {
        y = -(Math.min(menuHeight, viewport.height - MARGIN_TO_EDGE) - (viewportDistance.bottom + anchorHeight));
      }
    }
    return y;
  }

  /**
   * @param {Corner} corner Origin corner of the menu.
   * @return {number} Maximum height of the menu, based on available space. 0 indicates should not be set.
   * @private
   */
  getMenuMaxHeight_(corner) {
    let maxHeight = 0;
    const {viewportDistance} = this.measures_;
    const isBottomAligned = Boolean(corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM);

    // When maximum height is not specified, it is handled from css.
    if (this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM) {
      if (isBottomAligned) {
        maxHeight = viewportDistance.top + this.anchorMargin_.top;
      } else {
        maxHeight = viewportDistance.bottom - this.anchorMargin_.bottom;
      }
    }

    return maxHeight;
  }

  /** @private */
  autoPosition_() {
    if (!this.adapter_.hasAnchor()) {
      return;
    }

    // Compute measurements for autoposition methods reuse.
    this.measures_ = this.getAutoLayoutMeasurements_();

    const corner = this.getOriginCorner_();
    const maxMenuHeight = this.getMenuMaxHeight_(corner);
    let verticalAlignment = (corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM) ? 'bottom' : 'top';
    let horizontalAlignment = (corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].RIGHT) ? 'right' : 'left';
    const horizontalOffset = this.getHorizontalOriginOffset_(corner);
    const verticalOffset = this.getVerticalOriginOffset_(corner);
    const position = {
      [horizontalAlignment]: horizontalOffset ? horizontalOffset + 'px' : '0',
      [verticalAlignment]: verticalOffset ? verticalOffset + 'px' : '0',
    };
    const {anchorWidth, menuHeight, menuWidth} = this.measures_;
    // Center align when anchor width is comparable or greater than menu, otherwise keep corner.
    if (anchorWidth / menuWidth > _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].ANCHOR_TO_MENU_WIDTH_RATIO) {
      horizontalAlignment = 'center';
    }

    // Adjust vertical origin when menu is positioned with significant offset from anchor. This is done so that
    // scale animation is "anchored" on the anchor.
    if (!(this.anchorCorner_ & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM) &&
        Math.abs(verticalOffset / menuHeight) > _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].OFFSET_TO_MENU_HEIGHT_RATIO) {
      const verticalOffsetPercent = Math.abs(verticalOffset / menuHeight) * 100;
      const originPercent = (corner & _constants__WEBPACK_IMPORTED_MODULE_2__["CornerBit"].BOTTOM) ? 100 - verticalOffsetPercent : verticalOffsetPercent;
      verticalAlignment = Math.round(originPercent * 100) / 100 + '%';
    }

    this.adapter_.setTransformOrigin(`${horizontalAlignment} ${verticalAlignment}`);
    this.adapter_.setPosition(position);
    this.adapter_.setMaxHeight(maxMenuHeight ? maxMenuHeight + 'px' : '');

    // Clear measures after positioning is complete.
    this.measures_ = null;
  }

  /**
   * Open the menu.
   * @param {{focusIndex: ?number}=} options
   */
  open({focusIndex = null} = {}) {
    this.adapter_.saveFocus();

    if (!this.quickOpen_) {
      this.adapter_.addClass(MDCMenuFoundation.cssClasses.ANIMATING_OPEN);
    }

    this.animationRequestId_ = requestAnimationFrame(() => {
      this.dimensions_ = this.adapter_.getInnerDimensions();
      this.autoPosition_();
      this.adapter_.addClass(MDCMenuFoundation.cssClasses.OPEN);
      this.focusOnOpen_(focusIndex);
      this.adapter_.registerBodyClickHandler(this.documentClickHandler_);
      if (!this.quickOpen_) {
        this.openAnimationEndTimerId_ = setTimeout(() => {
          this.openAnimationEndTimerId_ = 0;
          this.adapter_.removeClass(MDCMenuFoundation.cssClasses.ANIMATING_OPEN);
        }, _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].TRANSITION_OPEN_DURATION);
      }
    });
    this.isOpen_ = true;
  }

  /**
   * Closes the menu.
   * @param {Event=} evt
   */
  close(evt = null) {
    const targetIsDisabled = evt ?
      this.adapter_.getAttributeForEventTarget(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARIA_DISABLED_ATTR) === 'true' :
      false;

    if (targetIsDisabled) {
      return;
    }

    this.adapter_.deregisterBodyClickHandler(this.documentClickHandler_);

    if (!this.quickOpen_) {
      this.adapter_.addClass(MDCMenuFoundation.cssClasses.ANIMATING_CLOSED);
    }

    requestAnimationFrame(() => {
      this.adapter_.removeClass(MDCMenuFoundation.cssClasses.OPEN);
      if (!this.quickOpen_) {
        this.closeAnimationEndTimerId_ = setTimeout(() => {
          this.closeAnimationEndTimerId_ = 0;
          this.adapter_.removeClass(MDCMenuFoundation.cssClasses.ANIMATING_CLOSED);
        }, _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].TRANSITION_CLOSE_DURATION);
      }
    });
    this.isOpen_ = false;
    this.adapter_.restoreFocus();
  }

  /** @return {boolean} */
  isOpen() {
    return this.isOpen_;
  }

  /** @return {number} */
  getSelectedIndex() {
    return this.selectedIndex_;
  }

  /**
   * @param {number} index Index of the item to set as selected.
   */
  setSelectedIndex(index) {
    if (index === this.selectedIndex_) {
      return;
    }

    const prevSelectedIndex = this.selectedIndex_;
    if (prevSelectedIndex >= 0) {
      this.adapter_.rmAttrForOptionAtIndex(prevSelectedIndex, 'aria-selected');
      this.adapter_.rmClassForOptionAtIndex(prevSelectedIndex, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED_LIST_ITEM);
    }

    this.selectedIndex_ = index >= 0 && index < this.adapter_.getNumberOfItems() ? index : -1;
    if (this.selectedIndex_ >= 0) {
      this.adapter_.setAttrForOptionAtIndex(this.selectedIndex_, 'aria-selected', 'true');
      this.adapter_.addClassForOptionAtIndex(this.selectedIndex_, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED_LIST_ITEM);
    }
  }
}




/***/ }),

/***/ "./node_modules/@material/menu/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@material/menu/index.js ***!
  \**********************************************/
/*! exports provided: MDCMenuFoundation, MDCMenu, AnchorMargin, Corner, CornerBit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCMenu", function() { return MDCMenu; });
/* harmony import */ var _material_base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/component */ "./node_modules/@material/base/component.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@material/menu/util.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/menu/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCMenuFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_2__["MDCMenuFoundation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnchorMargin", function() { return _foundation__WEBPACK_IMPORTED_MODULE_2__["AnchorMargin"]; });

/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/menu/constants.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Corner", function() { return _constants__WEBPACK_IMPORTED_MODULE_3__["Corner"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CornerBit", function() { return _constants__WEBPACK_IMPORTED_MODULE_3__["CornerBit"]; });

/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */






/**
 * @extends MDCComponent<!MDCMenuFoundation>
 */
class MDCMenu extends _material_base_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
  /** @param {...?} args */
  constructor(...args) {
    super(...args);
    /** @private {!Element} */
    this.previousFocus_;
  }

  /**
   * @param {!Element} root
   * @return {!MDCMenu}
   */
  static attachTo(root) {
    return new MDCMenu(root);
  }

  /** @return {boolean} */
  get open() {
    return this.foundation_.isOpen();
  }

  /** @param {boolean} value */
  set open(value) {
    if (value) {
      this.foundation_.open();
    } else {
      this.foundation_.close();
    }
  }

  /** @param {{focusIndex: ?number}=} options */
  show({focusIndex = null} = {}) {
    this.foundation_.open({focusIndex: focusIndex});
  }

  hide() {
    this.foundation_.close();
  }

  /**
   * @param {Corner} corner Default anchor corner alignment of top-left
   *     menu corner.
   */
  setAnchorCorner(corner) {
    this.foundation_.setAnchorCorner(corner);
  }

  /**
   * @param {AnchorMargin} margin
   */
  setAnchorMargin(margin) {
    this.foundation_.setAnchorMargin(margin);
  }

  /**
   * Return the item container element inside the component.
   * @return {?Element}
   */
  get itemsContainer_() {
    return this.root_.querySelector(_foundation__WEBPACK_IMPORTED_MODULE_2__["MDCMenuFoundation"].strings.ITEMS_SELECTOR);
  }

  /**
   * Return the items within the menu. Note that this only contains the set of elements within
   * the items container that are proper list items, and not supplemental / presentational DOM
   * elements.
   * @return {!Array<!Element>}
   */
  get items() {
    const {itemsContainer_: itemsContainer} = this;
    return [].slice.call(itemsContainer.querySelectorAll('.mdc-list-item[role]'));
  }

  /**
   * Return the item within the menu that is selected.
   * @param {number} index
   * @return {?Element}
   */
  getOptionByIndex(index) {
    const items = this.items;

    if (index < items.length) {
      return this.items[index];
    } else {
      return null;
    }
  }

  /** @param {number} index */
  set selectedItemIndex(index) {
    this.foundation_.setSelectedIndex(index);
  }

  /** @return {number} */
  get selectedItemIndex() {
    return this.foundation_.getSelectedIndex();
  }

  /** @param {!boolean} rememberSelection */
  set rememberSelection(rememberSelection) {
    this.foundation_.setRememberSelection(rememberSelection);
  }

  /** @param {boolean} quickOpen */
  set quickOpen(quickOpen) {
    this.foundation_.setQuickOpen(quickOpen);
  }

  /** @return {!MDCMenuFoundation} */
  getDefaultFoundation() {
    return new _foundation__WEBPACK_IMPORTED_MODULE_2__["MDCMenuFoundation"]({
      addClass: (className) => this.root_.classList.add(className),
      removeClass: (className) => this.root_.classList.remove(className),
      hasClass: (className) => this.root_.classList.contains(className),
      hasNecessaryDom: () => Boolean(this.itemsContainer_),
      getAttributeForEventTarget: (target, attributeName) => target.getAttribute(attributeName),
      getInnerDimensions: () => {
        const {itemsContainer_: itemsContainer} = this;
        return {width: itemsContainer.offsetWidth, height: itemsContainer.offsetHeight};
      },
      hasAnchor: () => this.root_.parentElement && this.root_.parentElement.classList.contains('mdc-menu-anchor'),
      getAnchorDimensions: () => this.root_.parentElement.getBoundingClientRect(),
      getWindowDimensions: () => {
        return {width: window.innerWidth, height: window.innerHeight};
      },
      getNumberOfItems: () => this.items.length,
      registerInteractionHandler: (type, handler) => this.root_.addEventListener(type, handler),
      deregisterInteractionHandler: (type, handler) => this.root_.removeEventListener(type, handler),
      registerBodyClickHandler: (handler) => document.body.addEventListener('click', handler),
      deregisterBodyClickHandler: (handler) => document.body.removeEventListener('click', handler),
      getIndexForEventTarget: (target) => this.items.indexOf(target),
      notifySelected: (evtData) => this.emit(_foundation__WEBPACK_IMPORTED_MODULE_2__["MDCMenuFoundation"].strings.SELECTED_EVENT, {
        index: evtData.index,
        item: this.items[evtData.index],
      }),
      notifyCancel: () => this.emit(_foundation__WEBPACK_IMPORTED_MODULE_2__["MDCMenuFoundation"].strings.CANCEL_EVENT, {}),
      saveFocus: () => {
        this.previousFocus_ = document.activeElement;
      },
      restoreFocus: () => {
        if (this.previousFocus_ && this.previousFocus_.focus) {
          this.previousFocus_.focus();
        }
      },
      isFocused: () => document.activeElement === this.root_,
      focus: () => this.root_.focus(),
      getFocusedItemIndex: () => this.items.indexOf(document.activeElement),
      focusItemAtIndex: (index) => this.items[index].focus(),
      isRtl: () => getComputedStyle(this.root_).getPropertyValue('direction') === 'rtl',
      setTransformOrigin: (origin) => {
        this.root_.style[`${Object(_util__WEBPACK_IMPORTED_MODULE_1__["getTransformPropertyName"])(window)}-origin`] = origin;
      },
      setPosition: (position) => {
        this.root_.style.left = 'left' in position ? position.left : null;
        this.root_.style.right = 'right' in position ? position.right : null;
        this.root_.style.top = 'top' in position ? position.top : null;
        this.root_.style.bottom = 'bottom' in position ? position.bottom : null;
      },
      setMaxHeight: (height) => {
        this.root_.style.maxHeight = height;
      },
      setAttrForOptionAtIndex: (index, attr, value) => this.items[index].setAttribute(attr, value),
      rmAttrForOptionAtIndex: (index, attr) => this.items[index].removeAttribute(attr),
      addClassForOptionAtIndex: (index, className) => this.items[index].classList.add(className),
      rmClassForOptionAtIndex: (index, className) => this.items[index].classList.remove(className),
    });
  }
}




/***/ }),

/***/ "./node_modules/@material/menu/util.js":
/*!*********************************************!*\
  !*** ./node_modules/@material/menu/util.js ***!
  \*********************************************/
/*! exports provided: getTransformPropertyName, clamp, bezierProgress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransformPropertyName", function() { return getTransformPropertyName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clamp", function() { return clamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bezierProgress", function() { return bezierProgress; });
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** @type {string|undefined} */
let storedTransformPropertyName_;

/**
 * Returns the name of the correct transform property to use on the current browser.
 * @param {!Window} globalObj
 * @param {boolean=} forceRefresh
 * @return {string}
 */
function getTransformPropertyName(globalObj, forceRefresh = false) {
  if (storedTransformPropertyName_ === undefined || forceRefresh) {
    const el = globalObj.document.createElement('div');
    const transformPropertyName = ('transform' in el.style ? 'transform' : 'webkitTransform');
    storedTransformPropertyName_ = transformPropertyName;
  }

  return storedTransformPropertyName_;
}

/**
 * Clamps a value between the minimum and the maximum, returning the clamped value.
 * @param {number} value
 * @param {number} min
 * @param {number} max
 * @return {number}
 */
function clamp(value, min = 0, max = 1) {
  return Math.min(max, Math.max(min, value));
}


/**
 * Returns the easing value to apply at time t, for a given cubic bezier curve.
 * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.
 * Parameters are as follows:
 * - time: The current time in the animation, scaled between 0 and 1.
 * - x1: The x value of control point P1.
 * - y1: The y value of control point P1.
 * - x2: The x value of control point P2.
 * - y2: The y value of control point P2.
 * @param {number} time
 * @param {number} x1
 * @param {number} y1
 * @param {number} x2
 * @param {number} y2
 * @return {number}
 */
function bezierProgress(time, x1, y1, x2, y2) {
  return getBezierCoordinate_(solvePositionFromXValue_(time, x1, x2), y1, y2);
}

/**
 * Compute a single coordinate at a position point between 0 and 1.
 * c1 and c2 are the matching coordinate on control points P1 and P2, respectively.
 * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.
 * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.
 * @param {number} t
 * @param {number} c1
 * @param {number} c2
 * @return {number}
 */
function getBezierCoordinate_(t, c1, c2) {
  // Special case start and end.
  if (t === 0 || t === 1) {
    return t;
  }

  // Step one - from 4 points to 3
  let ic0 = t * c1;
  let ic1 = c1 + t * (c2 - c1);
  const ic2 = c2 + t * (1 - c2);

  // Step two - from 3 points to 2
  ic0 += t * (ic1 - ic0);
  ic1 += t * (ic2 - ic1);

  // Final step - last point
  return ic0 + t * (ic1 - ic0);
}

/**
 * Project a point onto the Bezier curve, from a given X. Calculates the position t along the curve.
 * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.
 * @param {number} xVal
 * @param {number} x1
 * @param {number} x2
 * @return {number}
 */
function solvePositionFromXValue_(xVal, x1, x2) {
  const EPSILON = 1e-6;
  const MAX_ITERATIONS = 8;

  if (xVal <= 0) {
    return 0;
  } else if (xVal >= 1) {
    return 1;
  }

  // Initial estimate of t using linear interpolation.
  let t = xVal;

  // Try gradient descent to solve for t. If it works, it is very fast.
  let tMin = 0;
  let tMax = 1;
  let value = 0;
  for (let i = 0; i < MAX_ITERATIONS; i++) {
    value = getBezierCoordinate_(t, x1, x2);
    const derivative = (getBezierCoordinate_(t + EPSILON, x1, x2) - value) / EPSILON;
    if (Math.abs(value - xVal) < EPSILON) {
      return t;
    } else if (Math.abs(derivative) < EPSILON) {
      break;
    } else {
      if (value < xVal) {
        tMin = t;
      } else {
        tMax = t;
      }
      t -= (value - xVal) / derivative;
    }
  }

  // If the gradient descent got stuck in a local minimum, e.g. because
  // the derivative was close to 0, use a Dichotomy refinement instead.
  // We limit the number of interations to 8.
  for (let i = 0; Math.abs(value - xVal) > EPSILON && i < MAX_ITERATIONS; i++) {
    if (value < xVal) {
      tMin = t;
      t = (t + tMax) / 2;
    } else {
      tMax = t;
      t = (t + tMin) / 2;
    }
    value = getBezierCoordinate_(t, x1, x2);
  }
  return t;
}




/***/ }),

/***/ "./node_modules/@material/ripple/adapter.js":
/*!**************************************************!*\
  !*** ./node_modules/@material/ripple/adapter.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* eslint no-unused-vars: [2, {"args": "none"}] */

/**
 * Adapter for MDC Ripple. Provides an interface for managing
 * - classes
 * - dom
 * - CSS variables
 * - position
 * - dimensions
 * - scroll position
 * - event handlers
 * - unbounded, active and disabled states
 *
 * Additionally, provides type information for the adapter to the Closure
 * compiler.
 *
 * Implement this adapter for your framework of choice to delegate updates to
 * the component in your framework of choice. See architecture documentation
 * for more details.
 * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md
 *
 * @record
 */
class MDCRippleAdapter {
  /** @return {boolean} */
  browserSupportsCssVars() {}

  /** @return {boolean} */
  isUnbounded() {}

  /** @return {boolean} */
  isSurfaceActive() {}

  /** @return {boolean} */
  isSurfaceDisabled() {}

  /** @param {string} className */
  addClass(className) {}

  /** @param {string} className */
  removeClass(className) {}

  /** @param {!EventTarget} target */
  containsEventTarget(target) {}

  /**
   * @param {string} evtType
   * @param {!Function} handler
   */
  registerInteractionHandler(evtType, handler) {}

  /**
   * @param {string} evtType
   * @param {!Function} handler
   */
  deregisterInteractionHandler(evtType, handler) {}

  /**
   * @param {string} evtType
   * @param {!Function} handler
   */
  registerDocumentInteractionHandler(evtType, handler) {}

  /**
   * @param {string} evtType
   * @param {!Function} handler
   */
  deregisterDocumentInteractionHandler(evtType, handler) {}

  /**
   * @param {!Function} handler
   */
  registerResizeHandler(handler) {}

  /**
   * @param {!Function} handler
   */
  deregisterResizeHandler(handler) {}

  /**
   * @param {string} varName
   * @param {?number|string} value
   */
  updateCssVariable(varName, value) {}

  /** @return {!ClientRect} */
  computeBoundingRect() {}

  /** @return {{x: number, y: number}} */
  getWindowPageOffset() {}
}

/* harmony default export */ __webpack_exports__["default"] = (MDCRippleAdapter);


/***/ }),

/***/ "./node_modules/@material/ripple/constants.js":
/*!****************************************************!*\
  !*** ./node_modules/@material/ripple/constants.js ***!
  \****************************************************/
/*! exports provided: cssClasses, strings, numbers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numbers", function() { return numbers; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

const cssClasses = {
  // Ripple is a special case where the "root" component is really a "mixin" of sorts,
  // given that it's an 'upgrade' to an existing component. That being said it is the root
  // CSS class that all other CSS classes derive from.
  ROOT: 'mdc-ripple-upgraded',
  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',
  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',
  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',
  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',
};

const strings = {
  VAR_LEFT: '--mdc-ripple-left',
  VAR_TOP: '--mdc-ripple-top',
  VAR_FG_SIZE: '--mdc-ripple-fg-size',
  VAR_FG_SCALE: '--mdc-ripple-fg-scale',
  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',
  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',
};

const numbers = {
  PADDING: 10,
  INITIAL_ORIGIN_SCALE: 0.6,
  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)
  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)
  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices
};




/***/ }),

/***/ "./node_modules/@material/ripple/foundation.js":
/*!*****************************************************!*\
  !*** ./node_modules/@material/ripple/foundation.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/foundation */ "./node_modules/@material/base/foundation.js");
/* harmony import */ var _adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adapter */ "./node_modules/@material/ripple/adapter.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/ripple/constants.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ "./node_modules/@material/ripple/util.js");
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */






/**
 * @typedef {{
 *   isActivated: (boolean|undefined),
 *   hasDeactivationUXRun: (boolean|undefined),
 *   wasActivatedByPointer: (boolean|undefined),
 *   wasElementMadeActive: (boolean|undefined),
 *   activationEvent: Event,
 *   isProgrammatic: (boolean|undefined)
 * }}
 */
let ActivationStateType;

/**
 * @typedef {{
 *   activate: (string|undefined),
 *   deactivate: (string|undefined),
 *   focus: (string|undefined),
 *   blur: (string|undefined)
 * }}
 */
let ListenerInfoType;

/**
 * @typedef {{
 *   activate: function(!Event),
 *   deactivate: function(!Event),
 *   focus: function(),
 *   blur: function()
 * }}
 */
let ListenersType;

/**
 * @typedef {{
 *   x: number,
 *   y: number
 * }}
 */
let PointType;

// Activation events registered on the root element of each instance for activation
const ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];

// Deactivation events registered on documentElement when a pointer-related down event occurs
const POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup'];

// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations
/** @type {!Array<!EventTarget>} */
let activatedTargets = [];

/**
 * @extends {MDCFoundation<!MDCRippleAdapter>}
 */
class MDCRippleFoundation extends _material_base_foundation__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static get cssClasses() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"];
  }

  static get strings() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"];
  }

  static get numbers() {
    return _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"];
  }

  static get defaultAdapter() {
    return {
      browserSupportsCssVars: () => /* boolean - cached */ {},
      isUnbounded: () => /* boolean */ {},
      isSurfaceActive: () => /* boolean */ {},
      isSurfaceDisabled: () => /* boolean */ {},
      addClass: (/* className: string */) => {},
      removeClass: (/* className: string */) => {},
      containsEventTarget: (/* target: !EventTarget */) => {},
      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      registerResizeHandler: (/* handler: EventListener */) => {},
      deregisterResizeHandler: (/* handler: EventListener */) => {},
      updateCssVariable: (/* varName: string, value: string */) => {},
      computeBoundingRect: () => /* ClientRect */ {},
      getWindowPageOffset: () => /* {x: number, y: number} */ {},
    };
  }

  constructor(adapter) {
    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));

    /** @private {number} */
    this.layoutFrame_ = 0;

    /** @private {!ClientRect} */
    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});

    /** @private {!ActivationStateType} */
    this.activationState_ = this.defaultActivationState_();

    /** @private {number} */
    this.initialSize_ = 0;

    /** @private {number} */
    this.maxRadius_ = 0;

    /** @private {function(!Event)} */
    this.activateHandler_ = (e) => this.activate_(e);

    /** @private {function(!Event)} */
    this.deactivateHandler_ = (e) => this.deactivate_(e);

    /** @private {function(?Event=)} */
    this.focusHandler_ = () => requestAnimationFrame(
      () => this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED)
    );

    /** @private {function(?Event=)} */
    this.blurHandler_ = () => requestAnimationFrame(
      () => this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED)
    );

    /** @private {!Function} */
    this.resizeHandler_ = () => this.layout();

    /** @private {{left: number, top:number}} */
    this.unboundedCoords_ = {
      left: 0,
      top: 0,
    };

    /** @private {number} */
    this.fgScale_ = 0;

    /** @private {number} */
    this.activationTimer_ = 0;

    /** @private {number} */
    this.fgDeactivationRemovalTimer_ = 0;

    /** @private {boolean} */
    this.activationAnimationHasEnded_ = false;

    /** @private {!Function} */
    this.activationTimerCallback_ = () => {
      this.activationAnimationHasEnded_ = true;
      this.runDeactivationUXLogicIfReady_();
    };

    /** @private {?Event} */
    this.previousActivationEvent_ = null;
  }

  /**
   * We compute this property so that we are not querying information about the client
   * until the point in time where the foundation requests it. This prevents scenarios where
   * client-side feature-detection may happen too early, such as when components are rendered on the server
   * and then initialized at mount time on the client.
   * @return {boolean}
   * @private
   */
  isSupported_() {
    return this.adapter_.browserSupportsCssVars();
  }

  /**
   * @return {!ActivationStateType}
   */
  defaultActivationState_() {
    return {
      isActivated: false,
      hasDeactivationUXRun: false,
      wasActivatedByPointer: false,
      wasElementMadeActive: false,
      activationEvent: null,
      isProgrammatic: false,
    };
  }

  init() {
    if (!this.isSupported_()) {
      return;
    }
    this.registerRootHandlers_();

    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;
    requestAnimationFrame(() => {
      this.adapter_.addClass(ROOT);
      if (this.adapter_.isUnbounded()) {
        this.adapter_.addClass(UNBOUNDED);
        // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple
        this.layoutInternal_();
      }
    });
  }

  destroy() {
    if (!this.isSupported_()) {
      return;
    }

    if (this.activationTimer_) {
      clearTimeout(this.activationTimer_);
      this.activationTimer_ = 0;
      const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;
      this.adapter_.removeClass(FG_ACTIVATION);
    }

    this.deregisterRootHandlers_();
    this.deregisterDeactivationHandlers_();

    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;
    requestAnimationFrame(() => {
      this.adapter_.removeClass(ROOT);
      this.adapter_.removeClass(UNBOUNDED);
      this.removeCssVars_();
    });
  }

  /** @private */
  registerRootHandlers_() {
    ACTIVATION_EVENT_TYPES.forEach((type) => {
      this.adapter_.registerInteractionHandler(type, this.activateHandler_);
    });
    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);
    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);

    if (this.adapter_.isUnbounded()) {
      this.adapter_.registerResizeHandler(this.resizeHandler_);
    }
  }

  /**
   * @param {!Event} e
   * @private
   */
  registerDeactivationHandlers_(e) {
    if (e.type === 'keydown') {
      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);
    } else {
      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {
        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);
      });
    }
  }

  /** @private */
  deregisterRootHandlers_() {
    ACTIVATION_EVENT_TYPES.forEach((type) => {
      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);
    });
    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);
    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);

    if (this.adapter_.isUnbounded()) {
      this.adapter_.deregisterResizeHandler(this.resizeHandler_);
    }
  }

  /** @private */
  deregisterDeactivationHandlers_() {
    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);
    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {
      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);
    });
  }

  /** @private */
  removeCssVars_() {
    const {strings} = MDCRippleFoundation;
    Object.keys(strings).forEach((k) => {
      if (k.indexOf('VAR_') === 0) {
        this.adapter_.updateCssVariable(strings[k], null);
      }
    });
  }

  /**
   * @param {?Event} e
   * @private
   */
  activate_(e) {
    if (this.adapter_.isSurfaceDisabled()) {
      return;
    }

    const activationState = this.activationState_;
    if (activationState.isActivated) {
      return;
    }

    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction
    const previousActivationEvent = this.previousActivationEvent_;
    const isSameInteraction = previousActivationEvent && e && previousActivationEvent.type !== e.type;
    if (isSameInteraction) {
      return;
    }

    activationState.isActivated = true;
    activationState.isProgrammatic = e === null;
    activationState.activationEvent = e;
    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : (
      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'
    );

    const hasActivatedChild =
      e && activatedTargets.length > 0 && activatedTargets.some((target) => this.adapter_.containsEventTarget(target));
    if (hasActivatedChild) {
      // Immediately reset activation state, while preserving logic that prevents touch follow-on events
      this.resetActivationState_();
      return;
    }

    if (e) {
      activatedTargets.push(/** @type {!EventTarget} */ (e.target));
      this.registerDeactivationHandlers_(e);
    }

    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);
    if (activationState.wasElementMadeActive) {
      this.animateActivation_();
    }

    requestAnimationFrame(() => {
      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples
      activatedTargets = [];

      if (!activationState.wasElementMadeActive && (e.key === ' ' || e.keyCode === 32)) {
        // If space was pressed, try again within an rAF call to detect :active, because different UAs report
        // active states inconsistently when they're called within event handling code:
        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971
        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741
        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS
        // variable is set within a rAF callback for a submit button interaction (#2241).
        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);
        if (activationState.wasElementMadeActive) {
          this.animateActivation_();
        }
      }

      if (!activationState.wasElementMadeActive) {
        // Reset activation state immediately if element was not made active.
        this.activationState_ = this.defaultActivationState_();
      }
    });
  }

  /**
   * @param {?Event} e
   * @private
   */
  checkElementMadeActive_(e) {
    return (e && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;
  }

  /**
   * @param {?Event=} event Optional event containing position information.
   */
  activate(event = null) {
    this.activate_(event);
  }

  /** @private */
  animateActivation_() {
    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;
    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;
    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;

    this.layoutInternal_();

    let translateStart = '';
    let translateEnd = '';

    if (!this.adapter_.isUnbounded()) {
      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();
      translateStart = `${startPoint.x}px, ${startPoint.y}px`;
      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;
    }

    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);
    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);
    // Cancel any ongoing activation/deactivation animations
    clearTimeout(this.activationTimer_);
    clearTimeout(this.fgDeactivationRemovalTimer_);
    this.rmBoundedActivationClasses_();
    this.adapter_.removeClass(FG_DEACTIVATION);

    // Force layout in order to re-trigger the animation.
    this.adapter_.computeBoundingRect();
    this.adapter_.addClass(FG_ACTIVATION);
    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);
  }

  /**
   * @private
   * @return {{startPoint: PointType, endPoint: PointType}}
   */
  getFgTranslationCoordinates_() {
    const {activationEvent, wasActivatedByPointer} = this.activationState_;

    let startPoint;
    if (wasActivatedByPointer) {
      startPoint = Object(_util__WEBPACK_IMPORTED_MODULE_3__["getNormalizedEventCoords"])(
        /** @type {!Event} */ (activationEvent),
        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()
      );
    } else {
      startPoint = {
        x: this.frame_.width / 2,
        y: this.frame_.height / 2,
      };
    }
    // Center the element around the start point.
    startPoint = {
      x: startPoint.x - (this.initialSize_ / 2),
      y: startPoint.y - (this.initialSize_ / 2),
    };

    const endPoint = {
      x: (this.frame_.width / 2) - (this.initialSize_ / 2),
      y: (this.frame_.height / 2) - (this.initialSize_ / 2),
    };

    return {startPoint, endPoint};
  }

  /** @private */
  runDeactivationUXLogicIfReady_() {
    // This method is called both when a pointing device is released, and when the activation animation ends.
    // The deactivation animation should only run after both of those occur.
    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;
    const {hasDeactivationUXRun, isActivated} = this.activationState_;
    const activationHasEnded = hasDeactivationUXRun || !isActivated;

    if (activationHasEnded && this.activationAnimationHasEnded_) {
      this.rmBoundedActivationClasses_();
      this.adapter_.addClass(FG_DEACTIVATION);
      this.fgDeactivationRemovalTimer_ = setTimeout(() => {
        this.adapter_.removeClass(FG_DEACTIVATION);
      }, _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].FG_DEACTIVATION_MS);
    }
  }

  /** @private */
  rmBoundedActivationClasses_() {
    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;
    this.adapter_.removeClass(FG_ACTIVATION);
    this.activationAnimationHasEnded_ = false;
    this.adapter_.computeBoundingRect();
  }

  resetActivationState_() {
    this.previousActivationEvent_ = this.activationState_.activationEvent;
    this.activationState_ = this.defaultActivationState_();
    // Touch devices may fire additional events for the same interaction within a short time.
    // Store the previous event until it's safe to assume that subsequent events are for new interactions.
    setTimeout(() => this.previousActivationEvent_ = null, MDCRippleFoundation.numbers.TAP_DELAY_MS);
  }

  /**
   * @param {?Event} e
   * @private
   */
  deactivate_(e) {
    const activationState = this.activationState_;
    // This can happen in scenarios such as when you have a keyup event that blurs the element.
    if (!activationState.isActivated) {
      return;
    }

    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));

    if (activationState.isProgrammatic) {
      const evtObject = null;
      requestAnimationFrame(() => this.animateDeactivation_(evtObject, state));
      this.resetActivationState_();
    } else {
      this.deregisterDeactivationHandlers_();
      requestAnimationFrame(() => {
        this.activationState_.hasDeactivationUXRun = true;
        this.animateDeactivation_(e, state);
        this.resetActivationState_();
      });
    }
  }

  /**
   * @param {?Event=} event Optional event containing position information.
   */
  deactivate(event = null) {
    this.deactivate_(event);
  }

  /**
   * @param {Event} e
   * @param {!ActivationStateType} options
   * @private
   */
  animateDeactivation_(e, {wasActivatedByPointer, wasElementMadeActive}) {
    if (wasActivatedByPointer || wasElementMadeActive) {
      this.runDeactivationUXLogicIfReady_();
    }
  }

  layout() {
    if (this.layoutFrame_) {
      cancelAnimationFrame(this.layoutFrame_);
    }
    this.layoutFrame_ = requestAnimationFrame(() => {
      this.layoutInternal_();
      this.layoutFrame_ = 0;
    });
  }

  /** @private */
  layoutInternal_() {
    this.frame_ = this.adapter_.computeBoundingRect();
    const maxDim = Math.max(this.frame_.height, this.frame_.width);

    // Surface diameter is treated differently for unbounded vs. bounded ripples.
    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately
    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically
    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter
    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via
    // `overflow: hidden`.
    const getBoundedRadius = () => {
      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));
      return hypotenuse + MDCRippleFoundation.numbers.PADDING;
    };

    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();

    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform
    this.initialSize_ = maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE;
    this.fgScale_ = this.maxRadius_ / this.initialSize_;

    this.updateLayoutCssVars_();
  }

  /** @private */
  updateLayoutCssVars_() {
    const {
      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,
    } = MDCRippleFoundation.strings;

    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);
    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);

    if (this.adapter_.isUnbounded()) {
      this.unboundedCoords_ = {
        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),
        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),
      };

      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);
      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);
    }
  }

  /** @param {boolean} unbounded */
  setUnbounded(unbounded) {
    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;
    if (unbounded) {
      this.adapter_.addClass(UNBOUNDED);
    } else {
      this.adapter_.removeClass(UNBOUNDED);
    }
  }
}

/* harmony default export */ __webpack_exports__["default"] = (MDCRippleFoundation);


/***/ }),

/***/ "./node_modules/@material/ripple/index.js":
/*!************************************************!*\
  !*** ./node_modules/@material/ripple/index.js ***!
  \************************************************/
/*! exports provided: MDCRipple, MDCRippleFoundation, RippleCapableSurface, util */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCRipple", function() { return MDCRipple; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RippleCapableSurface", function() { return RippleCapableSurface; });
/* harmony import */ var _material_base_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/component */ "./node_modules/@material/base/component.js");
/* harmony import */ var _adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adapter */ "./node_modules/@material/ripple/adapter.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/ripple/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCRippleFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ "./node_modules/@material/ripple/util.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "util", function() { return _util__WEBPACK_IMPORTED_MODULE_3__; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */






/**
 * @extends MDCComponent<!MDCRippleFoundation>
 */
class MDCRipple extends _material_base_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
  /** @param {...?} args */
  constructor(...args) {
    super(...args);

    /** @type {boolean} */
    this.disabled = false;

    /** @private {boolean} */
    this.unbounded_;
  }

  /**
   * @param {!Element} root
   * @param {{isUnbounded: (boolean|undefined)}=} options
   * @return {!MDCRipple}
   */
  static attachTo(root, {isUnbounded = undefined} = {}) {
    const ripple = new MDCRipple(root);
    // Only override unbounded behavior if option is explicitly specified
    if (isUnbounded !== undefined) {
      ripple.unbounded = /** @type {boolean} */ (isUnbounded);
    }
    return ripple;
  }

  /**
   * @param {!RippleCapableSurface} instance
   * @return {!MDCRippleAdapter}
   */
  static createAdapter(instance) {
    const MATCHES = _util__WEBPACK_IMPORTED_MODULE_3__["getMatchesProperty"](HTMLElement.prototype);

    return {
      browserSupportsCssVars: () => _util__WEBPACK_IMPORTED_MODULE_3__["supportsCssVariables"](window),
      isUnbounded: () => instance.unbounded,
      isSurfaceActive: () => instance.root_[MATCHES](':active'),
      isSurfaceDisabled: () => instance.disabled,
      addClass: (className) => instance.root_.classList.add(className),
      removeClass: (className) => instance.root_.classList.remove(className),
      containsEventTarget: (target) => instance.root_.contains(target),
      registerInteractionHandler: (evtType, handler) =>
        instance.root_.addEventListener(evtType, handler, _util__WEBPACK_IMPORTED_MODULE_3__["applyPassive"]()),
      deregisterInteractionHandler: (evtType, handler) =>
        instance.root_.removeEventListener(evtType, handler, _util__WEBPACK_IMPORTED_MODULE_3__["applyPassive"]()),
      registerDocumentInteractionHandler: (evtType, handler) =>
        document.documentElement.addEventListener(evtType, handler, _util__WEBPACK_IMPORTED_MODULE_3__["applyPassive"]()),
      deregisterDocumentInteractionHandler: (evtType, handler) =>
        document.documentElement.removeEventListener(evtType, handler, _util__WEBPACK_IMPORTED_MODULE_3__["applyPassive"]()),
      registerResizeHandler: (handler) => window.addEventListener('resize', handler),
      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),
      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),
      computeBoundingRect: () => instance.root_.getBoundingClientRect(),
      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),
    };
  }

  /** @return {boolean} */
  get unbounded() {
    return this.unbounded_;
  }

  /** @param {boolean} unbounded */
  set unbounded(unbounded) {
    this.unbounded_ = Boolean(unbounded);
    this.setUnbounded_();
  }

  /**
   * Closure Compiler throws an access control error when directly accessing a
   * protected or private property inside a getter/setter, like unbounded above.
   * By accessing the protected property inside a method, we solve that problem.
   * That's why this function exists.
   * @private
   */
  setUnbounded_() {
    this.foundation_.setUnbounded(this.unbounded_);
  }

  activate() {
    this.foundation_.activate();
  }

  deactivate() {
    this.foundation_.deactivate();
  }

  layout() {
    this.foundation_.layout();
  }

  /** @return {!MDCRippleFoundation} */
  getDefaultFoundation() {
    return new _foundation__WEBPACK_IMPORTED_MODULE_2__["default"](MDCRipple.createAdapter(this));
  }

  initialSyncWithDOM() {
    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;
  }
}

/**
 * See Material Design spec for more details on when to use ripples.
 * https://material.io/guidelines/motion/choreography.html#choreography-creation
 * @record
 */
class RippleCapableSurface {}

/** @protected {!Element} */
RippleCapableSurface.prototype.root_;

/**
 * Whether or not the ripple bleeds out of the bounds of the element.
 * @type {boolean|undefined}
 */
RippleCapableSurface.prototype.unbounded;

/**
 * Whether or not the ripple is attached to a disabled component.
 * @type {boolean|undefined}
 */
RippleCapableSurface.prototype.disabled;




/***/ }),

/***/ "./node_modules/@material/ripple/util.js":
/*!***********************************************!*\
  !*** ./node_modules/@material/ripple/util.js ***!
  \***********************************************/
/*! exports provided: supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCssVariables", function() { return supportsCssVariables; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyPassive", function() { return applyPassive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMatchesProperty", function() { return getMatchesProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNormalizedEventCoords", function() { return getNormalizedEventCoords; });
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.
 * @private {boolean|undefined}
 */
let supportsCssVariables_;

/**
 * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.
 * @private {boolean|undefined}
 */
let supportsPassive_;

/**
 * @param {!Window} windowObj
 * @return {boolean}
 */
function detectEdgePseudoVarBug(windowObj) {
  // Detect versions of Edge with buggy var() support
  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/
  const document = windowObj.document;
  const node = document.createElement('div');
  node.className = 'mdc-ripple-surface--test-edge-var-bug';
  document.body.appendChild(node);

  // The bug exists if ::before style ends up propagating to the parent element.
  // Additionally, getComputedStyle returns null in iframes with display: "none" in Firefox,
  // but Firefox is known to support CSS custom properties correctly.
  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397
  const computedStyle = windowObj.getComputedStyle(node);
  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';
  node.remove();
  return hasPseudoVarBug;
}

/**
 * @param {!Window} windowObj
 * @param {boolean=} forceRefresh
 * @return {boolean|undefined}
 */

function supportsCssVariables(windowObj, forceRefresh = false) {
  let supportsCssVariables = supportsCssVariables_;
  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {
    return supportsCssVariables;
  }

  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';
  if (!supportsFunctionPresent) {
    return;
  }

  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');
  // See: https://bugs.webkit.org/show_bug.cgi?id=154669
  // See: README section on Safari
  const weAreFeatureDetectingSafari10plus = (
    windowObj.CSS.supports('(--css-vars: yes)') &&
    windowObj.CSS.supports('color', '#00000000')
  );

  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {
    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);
  } else {
    supportsCssVariables = false;
  }

  if (!forceRefresh) {
    supportsCssVariables_ = supportsCssVariables;
  }
  return supportsCssVariables;
}

//
/**
 * Determine whether the current browser supports passive event listeners, and if so, use them.
 * @param {!Window=} globalObj
 * @param {boolean=} forceRefresh
 * @return {boolean|{passive: boolean}}
 */
function applyPassive(globalObj = window, forceRefresh = false) {
  if (supportsPassive_ === undefined || forceRefresh) {
    let isSupported = false;
    try {
      globalObj.document.addEventListener('test', null, {get passive() {
        isSupported = true;
      }});
    } catch (e) { }

    supportsPassive_ = isSupported;
  }

  return supportsPassive_ ? {passive: true} : false;
}

/**
 * @param {!Object} HTMLElementPrototype
 * @return {!Array<string>}
 */
function getMatchesProperty(HTMLElementPrototype) {
  return [
    'webkitMatchesSelector', 'msMatchesSelector', 'matches',
  ].filter((p) => p in HTMLElementPrototype).pop();
}

/**
 * @param {!Event} ev
 * @param {{x: number, y: number}} pageOffset
 * @param {!ClientRect} clientRect
 * @return {{x: number, y: number}}
 */
function getNormalizedEventCoords(ev, pageOffset, clientRect) {
  const {x, y} = pageOffset;
  const documentX = x + clientRect.left;
  const documentY = y + clientRect.top;

  let normalizedX;
  let normalizedY;
  // Determine touch point relative to the ripple container.
  if (ev.type === 'touchstart') {
    normalizedX = ev.changedTouches[0].pageX - documentX;
    normalizedY = ev.changedTouches[0].pageY - documentY;
  } else {
    normalizedX = ev.pageX - documentX;
    normalizedY = ev.pageY - documentY;
  }

  return {x: normalizedX, y: normalizedY};
}




/***/ }),

/***/ "./node_modules/@material/snackbar/constants.js":
/*!******************************************************!*\
  !*** ./node_modules/@material/snackbar/constants.js ***!
  \******************************************************/
/*! exports provided: cssClasses, strings, numbers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numbers", function() { return numbers; });
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const cssClasses = {
  ROOT: 'mdc-snackbar',
  TEXT: 'mdc-snackbar__text',
  ACTION_WRAPPER: 'mdc-snackbar__action-wrapper',
  ACTION_BUTTON: 'mdc-snackbar__action-button',
  ACTIVE: 'mdc-snackbar--active',
  MULTILINE: 'mdc-snackbar--multiline',
  ACTION_ON_BOTTOM: 'mdc-snackbar--action-on-bottom',
};

const strings = {
  TEXT_SELECTOR: '.mdc-snackbar__text',
  ACTION_WRAPPER_SELECTOR: '.mdc-snackbar__action-wrapper',
  ACTION_BUTTON_SELECTOR: '.mdc-snackbar__action-button',
  SHOW_EVENT: 'MDCSnackbar:show',
  HIDE_EVENT: 'MDCSnackbar:hide',
};

const numbers = {
  MESSAGE_TIMEOUT: 2750,
};


/***/ }),

/***/ "./node_modules/@material/snackbar/foundation.js":
/*!*******************************************************!*\
  !*** ./node_modules/@material/snackbar/foundation.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MDCSnackbarFoundation; });
/* harmony import */ var _material_base_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/index */ "./node_modules/@material/base/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/snackbar/constants.js");
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */




class MDCSnackbarFoundation extends _material_base_index__WEBPACK_IMPORTED_MODULE_0__["MDCFoundation"] {
  static get cssClasses() {
    return _constants__WEBPACK_IMPORTED_MODULE_1__["cssClasses"];
  }

  static get strings() {
    return _constants__WEBPACK_IMPORTED_MODULE_1__["strings"];
  }

  static get defaultAdapter() {
    return {
      addClass: (/* className: string */) => {},
      removeClass: (/* className: string */) => {},
      setAriaHidden: () => {},
      unsetAriaHidden: () => {},
      setActionAriaHidden: () => {},
      unsetActionAriaHidden: () => {},
      setActionText: (/* actionText: string */) => {},
      setMessageText: (/* message: string */) => {},
      setFocus: () => {},
      visibilityIsHidden: () => /* boolean */ false,
      registerCapturedBlurHandler: (/* handler: EventListener */) => {},
      deregisterCapturedBlurHandler: (/* handler: EventListener */) => {},
      registerVisibilityChangeHandler: (/* handler: EventListener */) => {},
      deregisterVisibilityChangeHandler: (/* handler: EventListener */) => {},
      registerCapturedInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      deregisterCapturedInteractionHandler: (/* evtType: string, handler: EventListener */) => {},
      registerActionClickHandler: (/* handler: EventListener */) => {},
      deregisterActionClickHandler: (/* handler: EventListener */) => {},
      registerTransitionEndHandler: (/* handler: EventListener */) => {},
      deregisterTransitionEndHandler: (/* handler: EventListener */) => {},
      notifyShow: () => {},
      notifyHide: () => {},
    };
  }

  get active() {
    return this.active_;
  }

  constructor(adapter) {
    super(Object.assign(MDCSnackbarFoundation.defaultAdapter, adapter));

    this.active_ = false;
    this.actionWasClicked_ = false;
    this.dismissOnAction_ = true;
    this.firstFocus_ = true;
    this.pointerDownRecognized_ = false;
    this.snackbarHasFocus_ = false;
    this.snackbarData_ = null;
    this.queue_ = [];
    this.actionClickHandler_ = () => {
      this.actionWasClicked_ = true;
      this.invokeAction_();
    };
    this.visibilitychangeHandler_ = () => {
      clearTimeout(this.timeoutId_);
      this.snackbarHasFocus_ = true;

      if (!this.adapter_.visibilityIsHidden()) {
        setTimeout(this.cleanup_.bind(this), this.snackbarData_.timeout || _constants__WEBPACK_IMPORTED_MODULE_1__["numbers"].MESSAGE_TIMEOUT);
      }
    };
    this.interactionHandler_ = (evt) => {
      if (evt.type == 'touchstart' || evt.type == 'mousedown') {
        this.pointerDownRecognized_ = true;
      }
      this.handlePossibleTabKeyboardFocus_(evt);

      if (evt.type == 'focus') {
        this.pointerDownRecognized_ = false;
      }
    };
    this.blurHandler_ = () => {
      clearTimeout(this.timeoutId_);
      this.snackbarHasFocus_ = false;
      this.timeoutId_ = setTimeout(this.cleanup_.bind(this), this.snackbarData_.timeout || _constants__WEBPACK_IMPORTED_MODULE_1__["numbers"].MESSAGE_TIMEOUT);
    };
  }

  init() {
    this.adapter_.registerActionClickHandler(this.actionClickHandler_);
    this.adapter_.setAriaHidden();
    this.adapter_.setActionAriaHidden();
  }

  destroy() {
    this.adapter_.deregisterActionClickHandler(this.actionClickHandler_);
    this.adapter_.deregisterCapturedBlurHandler(this.blurHandler_);
    this.adapter_.deregisterVisibilityChangeHandler(this.visibilitychangeHandler_);
    ['touchstart', 'mousedown', 'focus'].forEach((evtType) => {
      this.adapter_.deregisterCapturedInteractionHandler(evtType, this.interactionHandler_);
    });
  }

  dismissesOnAction() {
    return this.dismissOnAction_;
  }

  setDismissOnAction(dismissOnAction) {
    this.dismissOnAction_ = !!dismissOnAction;
  }

  show(data) {
    if (!data) {
      throw new Error(
        'Please provide a data object with at least a message to display.');
    }
    if (!data.message) {
      throw new Error('Please provide a message to be displayed.');
    }
    if (data.actionHandler && !data.actionText) {
      throw new Error('Please provide action text with the handler.');
    }
    if (this.active) {
      this.queue_.push(data);
      return;
    }
    clearTimeout(this.timeoutId_);
    this.snackbarData_ = data;
    this.firstFocus_ = true;
    this.adapter_.registerVisibilityChangeHandler(this.visibilitychangeHandler_);
    this.adapter_.registerCapturedBlurHandler(this.blurHandler_);
    ['touchstart', 'mousedown', 'focus'].forEach((evtType) => {
      this.adapter_.registerCapturedInteractionHandler(evtType, this.interactionHandler_);
    });

    const {ACTIVE, MULTILINE, ACTION_ON_BOTTOM} = _constants__WEBPACK_IMPORTED_MODULE_1__["cssClasses"];

    this.adapter_.setMessageText(this.snackbarData_.message);

    if (this.snackbarData_.multiline) {
      this.adapter_.addClass(MULTILINE);
      if (this.snackbarData_.actionOnBottom) {
        this.adapter_.addClass(ACTION_ON_BOTTOM);
      }
    }

    if (this.snackbarData_.actionHandler) {
      this.adapter_.setActionText(this.snackbarData_.actionText);
      this.actionHandler_ = this.snackbarData_.actionHandler;
      this.setActionHidden_(false);
    } else {
      this.setActionHidden_(true);
      this.actionHandler_ = null;
      this.adapter_.setActionText(null);
    }

    this.active_ = true;
    this.adapter_.addClass(ACTIVE);
    this.adapter_.unsetAriaHidden();
    this.adapter_.notifyShow();

    this.timeoutId_ = setTimeout(this.cleanup_.bind(this), this.snackbarData_.timeout || _constants__WEBPACK_IMPORTED_MODULE_1__["numbers"].MESSAGE_TIMEOUT);
  }

  handlePossibleTabKeyboardFocus_() {
    const hijackFocus =
      this.firstFocus_ && !this.pointerDownRecognized_;

    if (hijackFocus) {
      this.setFocusOnAction_();
    }

    this.firstFocus_ = false;
  }

  setFocusOnAction_() {
    this.adapter_.setFocus();
    this.snackbarHasFocus_ = true;
    this.firstFocus_ = false;
  }

  invokeAction_() {
    try {
      if (!this.actionHandler_) {
        return;
      }

      this.actionHandler_();
    } finally {
      if (this.dismissOnAction_) {
        this.cleanup_();
      }
    }
  }

  cleanup_() {
    const allowDismissal = !this.snackbarHasFocus_ || this.actionWasClicked_;

    if (allowDismissal) {
      const {ACTIVE, MULTILINE, ACTION_ON_BOTTOM} = _constants__WEBPACK_IMPORTED_MODULE_1__["cssClasses"];

      this.adapter_.removeClass(ACTIVE);

      const handler = () => {
        clearTimeout(this.timeoutId_);
        this.adapter_.deregisterTransitionEndHandler(handler);
        this.adapter_.removeClass(MULTILINE);
        this.adapter_.removeClass(ACTION_ON_BOTTOM);
        this.setActionHidden_(true);
        this.adapter_.setAriaHidden();
        this.active_ = false;
        this.snackbarHasFocus_ = false;
        this.adapter_.notifyHide();
        this.showNext_();
      };

      this.adapter_.registerTransitionEndHandler(handler);
    }
  }

  showNext_() {
    if (!this.queue_.length) {
      return;
    }
    this.show(this.queue_.shift());
  }

  setActionHidden_(isHidden) {
    if (isHidden) {
      this.adapter_.setActionAriaHidden();
    } else {
      this.adapter_.unsetActionAriaHidden();
    }
  }
}


/***/ }),

/***/ "./node_modules/@material/snackbar/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@material/snackbar/index.js ***!
  \**************************************************/
/*! exports provided: MDCSnackbarFoundation, MDCSnackbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCSnackbar", function() { return MDCSnackbar; });
/* harmony import */ var _material_base_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/base/index */ "./node_modules/@material/base/index.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/snackbar/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCSnackbarFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _material_animation_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/animation/index */ "./node_modules/@material/animation/index.js");
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */







class MDCSnackbar extends _material_base_index__WEBPACK_IMPORTED_MODULE_0__["MDCComponent"] {
  static attachTo(root) {
    return new MDCSnackbar(root);
  }

  show(data) {
    this.foundation_.show(data);
  }

  getDefaultFoundation() {
    const {
      TEXT_SELECTOR,
      ACTION_BUTTON_SELECTOR,
    } = _foundation__WEBPACK_IMPORTED_MODULE_1__["default"].strings;
    const getText = () => this.root_.querySelector(TEXT_SELECTOR);
    const getActionButton = () => this.root_.querySelector(ACTION_BUTTON_SELECTOR);

    /* eslint brace-style: "off" */
    return new _foundation__WEBPACK_IMPORTED_MODULE_1__["default"]({
      addClass: (className) => this.root_.classList.add(className),
      removeClass: (className) => this.root_.classList.remove(className),
      setAriaHidden: () => this.root_.setAttribute('aria-hidden', 'true'),
      unsetAriaHidden: () => this.root_.removeAttribute('aria-hidden'),
      setActionAriaHidden: () => getActionButton().setAttribute('aria-hidden', 'true'),
      unsetActionAriaHidden: () => getActionButton().removeAttribute('aria-hidden'),
      setActionText: (text) => {getActionButton().textContent = text;},
      setMessageText: (text) => {getText().textContent = text;},
      setFocus: () => getActionButton().focus(),
      visibilityIsHidden: () => document.hidden,
      registerCapturedBlurHandler: (handler) => getActionButton().addEventListener('blur', handler, true),
      deregisterCapturedBlurHandler: (handler) => getActionButton().removeEventListener('blur', handler, true),
      registerVisibilityChangeHandler: (handler) => document.addEventListener('visibilitychange', handler),
      deregisterVisibilityChangeHandler: (handler) => document.removeEventListener('visibilitychange', handler),
      registerCapturedInteractionHandler: (evt, handler) =>
        document.body.addEventListener(evt, handler, true),
      deregisterCapturedInteractionHandler: (evt, handler) =>
        document.body.removeEventListener(evt, handler, true),
      registerActionClickHandler: (handler) => getActionButton().addEventListener('click', handler),
      deregisterActionClickHandler: (handler) => getActionButton().removeEventListener('click', handler),
      registerTransitionEndHandler:
        (handler) => this.root_.addEventListener(Object(_material_animation_index__WEBPACK_IMPORTED_MODULE_2__["getCorrectEventName"])(window, 'transitionend'), handler),
      deregisterTransitionEndHandler:
        (handler) => this.root_.removeEventListener(Object(_material_animation_index__WEBPACK_IMPORTED_MODULE_2__["getCorrectEventName"])(window, 'transitionend'), handler),
      notifyShow: () => this.emit(_foundation__WEBPACK_IMPORTED_MODULE_1__["default"].strings.SHOW_EVENT),
      notifyHide: () => this.emit(_foundation__WEBPACK_IMPORTED_MODULE_1__["default"].strings.HIDE_EVENT),
    });
  }

  get dismissesOnAction() {
    return this.foundation_.dismissesOnAction();
  }

  set dismissesOnAction(dismissesOnAction) {
    this.foundation_.setDismissOnAction(dismissesOnAction);
  }
}


/***/ }),

/***/ "./node_modules/axios/index.js":
/*!*************************************!*\
  !*** ./node_modules/axios/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./lib/axios */ "./node_modules/axios/lib/axios.js");

/***/ }),

/***/ "./node_modules/axios/lib/adapters/xhr.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/adapters/xhr.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var settle = __webpack_require__(/*! ./../core/settle */ "./node_modules/axios/lib/core/settle.js");
var buildURL = __webpack_require__(/*! ./../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");
var parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ "./node_modules/axios/lib/helpers/parseHeaders.js");
var isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ "./node_modules/axios/lib/helpers/isURLSameOrigin.js");
var createError = __webpack_require__(/*! ../core/createError */ "./node_modules/axios/lib/core/createError.js");
var btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(/*! ./../helpers/btoa */ "./node_modules/axios/lib/helpers/btoa.js");

module.exports = function xhrAdapter(config) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    var requestData = config.data;
    var requestHeaders = config.headers;

    if (utils.isFormData(requestData)) {
      delete requestHeaders['Content-Type']; // Let the browser set it
    }

    var request = new XMLHttpRequest();
    var loadEvent = 'onreadystatechange';
    var xDomain = false;

    // For IE 8/9 CORS support
    // Only supports POST and GET calls and doesn't returns the response headers.
    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.
    if ("development" !== 'test' &&
        typeof window !== 'undefined' &&
        window.XDomainRequest && !('withCredentials' in request) &&
        !isURLSameOrigin(config.url)) {
      request = new window.XDomainRequest();
      loadEvent = 'onload';
      xDomain = true;
      request.onprogress = function handleProgress() {};
      request.ontimeout = function handleTimeout() {};
    }

    // HTTP basic authentication
    if (config.auth) {
      var username = config.auth.username || '';
      var password = config.auth.password || '';
      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);
    }

    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);

    // Set the request timeout in MS
    request.timeout = config.timeout;

    // Listen for ready state
    request[loadEvent] = function handleLoad() {
      if (!request || (request.readyState !== 4 && !xDomain)) {
        return;
      }

      // The request errored out and we didn't get a response, this will be
      // handled by onerror instead
      // With one exception: request that using file: protocol, most browsers
      // will return status as 0 even though it's a successful request
      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
        return;
      }

      // Prepare the response
      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;
      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;
      var response = {
        data: responseData,
        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)
        status: request.status === 1223 ? 204 : request.status,
        statusText: request.status === 1223 ? 'No Content' : request.statusText,
        headers: responseHeaders,
        config: config,
        request: request
      };

      settle(resolve, reject, response);

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(createError('Network Error', config, null, request));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',
        request));

      // Clean up request
      request = null;
    };

    // Add xsrf header
    // This is only done if running in a standard browser environment.
    // Specifically not if we're in a web worker, or react-native.
    if (utils.isStandardBrowserEnv()) {
      var cookies = __webpack_require__(/*! ./../helpers/cookies */ "./node_modules/axios/lib/helpers/cookies.js");

      // Add xsrf header
      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?
          cookies.read(config.xsrfCookieName) :
          undefined;

      if (xsrfValue) {
        requestHeaders[config.xsrfHeaderName] = xsrfValue;
      }
    }

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils.forEach(requestHeaders, function setRequestHeader(val, key) {
        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {
          // Remove Content-Type if data is undefined
          delete requestHeaders[key];
        } else {
          // Otherwise add header to the request
          request.setRequestHeader(key, val);
        }
      });
    }

    // Add withCredentials to request if needed
    if (config.withCredentials) {
      request.withCredentials = true;
    }

    // Add responseType to request if needed
    if (config.responseType) {
      try {
        request.responseType = config.responseType;
      } catch (e) {
        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.
        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.
        if (config.responseType !== 'json') {
          throw e;
        }
      }
    }

    // Handle progress if needed
    if (typeof config.onDownloadProgress === 'function') {
      request.addEventListener('progress', config.onDownloadProgress);
    }

    // Not all browsers support upload events
    if (typeof config.onUploadProgress === 'function' && request.upload) {
      request.upload.addEventListener('progress', config.onUploadProgress);
    }

    if (config.cancelToken) {
      // Handle cancellation
      config.cancelToken.promise.then(function onCanceled(cancel) {
        if (!request) {
          return;
        }

        request.abort();
        reject(cancel);
        // Clean up request
        request = null;
      });
    }

    if (requestData === undefined) {
      requestData = null;
    }

    // Send the request
    request.send(requestData);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/axios.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/axios.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");
var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");
var Axios = __webpack_require__(/*! ./core/Axios */ "./node_modules/axios/lib/core/Axios.js");
var defaults = __webpack_require__(/*! ./defaults */ "./node_modules/axios/lib/defaults.js");

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 * @return {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  var context = new Axios(defaultConfig);
  var instance = bind(Axios.prototype.request, context);

  // Copy axios.prototype to instance
  utils.extend(instance, Axios.prototype, context);

  // Copy context to instance
  utils.extend(instance, context);

  return instance;
}

// Create the default instance to be exported
var axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios;

// Factory for creating new instances
axios.create = function create(instanceConfig) {
  return createInstance(utils.merge(defaults, instanceConfig));
};

// Expose Cancel & CancelToken
axios.Cancel = __webpack_require__(/*! ./cancel/Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");
axios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ "./node_modules/axios/lib/cancel/CancelToken.js");
axios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");

// Expose all/spread
axios.all = function all(promises) {
  return Promise.all(promises);
};
axios.spread = __webpack_require__(/*! ./helpers/spread */ "./node_modules/axios/lib/helpers/spread.js");

module.exports = axios;

// Allow use of default import syntax in TypeScript
module.exports.default = axios;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/Cancel.js":
/*!*************************************************!*\
  !*** ./node_modules/axios/lib/cancel/Cancel.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * A `Cancel` is an object that is thrown when an operation is canceled.
 *
 * @class
 * @param {string=} message The message.
 */
function Cancel(message) {
  this.message = message;
}

Cancel.prototype.toString = function toString() {
  return 'Cancel' + (this.message ? ': ' + this.message : '');
};

Cancel.prototype.__CANCEL__ = true;

module.exports = Cancel;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/CancelToken.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Cancel = __webpack_require__(/*! ./Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @class
 * @param {Function} executor The executor function.
 */
function CancelToken(executor) {
  if (typeof executor !== 'function') {
    throw new TypeError('executor must be a function.');
  }

  var resolvePromise;
  this.promise = new Promise(function promiseExecutor(resolve) {
    resolvePromise = resolve;
  });

  var token = this;
  executor(function cancel(message) {
    if (token.reason) {
      // Cancellation has already been requested
      return;
    }

    token.reason = new Cancel(message);
    resolvePromise(token.reason);
  });
}

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
CancelToken.prototype.throwIfRequested = function throwIfRequested() {
  if (this.reason) {
    throw this.reason;
  }
};

/**
 * Returns an object that contains a new `CancelToken` and a function that, when called,
 * cancels the `CancelToken`.
 */
CancelToken.source = function source() {
  var cancel;
  var token = new CancelToken(function executor(c) {
    cancel = c;
  });
  return {
    token: token,
    cancel: cancel
  };
};

module.exports = CancelToken;


/***/ }),

/***/ "./node_modules/axios/lib/cancel/isCancel.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function isCancel(value) {
  return !!(value && value.__CANCEL__);
};


/***/ }),

/***/ "./node_modules/axios/lib/core/Axios.js":
/*!**********************************************!*\
  !*** ./node_modules/axios/lib/core/Axios.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var defaults = __webpack_require__(/*! ./../defaults */ "./node_modules/axios/lib/defaults.js");
var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ "./node_modules/axios/lib/core/InterceptorManager.js");
var dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ "./node_modules/axios/lib/core/dispatchRequest.js");

/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 */
function Axios(instanceConfig) {
  this.defaults = instanceConfig;
  this.interceptors = {
    request: new InterceptorManager(),
    response: new InterceptorManager()
  };
}

/**
 * Dispatch a request
 *
 * @param {Object} config The config specific for this request (merged with this.defaults)
 */
Axios.prototype.request = function request(config) {
  /*eslint no-param-reassign:0*/
  // Allow for axios('example/url'[, config]) a la fetch API
  if (typeof config === 'string') {
    config = utils.merge({
      url: arguments[0]
    }, arguments[1]);
  }

  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);
  config.method = config.method.toLowerCase();

  // Hook up interceptors middleware
  var chain = [dispatchRequest, undefined];
  var promise = Promise.resolve(config);

  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
    chain.unshift(interceptor.fulfilled, interceptor.rejected);
  });

  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
    chain.push(interceptor.fulfilled, interceptor.rejected);
  });

  while (chain.length) {
    promise = promise.then(chain.shift(), chain.shift());
  }

  return promise;
};

// Provide aliases for supported request methods
utils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function(url, config) {
    return this.request(utils.merge(config || {}, {
      method: method,
      url: url
    }));
  };
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function(url, data, config) {
    return this.request(utils.merge(config || {}, {
      method: method,
      url: url,
      data: data
    }));
  };
});

module.exports = Axios;


/***/ }),

/***/ "./node_modules/axios/lib/core/InterceptorManager.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function InterceptorManager() {
  this.handlers = [];
}

/**
 * Add a new interceptor to the stack
 *
 * @param {Function} fulfilled The function to handle `then` for a `Promise`
 * @param {Function} rejected The function to handle `reject` for a `Promise`
 *
 * @return {Number} An ID used to remove interceptor later
 */
InterceptorManager.prototype.use = function use(fulfilled, rejected) {
  this.handlers.push({
    fulfilled: fulfilled,
    rejected: rejected
  });
  return this.handlers.length - 1;
};

/**
 * Remove an interceptor from the stack
 *
 * @param {Number} id The ID that was returned by `use`
 */
InterceptorManager.prototype.eject = function eject(id) {
  if (this.handlers[id]) {
    this.handlers[id] = null;
  }
};

/**
 * Iterate over all the registered interceptors
 *
 * This method is particularly useful for skipping over any
 * interceptors that may have become `null` calling `eject`.
 *
 * @param {Function} fn The function to call for each interceptor
 */
InterceptorManager.prototype.forEach = function forEach(fn) {
  utils.forEach(this.handlers, function forEachHandler(h) {
    if (h !== null) {
      fn(h);
    }
  });
};

module.exports = InterceptorManager;


/***/ }),

/***/ "./node_modules/axios/lib/core/createError.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/createError.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var enhanceError = __webpack_require__(/*! ./enhanceError */ "./node_modules/axios/lib/core/enhanceError.js");

/**
 * Create an Error with the specified message, config, error code, request and response.
 *
 * @param {string} message The error message.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 * @returns {Error} The created error.
 */
module.exports = function createError(message, config, code, request, response) {
  var error = new Error(message);
  return enhanceError(error, config, code, request, response);
};


/***/ }),

/***/ "./node_modules/axios/lib/core/dispatchRequest.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");
var transformData = __webpack_require__(/*! ./transformData */ "./node_modules/axios/lib/core/transformData.js");
var isCancel = __webpack_require__(/*! ../cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");
var defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults.js");
var isAbsoluteURL = __webpack_require__(/*! ./../helpers/isAbsoluteURL */ "./node_modules/axios/lib/helpers/isAbsoluteURL.js");
var combineURLs = __webpack_require__(/*! ./../helpers/combineURLs */ "./node_modules/axios/lib/helpers/combineURLs.js");

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 * @returns {Promise} The Promise to be fulfilled
 */
module.exports = function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  // Support baseURL config
  if (config.baseURL && !isAbsoluteURL(config.url)) {
    config.url = combineURLs(config.baseURL, config.url);
  }

  // Ensure headers exist
  config.headers = config.headers || {};

  // Transform request data
  config.data = transformData(
    config.data,
    config.headers,
    config.transformRequest
  );

  // Flatten headers
  config.headers = utils.merge(
    config.headers.common || {},
    config.headers[config.method] || {},
    config.headers || {}
  );

  utils.forEach(
    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
    function cleanHeaderConfig(method) {
      delete config.headers[method];
    }
  );

  var adapter = config.adapter || defaults.adapter;

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData(
      response.data,
      response.headers,
      config.transformResponse
    );

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData(
          reason.response.data,
          reason.response.headers,
          config.transformResponse
        );
      }
    }

    return Promise.reject(reason);
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/core/enhanceError.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/core/enhanceError.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Update an Error with the specified config, error code, and response.
 *
 * @param {Error} error The error to update.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 * @returns {Error} The error.
 */
module.exports = function enhanceError(error, config, code, request, response) {
  error.config = config;
  if (code) {
    error.code = code;
  }
  error.request = request;
  error.response = response;
  return error;
};


/***/ }),

/***/ "./node_modules/axios/lib/core/settle.js":
/*!***********************************************!*\
  !*** ./node_modules/axios/lib/core/settle.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var createError = __webpack_require__(/*! ./createError */ "./node_modules/axios/lib/core/createError.js");

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 */
module.exports = function settle(resolve, reject, response) {
  var validateStatus = response.config.validateStatus;
  // Note: status is not exposed by XDomainRequest
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(createError(
      'Request failed with status code ' + response.status,
      response.config,
      null,
      response.request,
      response
    ));
  }
};


/***/ }),

/***/ "./node_modules/axios/lib/core/transformData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/transformData.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

/**
 * Transform the data for a request or a response
 *
 * @param {Object|String} data The data to be transformed
 * @param {Array} headers The headers for the request or response
 * @param {Array|Function} fns A single function or Array of functions
 * @returns {*} The resulting transformed data
 */
module.exports = function transformData(data, headers, fns) {
  /*eslint no-param-reassign:0*/
  utils.forEach(fns, function transform(fn) {
    data = fn(data, headers);
  });

  return data;
};


/***/ }),

/***/ "./node_modules/axios/lib/defaults.js":
/*!********************************************!*\
  !*** ./node_modules/axios/lib/defaults.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

var utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");
var normalizeHeaderName = __webpack_require__(/*! ./helpers/normalizeHeaderName */ "./node_modules/axios/lib/helpers/normalizeHeaderName.js");

var DEFAULT_CONTENT_TYPE = {
  'Content-Type': 'application/x-www-form-urlencoded'
};

function setContentTypeIfUnset(headers, value) {
  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
    headers['Content-Type'] = value;
  }
}

function getDefaultAdapter() {
  var adapter;
  if (typeof XMLHttpRequest !== 'undefined') {
    // For browsers use XHR adapter
    adapter = __webpack_require__(/*! ./adapters/xhr */ "./node_modules/axios/lib/adapters/xhr.js");
  } else if (typeof process !== 'undefined') {
    // For node use HTTP adapter
    adapter = __webpack_require__(/*! ./adapters/http */ "./node_modules/axios/lib/adapters/xhr.js");
  }
  return adapter;
}

var defaults = {
  adapter: getDefaultAdapter(),

  transformRequest: [function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Content-Type');
    if (utils.isFormData(data) ||
      utils.isArrayBuffer(data) ||
      utils.isBuffer(data) ||
      utils.isStream(data) ||
      utils.isFile(data) ||
      utils.isBlob(data)
    ) {
      return data;
    }
    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }
    if (utils.isObject(data)) {
      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');
      return JSON.stringify(data);
    }
    return data;
  }],

  transformResponse: [function transformResponse(data) {
    /*eslint no-param-reassign:0*/
    if (typeof data === 'string') {
      try {
        data = JSON.parse(data);
      } catch (e) { /* Ignore */ }
    }
    return data;
  }],

  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  }
};

defaults.headers = {
  common: {
    'Accept': 'application/json, text/plain, */*'
  }
};

utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
  defaults.headers[method] = {};
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
});

module.exports = defaults;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/axios/lib/helpers/bind.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/bind.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function bind(fn, thisArg) {
  return function wrap() {
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    return fn.apply(thisArg, args);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/btoa.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/btoa.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js

var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

function E() {
  this.message = 'String contains an invalid character';
}
E.prototype = new Error;
E.prototype.code = 5;
E.prototype.name = 'InvalidCharacterError';

function btoa(input) {
  var str = String(input);
  var output = '';
  for (
    // initialize result and counter
    var block, charCode, idx = 0, map = chars;
    // if the next str index does not exist:
    //   change the mapping table to "="
    //   check if d has no fractional digits
    str.charAt(idx | 0) || (map = '=', idx % 1);
    // "8 - idx % 1 * 8" generates the sequence 2, 4, 6, 8
    output += map.charAt(63 & block >> 8 - idx % 1 * 8)
  ) {
    charCode = str.charCodeAt(idx += 3 / 4);
    if (charCode > 0xFF) {
      throw new E();
    }
    block = block << 8 | charCode;
  }
  return output;
}

module.exports = btoa;


/***/ }),

/***/ "./node_modules/axios/lib/helpers/buildURL.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

function encode(val) {
  return encodeURIComponent(val).
    replace(/%40/gi, '@').
    replace(/%3A/gi, ':').
    replace(/%24/g, '$').
    replace(/%2C/gi, ',').
    replace(/%20/g, '+').
    replace(/%5B/gi, '[').
    replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @returns {string} The formatted url
 */
module.exports = function buildURL(url, params, paramsSerializer) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }

  var serializedParams;
  if (paramsSerializer) {
    serializedParams = paramsSerializer(params);
  } else if (utils.isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];

    utils.forEach(params, function serialize(val, key) {
      if (val === null || typeof val === 'undefined') {
        return;
      }

      if (utils.isArray(val)) {
        key = key + '[]';
      } else {
        val = [val];
      }

      utils.forEach(val, function parseValue(v) {
        if (utils.isDate(v)) {
          v = v.toISOString();
        } else if (utils.isObject(v)) {
          v = JSON.stringify(v);
        }
        parts.push(encode(key) + '=' + encode(v));
      });
    });

    serializedParams = parts.join('&');
  }

  if (serializedParams) {
    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/combineURLs.js":
/*!*******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 * @returns {string} The combined URL
 */
module.exports = function combineURLs(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/+$/, '') + '/' + relativeURL.replace(/^\/+/, '')
    : baseURL;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/cookies.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/helpers/cookies.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs support document.cookie
  (function standardBrowserEnv() {
    return {
      write: function write(name, value, expires, path, domain, secure) {
        var cookie = [];
        cookie.push(name + '=' + encodeURIComponent(value));

        if (utils.isNumber(expires)) {
          cookie.push('expires=' + new Date(expires).toGMTString());
        }

        if (utils.isString(path)) {
          cookie.push('path=' + path);
        }

        if (utils.isString(domain)) {
          cookie.push('domain=' + domain);
        }

        if (secure === true) {
          cookie.push('secure');
        }

        document.cookie = cookie.join('; ');
      },

      read: function read(name) {
        var match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
        return (match ? decodeURIComponent(match[3]) : null);
      },

      remove: function remove(name) {
        this.write(name, '', Date.now() - 86400000);
      }
    };
  })() :

  // Non standard browser env (web workers, react-native) lack needed support.
  (function nonStandardBrowserEnv() {
    return {
      write: function write() {},
      read: function read() { return null; },
      remove: function remove() {}
    };
  })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */
module.exports = function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

module.exports = (
  utils.isStandardBrowserEnv() ?

  // Standard browser envs have full support of the APIs needed to test
  // whether the request URL is of the same origin as current location.
  (function standardBrowserEnv() {
    var msie = /(msie|trident)/i.test(navigator.userAgent);
    var urlParsingNode = document.createElement('a');
    var originURL;

    /**
    * Parse a URL to discover it's components
    *
    * @param {String} url The URL to be parsed
    * @returns {Object}
    */
    function resolveURL(url) {
      var href = url;

      if (msie) {
        // IE needs attribute set twice to normalize properties
        urlParsingNode.setAttribute('href', href);
        href = urlParsingNode.href;
      }

      urlParsingNode.setAttribute('href', href);

      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
      return {
        href: urlParsingNode.href,
        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
        host: urlParsingNode.host,
        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
        hostname: urlParsingNode.hostname,
        port: urlParsingNode.port,
        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?
                  urlParsingNode.pathname :
                  '/' + urlParsingNode.pathname
      };
    }

    originURL = resolveURL(window.location.href);

    /**
    * Determine if a URL shares the same origin as the current location
    *
    * @param {String} requestURL The URL to test
    * @returns {boolean} True if URL shares the same origin, otherwise false
    */
    return function isURLSameOrigin(requestURL) {
      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;
      return (parsed.protocol === originURL.protocol &&
            parsed.host === originURL.host);
    };
  })() :

  // Non standard browser envs (web workers, react-native) lack needed support.
  (function nonStandardBrowserEnv() {
    return function isURLSameOrigin() {
      return true;
    };
  })()
);


/***/ }),

/***/ "./node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!***************************************************************!*\
  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");

module.exports = function normalizeHeaderName(headers, normalizedName) {
  utils.forEach(headers, function processHeader(value, name) {
    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
      headers[normalizedName] = value;
      delete headers[name];
    }
  });
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/parseHeaders.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");

// Headers whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
var ignoreDuplicateOf = [
  'age', 'authorization', 'content-length', 'content-type', 'etag',
  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',
  'last-modified', 'location', 'max-forwards', 'proxy-authorization',
  'referer', 'retry-after', 'user-agent'
];

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} headers Headers needing to be parsed
 * @returns {Object} Headers parsed into an object
 */
module.exports = function parseHeaders(headers) {
  var parsed = {};
  var key;
  var val;
  var i;

  if (!headers) { return parsed; }

  utils.forEach(headers.split('\n'), function parser(line) {
    i = line.indexOf(':');
    key = utils.trim(line.substr(0, i)).toLowerCase();
    val = utils.trim(line.substr(i + 1));

    if (key) {
      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
        return;
      }
      if (key === 'set-cookie') {
        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
      } else {
        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
      }
    }
  });

  return parsed;
};


/***/ }),

/***/ "./node_modules/axios/lib/helpers/spread.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/helpers/spread.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 * @returns {Function}
 */
module.exports = function spread(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
};


/***/ }),

/***/ "./node_modules/axios/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/utils.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");
var isBuffer = __webpack_require__(/*! is-buffer */ "./node_modules/is-buffer/index.js");

/*global toString:true*/

// utils is a library of generic helper functions non-specific to axios

var toString = Object.prototype.toString;

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Array, otherwise false
 */
function isArray(val) {
  return toString.call(val) === '[object Array]';
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
function isArrayBuffer(val) {
  return toString.call(val) === '[object ArrayBuffer]';
}

/**
 * Determine if a value is a FormData
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an FormData, otherwise false
 */
function isFormData(val) {
  return (typeof FormData !== 'undefined') && (val instanceof FormData);
}

/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  var result;
  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {
    result = ArrayBuffer.isView(val);
  } else {
    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a String, otherwise false
 */
function isString(val) {
  return typeof val === 'string';
}

/**
 * Determine if a value is a Number
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Number, otherwise false
 */
function isNumber(val) {
  return typeof val === 'number';
}

/**
 * Determine if a value is undefined
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if the value is undefined, otherwise false
 */
function isUndefined(val) {
  return typeof val === 'undefined';
}

/**
 * Determine if a value is an Object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Object, otherwise false
 */
function isObject(val) {
  return val !== null && typeof val === 'object';
}

/**
 * Determine if a value is a Date
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Date, otherwise false
 */
function isDate(val) {
  return toString.call(val) === '[object Date]';
}

/**
 * Determine if a value is a File
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a File, otherwise false
 */
function isFile(val) {
  return toString.call(val) === '[object File]';
}

/**
 * Determine if a value is a Blob
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Blob, otherwise false
 */
function isBlob(val) {
  return toString.call(val) === '[object Blob]';
}

/**
 * Determine if a value is a Function
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
function isFunction(val) {
  return toString.call(val) === '[object Function]';
}

/**
 * Determine if a value is a Stream
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Stream, otherwise false
 */
function isStream(val) {
  return isObject(val) && isFunction(val.pipe);
}

/**
 * Determine if a value is a URLSearchParams object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
function isURLSearchParams(val) {
  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;
}

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 * @returns {String} The String freed of excess whitespace
 */
function trim(str) {
  return str.replace(/^\s*/, '').replace(/\s*$/, '');
}

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  navigator.product -> 'ReactNative'
 */
function isStandardBrowserEnv() {
  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {
    return false;
  }
  return (
    typeof window !== 'undefined' &&
    typeof document !== 'undefined'
  );
}

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 */
function forEach(obj, fn) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 * @returns {Object} Result of all merge properties
 */
function merge(/* obj1, obj2, obj3, ... */) {
  var result = {};
  function assignValue(val, key) {
    if (typeof result[key] === 'object' && typeof val === 'object') {
      result[key] = merge(result[key], val);
    } else {
      result[key] = val;
    }
  }

  for (var i = 0, l = arguments.length; i < l; i++) {
    forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 * @return {Object} The resulting value of object a
 */
function extend(a, b, thisArg) {
  forEach(b, function assignValue(val, key) {
    if (thisArg && typeof val === 'function') {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  });
  return a;
}

module.exports = {
  isArray: isArray,
  isArrayBuffer: isArrayBuffer,
  isBuffer: isBuffer,
  isFormData: isFormData,
  isArrayBufferView: isArrayBufferView,
  isString: isString,
  isNumber: isNumber,
  isObject: isObject,
  isUndefined: isUndefined,
  isDate: isDate,
  isFile: isFile,
  isBlob: isBlob,
  isFunction: isFunction,
  isStream: isStream,
  isURLSearchParams: isURLSearchParams,
  isStandardBrowserEnv: isStandardBrowserEnv,
  forEach: forEach,
  merge: merge,
  extend: extend,
  trim: trim
};


/***/ }),

/***/ "./node_modules/clipboard/dist/clipboard.js":
/*!**************************************************!*\
  !*** ./node_modules/clipboard/dist/clipboard.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * clipboard.js v2.0.1
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {
    if (true) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else { var mod; }
})(this, function (module, _select) {
    'use strict';

    var _select2 = _interopRequireDefault(_select);

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
        return typeof obj;
    } : function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    var _createClass = function () {
        function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }

        return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps);
            if (staticProps) defineProperties(Constructor, staticProps);
            return Constructor;
        };
    }();

    var ClipboardAction = function () {
        /**
         * @param {Object} options
         */
        function ClipboardAction(options) {
            _classCallCheck(this, ClipboardAction);

            this.resolveOptions(options);
            this.initSelection();
        }

        /**
         * Defines base properties passed from constructor.
         * @param {Object} options
         */


        _createClass(ClipboardAction, [{
            key: 'resolveOptions',
            value: function resolveOptions() {
                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

                this.action = options.action;
                this.container = options.container;
                this.emitter = options.emitter;
                this.target = options.target;
                this.text = options.text;
                this.trigger = options.trigger;

                this.selectedText = '';
            }
        }, {
            key: 'initSelection',
            value: function initSelection() {
                if (this.text) {
                    this.selectFake();
                } else if (this.target) {
                    this.selectTarget();
                }
            }
        }, {
            key: 'selectFake',
            value: function selectFake() {
                var _this = this;

                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';

                this.removeFake();

                this.fakeHandlerCallback = function () {
                    return _this.removeFake();
                };
                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;

                this.fakeElem = document.createElement('textarea');
                // Prevent zooming on iOS
                this.fakeElem.style.fontSize = '12pt';
                // Reset box model
                this.fakeElem.style.border = '0';
                this.fakeElem.style.padding = '0';
                this.fakeElem.style.margin = '0';
                // Move element out of screen horizontally
                this.fakeElem.style.position = 'absolute';
                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';
                // Move element to the same position vertically
                var yPosition = window.pageYOffset || document.documentElement.scrollTop;
                this.fakeElem.style.top = yPosition + 'px';

                this.fakeElem.setAttribute('readonly', '');
                this.fakeElem.value = this.text;

                this.container.appendChild(this.fakeElem);

                this.selectedText = (0, _select2.default)(this.fakeElem);
                this.copyText();
            }
        }, {
            key: 'removeFake',
            value: function removeFake() {
                if (this.fakeHandler) {
                    this.container.removeEventListener('click', this.fakeHandlerCallback);
                    this.fakeHandler = null;
                    this.fakeHandlerCallback = null;
                }

                if (this.fakeElem) {
                    this.container.removeChild(this.fakeElem);
                    this.fakeElem = null;
                }
            }
        }, {
            key: 'selectTarget',
            value: function selectTarget() {
                this.selectedText = (0, _select2.default)(this.target);
                this.copyText();
            }
        }, {
            key: 'copyText',
            value: function copyText() {
                var succeeded = void 0;

                try {
                    succeeded = document.execCommand(this.action);
                } catch (err) {
                    succeeded = false;
                }

                this.handleResult(succeeded);
            }
        }, {
            key: 'handleResult',
            value: function handleResult(succeeded) {
                this.emitter.emit(succeeded ? 'success' : 'error', {
                    action: this.action,
                    text: this.selectedText,
                    trigger: this.trigger,
                    clearSelection: this.clearSelection.bind(this)
                });
            }
        }, {
            key: 'clearSelection',
            value: function clearSelection() {
                if (this.trigger) {
                    this.trigger.focus();
                }

                window.getSelection().removeAllRanges();
            }
        }, {
            key: 'destroy',
            value: function destroy() {
                this.removeFake();
            }
        }, {
            key: 'action',
            set: function set() {
                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';

                this._action = action;

                if (this._action !== 'copy' && this._action !== 'cut') {
                    throw new Error('Invalid "action" value, use either "copy" or "cut"');
                }
            },
            get: function get() {
                return this._action;
            }
        }, {
            key: 'target',
            set: function set(target) {
                if (target !== undefined) {
                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {
                        if (this.action === 'copy' && target.hasAttribute('disabled')) {
                            throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                        }

                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {
                            throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
                        }

                        this._target = target;
                    } else {
                        throw new Error('Invalid "target" value, use a valid Element');
                    }
                }
            },
            get: function get() {
                return this._target;
            }
        }]);

        return ClipboardAction;
    }();

    module.exports = ClipboardAction;
});

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

var is = __webpack_require__(6);
var delegate = __webpack_require__(5);

/**
 * Validates all params and calls the right
 * listener function based on its target type.
 *
 * @param {String|HTMLElement|HTMLCollection|NodeList} target
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listen(target, type, callback) {
    if (!target && !type && !callback) {
        throw new Error('Missing required arguments');
    }

    if (!is.string(type)) {
        throw new TypeError('Second argument must be a String');
    }

    if (!is.fn(callback)) {
        throw new TypeError('Third argument must be a Function');
    }

    if (is.node(target)) {
        return listenNode(target, type, callback);
    }
    else if (is.nodeList(target)) {
        return listenNodeList(target, type, callback);
    }
    else if (is.string(target)) {
        return listenSelector(target, type, callback);
    }
    else {
        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');
    }
}

/**
 * Adds an event listener to a HTML element
 * and returns a remove listener function.
 *
 * @param {HTMLElement} node
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNode(node, type, callback) {
    node.addEventListener(type, callback);

    return {
        destroy: function() {
            node.removeEventListener(type, callback);
        }
    }
}

/**
 * Add an event listener to a list of HTML elements
 * and returns a remove listener function.
 *
 * @param {NodeList|HTMLCollection} nodeList
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNodeList(nodeList, type, callback) {
    Array.prototype.forEach.call(nodeList, function(node) {
        node.addEventListener(type, callback);
    });

    return {
        destroy: function() {
            Array.prototype.forEach.call(nodeList, function(node) {
                node.removeEventListener(type, callback);
            });
        }
    }
}

/**
 * Add an event listener to a selector
 * and returns a remove listener function.
 *
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenSelector(selector, type, callback) {
    return delegate(document.body, selector, type, callback);
}

module.exports = listen;


/***/ }),
/* 2 */
/***/ (function(module, exports) {

function E () {
  // Keep this empty so it's easier to inherit from
  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)
}

E.prototype = {
  on: function (name, callback, ctx) {
    var e = this.e || (this.e = {});

    (e[name] || (e[name] = [])).push({
      fn: callback,
      ctx: ctx
    });

    return this;
  },

  once: function (name, callback, ctx) {
    var self = this;
    function listener () {
      self.off(name, listener);
      callback.apply(ctx, arguments);
    };

    listener._ = callback
    return this.on(name, listener, ctx);
  },

  emit: function (name) {
    var data = [].slice.call(arguments, 1);
    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();
    var i = 0;
    var len = evtArr.length;

    for (i; i < len; i++) {
      evtArr[i].fn.apply(evtArr[i].ctx, data);
    }

    return this;
  },

  off: function (name, callback) {
    var e = this.e || (this.e = {});
    var evts = e[name];
    var liveEvents = [];

    if (evts && callback) {
      for (var i = 0, len = evts.length; i < len; i++) {
        if (evts[i].fn !== callback && evts[i].fn._ !== callback)
          liveEvents.push(evts[i]);
      }
    }

    // Remove event from queue to prevent memory leak
    // Suggested by https://github.com/lazd
    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910

    (liveEvents.length)
      ? e[name] = liveEvents
      : delete e[name];

    return this;
  }
};

module.exports = E;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {
    if (true) {
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(0), __webpack_require__(2), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else { var mod; }
})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {
    'use strict';

    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);

    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);

    var _goodListener2 = _interopRequireDefault(_goodListener);

    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }

    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
        return typeof obj;
    } : function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    var _createClass = function () {
        function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }

        return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps);
            if (staticProps) defineProperties(Constructor, staticProps);
            return Constructor;
        };
    }();

    function _possibleConstructorReturn(self, call) {
        if (!self) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }

        return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }

    function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }

        subClass.prototype = Object.create(superClass && superClass.prototype, {
            constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true
            }
        });
        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }

    var Clipboard = function (_Emitter) {
        _inherits(Clipboard, _Emitter);

        /**
         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
         * @param {Object} options
         */
        function Clipboard(trigger, options) {
            _classCallCheck(this, Clipboard);

            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));

            _this.resolveOptions(options);
            _this.listenClick(trigger);
            return _this;
        }

        /**
         * Defines if attributes would be resolved using internal setter functions
         * or custom functions that were passed in the constructor.
         * @param {Object} options
         */


        _createClass(Clipboard, [{
            key: 'resolveOptions',
            value: function resolveOptions() {
                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;
                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;
                this.text = typeof options.text === 'function' ? options.text : this.defaultText;
                this.container = _typeof(options.container) === 'object' ? options.container : document.body;
            }
        }, {
            key: 'listenClick',
            value: function listenClick(trigger) {
                var _this2 = this;

                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {
                    return _this2.onClick(e);
                });
            }
        }, {
            key: 'onClick',
            value: function onClick(e) {
                var trigger = e.delegateTarget || e.currentTarget;

                if (this.clipboardAction) {
                    this.clipboardAction = null;
                }

                this.clipboardAction = new _clipboardAction2.default({
                    action: this.action(trigger),
                    target: this.target(trigger),
                    text: this.text(trigger),
                    container: this.container,
                    trigger: trigger,
                    emitter: this
                });
            }
        }, {
            key: 'defaultAction',
            value: function defaultAction(trigger) {
                return getAttributeValue('action', trigger);
            }
        }, {
            key: 'defaultTarget',
            value: function defaultTarget(trigger) {
                var selector = getAttributeValue('target', trigger);

                if (selector) {
                    return document.querySelector(selector);
                }
            }
        }, {
            key: 'defaultText',
            value: function defaultText(trigger) {
                return getAttributeValue('text', trigger);
            }
        }, {
            key: 'destroy',
            value: function destroy() {
                this.listener.destroy();

                if (this.clipboardAction) {
                    this.clipboardAction.destroy();
                    this.clipboardAction = null;
                }
            }
        }], [{
            key: 'isSupported',
            value: function isSupported() {
                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];

                var actions = typeof action === 'string' ? [action] : action;
                var support = !!document.queryCommandSupported;

                actions.forEach(function (action) {
                    support = support && !!document.queryCommandSupported(action);
                });

                return support;
            }
        }]);

        return Clipboard;
    }(_tinyEmitter2.default);

    /**
     * Helper function to retrieve attribute value.
     * @param {String} suffix
     * @param {Element} element
     */
    function getAttributeValue(suffix, element) {
        var attribute = 'data-clipboard-' + suffix;

        if (!element.hasAttribute(attribute)) {
            return;
        }

        return element.getAttribute(attribute);
    }

    module.exports = Clipboard;
});

/***/ }),
/* 4 */
/***/ (function(module, exports) {

var DOCUMENT_NODE_TYPE = 9;

/**
 * A polyfill for Element.matches()
 */
if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

/**
 * Finds the closest parent that matches a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @return {Function}
 */
function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

var closest = __webpack_require__(4);

/**
 * Delegates event to a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

/**
 * Delegates event to a selector.
 *
 * @param {Element|String|Array} [elements]
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function delegate(elements, selector, type, callback, useCapture) {
    // Handle the regular Element usage
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    // Handle Element-less usage, it defaults to global delegation
    if (typeof type === 'function') {
        // Use `document` as the first parameter, then apply arguments
        // This is a short way to .unshift `arguments` without running into deoptimizations
        return _delegate.bind(null, document).apply(null, arguments);
    }

    // Handle Selector-based usage
    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    // Handle Array-like based usage
    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

/**
 * Finds closest match and invokes callback.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Function}
 */
function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;


/***/ }),
/* 6 */
/***/ (function(module, exports) {

/**
 * Check if argument is a HTML element.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.node = function(value) {
    return value !== undefined
        && value instanceof HTMLElement
        && value.nodeType === 1;
};

/**
 * Check if argument is a list of HTML elements.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.nodeList = function(value) {
    var type = Object.prototype.toString.call(value);

    return value !== undefined
        && (type === '[object NodeList]' || type === '[object HTMLCollection]')
        && ('length' in value)
        && (value.length === 0 || exports.node(value[0]));
};

/**
 * Check if argument is a string.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.string = function(value) {
    return typeof value === 'string'
        || value instanceof String;
};

/**
 * Check if argument is a function.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.fn = function(value) {
    var type = Object.prototype.toString.call(value);

    return type === '[object Function]';
};


/***/ }),
/* 7 */
/***/ (function(module, exports) {

function select(element) {
    var selectedText;

    if (element.nodeName === 'SELECT') {
        element.focus();

        selectedText = element.value;
    }
    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {
        var isReadOnly = element.hasAttribute('readonly');

        if (!isReadOnly) {
            element.setAttribute('readonly', '');
        }

        element.select();
        element.setSelectionRange(0, element.value.length);

        if (!isReadOnly) {
            element.removeAttribute('readonly');
        }

        selectedText = element.value;
    }
    else {
        if (element.hasAttribute('contenteditable')) {
            element.focus();
        }

        var selection = window.getSelection();
        var range = document.createRange();

        range.selectNodeContents(element);
        selection.removeAllRanges();
        selection.addRange(range);

        selectedText = selection.toString();
    }

    return selectedText;
}

module.exports = select;


/***/ })
/******/ ]);
});

/***/ }),

/***/ "./node_modules/core-decorators/es/applyDecorators.js":
/*!************************************************************!*\
  !*** ./node_modules/core-decorators/es/applyDecorators.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return applyDecorators; });
var defineProperty = Object.defineProperty,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;


function applyDecorators(Class, props) {
  var prototype = Class.prototype;


  for (var key in props) {
    var decorators = props[key];

    for (var i = 0, l = decorators.length; i < l; i++) {
      var decorator = decorators[i];

      defineProperty(prototype, key, decorator(prototype, key, getOwnPropertyDescriptor(prototype, key)));
    }
  }

  return Class;
}

/***/ }),

/***/ "./node_modules/core-decorators/es/autobind.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/autobind.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return autobind; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }


var defineProperty = Object.defineProperty,
    getPrototypeOf = Object.getPrototypeOf;


var mapStore = void 0;

function getBoundSuper(obj, fn) {
  if (typeof WeakMap === 'undefined') {
    throw new Error('Using @autobind on ' + fn.name + '() requires WeakMap support due to its use of super.' + fn.name + '()\n      See https://github.com/jayphelps/core-decorators.js/issues/20');
  }

  if (!mapStore) {
    mapStore = new WeakMap();
  }

  if (mapStore.has(obj) === false) {
    mapStore.set(obj, new WeakMap());
  }

  var superStore = mapStore.get(obj);

  if (superStore.has(fn) === false) {
    superStore.set(fn, Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["bind"])(fn, obj));
  }

  return superStore.get(fn);
}

function autobindClass(klass) {
  var descs = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["getOwnPropertyDescriptors"])(klass.prototype);
  var keys = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["getOwnKeys"])(descs);

  for (var i = 0, l = keys.length; i < l; i++) {
    var key = keys[i];
    var desc = descs[key];

    if (typeof desc.value !== 'function' || key === 'constructor') {
      continue;
    }

    defineProperty(klass.prototype, key, autobindMethod(klass.prototype, key, desc));
  }
}

function autobindMethod(target, key, _ref) {
  var fn = _ref.value,
      configurable = _ref.configurable,
      enumerable = _ref.enumerable;

  if (typeof fn !== 'function') {
    throw new SyntaxError('@autobind can only be used on functions, not: ' + fn);
  }

  var constructor = target.constructor;


  return {
    configurable: configurable,
    enumerable: enumerable,

    get: function get() {
      // Class.prototype.key lookup
      // Someone accesses the property directly on the prototype on which it is
      // actually defined on, i.e. Class.prototype.hasOwnProperty(key)
      if (this === target) {
        return fn;
      }

      // Class.prototype.key lookup
      // Someone accesses the property directly on a prototype but it was found
      // up the chain, not defined directly on it
      // i.e. Class.prototype.hasOwnProperty(key) == false && key in Class.prototype
      if (this.constructor !== constructor && getPrototypeOf(this).constructor === constructor) {
        return fn;
      }

      // Autobound method calling super.sameMethod() which is also autobound and so on.
      if (this.constructor !== constructor && key in this.constructor.prototype) {
        return getBoundSuper(this, fn);
      }

      var boundFn = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["bind"])(fn, this);

      defineProperty(this, key, {
        configurable: true,
        writable: true,
        // NOT enumerable when it's a bound method
        enumerable: false,
        value: boundFn
      });

      return boundFn;
    },

    set: Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["createDefaultSetter"])(key)
  };
}

function handle(args) {
  if (args.length === 1) {
    return autobindClass.apply(undefined, _toConsumableArray(args));
  } else {
    return autobindMethod.apply(undefined, _toConsumableArray(args));
  }
}

function autobind() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (args.length === 0) {
    return function () {
      return handle(arguments);
    };
  } else {
    return handle(args);
  }
}

/***/ }),

/***/ "./node_modules/core-decorators/es/core-decorators.js":
/*!************************************************************!*\
  !*** ./node_modules/core-decorators/es/core-decorators.js ***!
  \************************************************************/
/*! exports provided: override, deprecate, deprecated, suppressWarnings, memoize, autobind, readonly, enumerable, nonenumerable, nonconfigurable, debounce, throttle, decorate, mixin, mixins, lazyInitialize, time, extendDescriptor, profile, applyDecorators */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _override__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./override */ "./node_modules/core-decorators/es/override.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "override", function() { return _override__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _deprecate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deprecate */ "./node_modules/core-decorators/es/deprecate.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deprecate", function() { return _deprecate__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deprecated", function() { return _deprecate__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _suppress_warnings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./suppress-warnings */ "./node_modules/core-decorators/es/suppress-warnings.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "suppressWarnings", function() { return _suppress_warnings__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _memoize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./memoize */ "./node_modules/core-decorators/es/memoize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "memoize", function() { return _memoize__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _autobind__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./autobind */ "./node_modules/core-decorators/es/autobind.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "autobind", function() { return _autobind__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _readonly__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./readonly */ "./node_modules/core-decorators/es/readonly.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "readonly", function() { return _readonly__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _enumerable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enumerable */ "./node_modules/core-decorators/es/enumerable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enumerable", function() { return _enumerable__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _nonenumerable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./nonenumerable */ "./node_modules/core-decorators/es/nonenumerable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "nonenumerable", function() { return _nonenumerable__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _nonconfigurable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./nonconfigurable */ "./node_modules/core-decorators/es/nonconfigurable.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "nonconfigurable", function() { return _nonconfigurable__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _debounce__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./debounce */ "./node_modules/core-decorators/es/debounce.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return _debounce__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _throttle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./throttle */ "./node_modules/core-decorators/es/throttle.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return _throttle__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _decorate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./decorate */ "./node_modules/core-decorators/es/decorate.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "decorate", function() { return _decorate__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _mixin__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./mixin */ "./node_modules/core-decorators/es/mixin.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mixin", function() { return _mixin__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mixins", function() { return _mixin__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _lazy_initialize__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./lazy-initialize */ "./node_modules/core-decorators/es/lazy-initialize.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lazyInitialize", function() { return _lazy_initialize__WEBPACK_IMPORTED_MODULE_13__["default"]; });

/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./time */ "./node_modules/core-decorators/es/time.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "time", function() { return _time__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _extendDescriptor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./extendDescriptor */ "./node_modules/core-decorators/es/extendDescriptor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extendDescriptor", function() { return _extendDescriptor__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _profile__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./profile */ "./node_modules/core-decorators/es/profile.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "profile", function() { return _profile__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _applyDecorators__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./applyDecorators */ "./node_modules/core-decorators/es/applyDecorators.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "applyDecorators", function() { return _applyDecorators__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/**
 * core-decorators.js
 * (c) 2017 Jay Phelps and contributors
 * MIT Licensed
 * https://github.com/jayphelps/core-decorators.js
 * @license
 */


















// Helper to apply decorators to a class without transpiler support


/***/ }),

/***/ "./node_modules/core-decorators/es/debounce.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/debounce.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return debounce; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var DEFAULT_TIMEOUT = 300;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2),
      _ref2$ = _ref2[0],
      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,
      _ref2$2 = _ref2[1],
      immediate = _ref2$2 === undefined ? false : _ref2$2;

  var callback = descriptor.value;

  if (typeof callback !== 'function') {
    throw new SyntaxError('Only functions can be debounced');
  }

  return _extends({}, descriptor, {
    value: function value() {
      var _this = this;

      var _metaFor = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["metaFor"])(this),
          debounceTimeoutIds = _metaFor.debounceTimeoutIds;

      var timeout = debounceTimeoutIds[key];
      var callNow = immediate && !timeout;
      var args = arguments;

      clearTimeout(timeout);

      debounceTimeoutIds[key] = setTimeout(function () {
        delete debounceTimeoutIds[key];
        if (!immediate) {
          callback.apply(_this, args);
        }
      }, wait);

      if (callNow) {
        callback.apply(this, args);
      }
    }
  });
}

function debounce() {
  Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["internalDeprecation"])('@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators');

  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/decorate.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/decorate.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return decorate; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }


var defineProperty = Object.defineProperty;


function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _toArray(_ref),
      decorator = _ref2[0],
      args = _ref2.slice(1);

  var configurable = descriptor.configurable,
      enumerable = descriptor.enumerable,
      writable = descriptor.writable;

  var originalGet = descriptor.get;
  var originalSet = descriptor.set;
  var originalValue = descriptor.value;
  var isGetter = !!originalGet;

  return {
    configurable: configurable,
    enumerable: enumerable,
    get: function get() {
      var fn = isGetter ? originalGet.call(this) : originalValue;
      var value = decorator.call.apply(decorator, [this, fn].concat(_toConsumableArray(args)));

      if (isGetter) {
        return value;
      } else {
        var desc = {
          configurable: configurable,
          enumerable: enumerable
        };

        desc.value = value;
        desc.writable = writable;

        defineProperty(this, key, desc);

        return value;
      }
    },

    set: isGetter ? originalSet : Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["createDefaultSetter"])()
  };
}

function decorate() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/deprecate.js":
/*!******************************************************!*\
  !*** ./node_modules/core-decorators/es/deprecate.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return deprecate; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var DEFAULT_MSG = 'This function will be removed in future versions.';

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2),
      _ref2$ = _ref2[0],
      msg = _ref2$ === undefined ? DEFAULT_MSG : _ref2$,
      _ref2$2 = _ref2[1],
      options = _ref2$2 === undefined ? {} : _ref2$2;

  if (typeof descriptor.value !== 'function') {
    throw new SyntaxError('Only functions can be marked as deprecated');
  }

  var methodSignature = target.constructor.name + '#' + key;

  if (options.url) {
    msg += '\n\n    See ' + options.url + ' for more details.\n\n';
  }

  return _extends({}, descriptor, {
    value: function deprecationWrapper() {
      Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["warn"])('DEPRECATION ' + methodSignature + ': ' + msg);
      return descriptor.value.apply(this, arguments);
    }
  });
}

function deprecate() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/enumerable.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-decorators/es/enumerable.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return enumerable; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");


function handleDescriptor(target, key, descriptor) {
  descriptor.enumerable = true;
  return descriptor;
}

function enumerable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/extendDescriptor.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-decorators/es/extendDescriptor.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return extendDescriptor; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };


var getPrototypeOf = Object.getPrototypeOf,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;


function handleDescriptor(target, key, descriptor) {
  var superKlass = getPrototypeOf(target);
  var superDesc = getOwnPropertyDescriptor(superKlass, key);

  return _extends({}, superDesc, {
    value: descriptor.value,
    initializer: descriptor.initializer,
    get: descriptor.get || superDesc.get,
    set: descriptor.set || superDesc.set
  });
}

function extendDescriptor() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/lazy-initialize.js":
/*!************************************************************!*\
  !*** ./node_modules/core-decorators/es/lazy-initialize.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return lazyInitialize; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");

var defineProperty = Object.defineProperty;


function handleDescriptor(target, key, descriptor) {
  var configurable = descriptor.configurable,
      enumerable = descriptor.enumerable,
      initializer = descriptor.initializer,
      value = descriptor.value;

  return {
    configurable: configurable,
    enumerable: enumerable,

    get: function get() {
      // This happens if someone accesses the
      // property directly on the prototype
      if (this === target) {
        return;
      }

      var ret = initializer ? initializer.call(this) : value;

      defineProperty(this, key, {
        configurable: configurable,
        enumerable: enumerable,
        writable: true,
        value: ret
      });

      return ret;
    },


    set: Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["createDefaultSetter"])(key)
  };
}

function lazyInitialize() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/memoize.js":
/*!****************************************************!*\
  !*** ./node_modules/core-decorators/es/memoize.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return memoize; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



function toObject(cache, value) {
  if (value === Object(value)) {
    return value;
  }
  return cache[value] || (cache[value] = {});
}

function applyAndCache(context, fn, args, cache, signature) {
  var ret = fn.apply(context, args);
  cache[signature] = ret;
  return ret;
}

function metaForDescriptor(descriptor) {
  var fn = void 0,
      wrapKey = void 0;

  // This is ugly code, but way faster than other
  // ways I tried that *looked* pretty

  if (descriptor.value) {
    fn = descriptor.value;
    wrapKey = 'value';
  } else if (descriptor.get) {
    fn = descriptor.get;
    wrapKey = 'get';
  } else if (descriptor.set) {
    fn = descriptor.set;
    wrapKey = 'set';
  }

  return { fn: fn, wrapKey: wrapKey };
}

function handleDescriptor(target, key, descriptor) {
  var _metaForDescriptor = metaForDescriptor(descriptor),
      fn = _metaForDescriptor.fn,
      wrapKey = _metaForDescriptor.wrapKey;

  var argumentCache = new WeakMap();
  var signatureCache = Object.create(null);
  var primativeRefCache = Object.create(null);
  var argumentIdCounter = 0;

  return _extends({}, descriptor, _defineProperty({}, wrapKey, function memoizeWrapper() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var signature = '0';

    for (var i = 0, l = args.length; i < l; i++) {
      var arg = args[i];
      var argRef = toObject(primativeRefCache, arg);
      var argKey = argumentCache.get(argRef);

      if (argKey === undefined) {
        argKey = ++argumentIdCounter;
        argumentCache.set(argRef, argKey);
      }

      signature += argKey;
    }

    return signatureCache[signature] || applyAndCache(this, fn, arguments, signatureCache, signature);
  }));
}

function memoize() {
  Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["internalDeprecation"])('@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators');

  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/mixin.js":
/*!**************************************************!*\
  !*** ./node_modules/core-decorators/es/mixin.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return mixin; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };



var defineProperty = Object.defineProperty,
    getPrototypeOf = Object.getPrototypeOf;


function buggySymbol(symbol) {
  return Object.prototype.toString.call(symbol) === '[object Symbol]' && (typeof symbol === 'undefined' ? 'undefined' : _typeof(symbol)) === 'object';
}

function hasProperty(prop, obj) {
  // We have to traverse manually prototypes' chain for polyfilled ES6 Symbols
  // like "in" operator does.
  // I.e.: Babel 5 Symbol polyfill stores every created symbol in Object.prototype.
  // That's why we cannot use construction like "prop in obj" to check, if needed
  // prop actually exists in given object/prototypes' chain.
  if (buggySymbol(prop)) {
    do {
      if (obj === Object.prototype) {
        // Polyfill assigns undefined as value for stored symbol key.
        // We can assume in this special case if there is nothing assigned it doesn't exist.
        return typeof obj[prop] !== 'undefined';
      }
      if (obj.hasOwnProperty(prop)) {
        return true;
      }
    } while (obj = getPrototypeOf(obj));
    return false;
  } else {
    return prop in obj;
  }
}

function handleClass(target, mixins) {
  if (!mixins.length) {
    throw new SyntaxError('@mixin() class ' + target.name + ' requires at least one mixin as an argument');
  }

  for (var i = 0, l = mixins.length; i < l; i++) {
    var descs = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["getOwnPropertyDescriptors"])(mixins[i]);
    var keys = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["getOwnKeys"])(descs);

    for (var j = 0, k = keys.length; j < k; j++) {
      var key = keys[j];

      if (!hasProperty(key, target.prototype)) {
        defineProperty(target.prototype, key, descs[key]);
      }
    }
  }
}

function mixin() {
  for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {
    mixins[_key] = arguments[_key];
  }

  Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["internalDeprecation"])('@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators');

  if (typeof mixins[0] === 'function') {
    return handleClass(mixins[0], []);
  } else {
    return function (target) {
      return handleClass(target, mixins);
    };
  }
}

/***/ }),

/***/ "./node_modules/core-decorators/es/nonconfigurable.js":
/*!************************************************************!*\
  !*** ./node_modules/core-decorators/es/nonconfigurable.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return nonconfigurable; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");


function handleDescriptor(target, key, descriptor) {
  descriptor.configurable = false;
  return descriptor;
}

function nonconfigurable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/nonenumerable.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-decorators/es/nonenumerable.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return nonenumerable; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");


function handleDescriptor(target, key, descriptor) {
  descriptor.enumerable = false;
  return descriptor;
}

function nonenumerable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/override.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/override.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return override; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }



var GENERIC_FUNCTION_ERROR = '{child} does not properly override {parent}';
var FUNCTION_REGEXP = /^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;

var SyntaxErrorReporter = function () {
  _createClass(SyntaxErrorReporter, [{
    key: '_getTopic',
    value: function _getTopic(descriptor) {
      if (descriptor === undefined) {
        return null;
      }

      if ('value' in descriptor) {
        return descriptor.value;
      }

      if ('get' in descriptor) {
        return descriptor.get;
      }

      if ('set' in descriptor) {
        return descriptor.set;
      }
    }
  }, {
    key: '_extractTopicSignature',
    value: function _extractTopicSignature(topic) {
      switch (typeof topic === 'undefined' ? 'undefined' : _typeof(topic)) {
        case 'function':
          return this._extractFunctionSignature(topic);
        default:
          return this.key;
      }
    }
  }, {
    key: '_extractFunctionSignature',
    value: function _extractFunctionSignature(fn) {
      var _this = this;

      return fn.toString().replace(FUNCTION_REGEXP, function (match) {
        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.key;
        var params = arguments[2];
        return name + params;
      });
    }
  }, {
    key: 'key',
    get: function get() {
      return this.childDescriptor.key;
    }
  }, {
    key: 'parentNotation',
    get: function get() {
      return this.parentKlass.constructor.name + '#' + this.parentPropertySignature;
    }
  }, {
    key: 'childNotation',
    get: function get() {
      return this.childKlass.constructor.name + '#' + this.childPropertySignature;
    }
  }, {
    key: 'parentTopic',
    get: function get() {
      return this._getTopic(this.parentDescriptor);
    }
  }, {
    key: 'childTopic',
    get: function get() {
      return this._getTopic(this.childDescriptor);
    }
  }, {
    key: 'parentPropertySignature',
    get: function get() {
      return this._extractTopicSignature(this.parentTopic);
    }
  }, {
    key: 'childPropertySignature',
    get: function get() {
      return this._extractTopicSignature(this.childTopic);
    }
  }]);

  function SyntaxErrorReporter(parentKlass, childKlass, parentDescriptor, childDescriptor) {
    _classCallCheck(this, SyntaxErrorReporter);

    this.parentKlass = parentKlass;
    this.childKlass = childKlass;
    this.parentDescriptor = parentDescriptor;
    this.childDescriptor = childDescriptor;
  }

  _createClass(SyntaxErrorReporter, [{
    key: 'assert',
    value: function assert(condition) {
      var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (condition !== true) {
        this.error(GENERIC_FUNCTION_ERROR + msg);
      }
    }
  }, {
    key: 'error',
    value: function error(msg) {
      var _this2 = this;

      msg = msg
      // Replace lazily, because they actually might not
      // be available in all cases
      .replace('{parent}', function (m) {
        return _this2.parentNotation;
      }).replace('{child}', function (m) {
        return _this2.childNotation;
      });
      throw new SyntaxError(msg);
    }
  }]);

  return SyntaxErrorReporter;
}();

function getDescriptorType(descriptor) {
  if (descriptor.hasOwnProperty('value')) {
    return 'data';
  }

  if (descriptor.hasOwnProperty('get') || descriptor.hasOwnProperty('set')) {
    return 'accessor';
  }

  // If none of them exist, browsers treat it as
  // a data descriptor with a value of `undefined`
  return 'data';
}

function checkFunctionSignatures(parent, child, reporter) {
  reporter.assert(parent.length === child.length);
}

function checkDataDescriptors(parent, child, reporter) {
  var parentValueType = _typeof(parent.value);
  var childValueType = _typeof(child.value);

  if (parentValueType === 'undefined' && childValueType === 'undefined') {
    // class properties can be any expression, which isn't ran until the
    // the instance is created, so we can't reliably get type information
    // for them yet (per spec). Perhaps when Babel includes flow-type info
    // in runtime? Tried regex solutions, but super hacky and only feasible
    // on primitives, which is confusing for usage...
    reporter.error('descriptor values are both undefined. (class properties are are not currently supported)\'');
  }

  if (parentValueType !== childValueType) {
    var isFunctionOverUndefined = childValueType === 'function' && parentValueType === undefined;
    // Even though we don't support class properties, this
    // will still handle more than just functions, just in case.
    // Shadowing an undefined value is an error if the inherited
    // value was undefined (usually a class property, not a method)
    if (isFunctionOverUndefined || parentValueType !== undefined) {
      reporter.error('value types do not match. {parent} is "' + parentValueType + '", {child} is "' + childValueType + '"');
    }
  }

  // Switch, in preparation for supporting more types
  switch (childValueType) {
    case 'function':
      checkFunctionSignatures(parent.value, child.value, reporter);
      break;

    default:
      reporter.error('Unexpected error. Please file a bug with: {parent} is "' + parentValueType + '", {child} is "' + childValueType + '"');
      break;
  }
}

function checkAccessorDescriptors(parent, child, reporter) {
  var parentHasGetter = typeof parent.get === 'function';
  var childHasGetter = typeof child.get === 'function';
  var parentHasSetter = typeof parent.set === 'function';
  var childHasSetter = typeof child.set === 'function';

  if (parentHasGetter || childHasGetter) {
    if (!parentHasGetter && parentHasSetter) {
      reporter.error('{parent} is setter but {child} is getter');
    }

    if (!childHasGetter && childHasSetter) {
      reporter.error('{parent} is getter but {child} is setter');
    }

    checkFunctionSignatures(parent.get, child.get, reporter);
  }

  if (parentHasSetter || childHasSetter) {
    if (!parentHasSetter && parentHasGetter) {
      reporter.error('{parent} is getter but {child} is setter');
    }

    if (!childHasSetter && childHasGetter) {
      reporter.error('{parent} is setter but {child} is getter');
    }

    checkFunctionSignatures(parent.set, child.set, reporter);
  }
}

function checkDescriptors(parent, child, reporter) {
  var parentType = getDescriptorType(parent);
  var childType = getDescriptorType(child);

  if (parentType !== childType) {
    reporter.error('descriptor types do not match. {parent} is "' + parentType + '", {child} is "' + childType + '"');
  }

  switch (childType) {
    case 'data':
      checkDataDescriptors(parent, child, reporter);
      break;

    case 'accessor':
      checkAccessorDescriptors(parent, child, reporter);
      break;
  }
}

var suggestionTransforms = [function (key) {
  return key.toLowerCase();
}, function (key) {
  return key.toUpperCase();
}, function (key) {
  return key + 's';
}, function (key) {
  return key.slice(0, -1);
}, function (key) {
  return key.slice(1, key.length);
}];

function findPossibleAlternatives(superKlass, key) {
  for (var i = 0, l = suggestionTransforms.length; i < l; i++) {
    var fn = suggestionTransforms[i];
    var suggestion = fn(key);

    if (suggestion in superKlass) {
      return suggestion;
    }
  }

  return null;
}

function handleDescriptor(target, key, descriptor) {
  descriptor.key = key;
  var superKlass = Object.getPrototypeOf(target);
  var superDescriptor = Object.getOwnPropertyDescriptor(superKlass, key);
  var reporter = new SyntaxErrorReporter(superKlass, target, superDescriptor, descriptor);

  if (superDescriptor === undefined) {
    var suggestedKey = findPossibleAlternatives(superKlass, key);
    var suggestion = suggestedKey ? '\n\n  Did you mean "' + suggestedKey + '"?' : '';
    reporter.error('No descriptor matching {child} was found on the prototype chain.' + suggestion);
  }

  checkDescriptors(superDescriptor, descriptor, reporter);

  return descriptor;
}

function override() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/private/utils.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-decorators/es/private/utils.js ***!
  \**********************************************************/
/*! exports provided: isDescriptor, decorate, metaFor, getOwnKeys, getOwnPropertyDescriptors, createDefaultSetter, bind, warn, internalDeprecation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDescriptor", function() { return isDescriptor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decorate", function() { return decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metaFor", function() { return metaFor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOwnKeys", function() { return getOwnKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOwnPropertyDescriptors", function() { return getOwnPropertyDescriptors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createDefaultSetter", function() { return createDefaultSetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bind", function() { return bind; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "warn", function() { return warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "internalDeprecation", function() { return internalDeprecation; });
/* harmony import */ var _lazy_initialize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lazy-initialize */ "./node_modules/core-decorators/es/lazy-initialize.js");
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _desc, _value, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;

function _initDefineProp(target, property, descriptor, context) {
  if (!descriptor) return;
  Object.defineProperty(target, property, {
    enumerable: descriptor.enumerable,
    configurable: descriptor.configurable,
    writable: descriptor.writable,
    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0
  });
}

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

function _initializerWarningHelper(descriptor, context) {
  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');
}

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }



var defineProperty = Object.defineProperty,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,
    getOwnPropertyNames = Object.getOwnPropertyNames,
    getOwnPropertySymbols = Object.getOwnPropertySymbols;


function isDescriptor(desc) {
  if (!desc || !desc.hasOwnProperty) {
    return false;
  }

  var keys = ['value', 'initializer', 'get', 'set'];

  for (var i = 0, l = keys.length; i < l; i++) {
    if (desc.hasOwnProperty(keys[i])) {
      return true;
    }
  }

  return false;
}

function decorate(handleDescriptor, entryArgs) {
  if (isDescriptor(entryArgs[entryArgs.length - 1])) {
    return handleDescriptor.apply(undefined, _toConsumableArray(entryArgs).concat([[]]));
  } else {
    return function () {
      return handleDescriptor.apply(undefined, _toConsumableArray(Array.prototype.slice.call(arguments)).concat([entryArgs]));
    };
  }
}

var Meta = (_class = function Meta() {
  _classCallCheck(this, Meta);

  _initDefineProp(this, 'debounceTimeoutIds', _descriptor, this);

  _initDefineProp(this, 'throttleTimeoutIds', _descriptor2, this);

  _initDefineProp(this, 'throttlePreviousTimestamps', _descriptor3, this);

  _initDefineProp(this, 'throttleTrailingArgs', _descriptor4, this);

  _initDefineProp(this, 'profileLastRan', _descriptor5, this);
}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, 'debounceTimeoutIds', [_lazy_initialize__WEBPACK_IMPORTED_MODULE_0__["default"]], {
  enumerable: true,
  initializer: function initializer() {
    return {};
  }
}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, 'throttleTimeoutIds', [_lazy_initialize__WEBPACK_IMPORTED_MODULE_0__["default"]], {
  enumerable: true,
  initializer: function initializer() {
    return {};
  }
}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, 'throttlePreviousTimestamps', [_lazy_initialize__WEBPACK_IMPORTED_MODULE_0__["default"]], {
  enumerable: true,
  initializer: function initializer() {
    return {};
  }
}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, 'throttleTrailingArgs', [_lazy_initialize__WEBPACK_IMPORTED_MODULE_0__["default"]], {
  enumerable: true,
  initializer: function initializer() {
    return null;
  }
}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, 'profileLastRan', [_lazy_initialize__WEBPACK_IMPORTED_MODULE_0__["default"]], {
  enumerable: true,
  initializer: function initializer() {
    return null;
  }
})), _class);


var META_KEY = typeof Symbol === 'function' ? Symbol('__core_decorators__') : '__core_decorators__';

function metaFor(obj) {
  if (obj.hasOwnProperty(META_KEY) === false) {
    defineProperty(obj, META_KEY, {
      // Defaults: NOT enumerable, configurable, or writable
      value: new Meta()
    });
  }

  return obj[META_KEY];
}

var getOwnKeys = getOwnPropertySymbols ? function (object) {
  return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object));
} : getOwnPropertyNames;

function getOwnPropertyDescriptors(obj) {
  var descs = {};

  getOwnKeys(obj).forEach(function (key) {
    return descs[key] = getOwnPropertyDescriptor(obj, key);
  });

  return descs;
}

function createDefaultSetter(key) {
  return function set(newValue) {
    Object.defineProperty(this, key, {
      configurable: true,
      writable: true,
      // IS enumerable when reassigned by the outside word
      enumerable: true,
      value: newValue
    });

    return newValue;
  };
}

function bind(fn, context) {
  if (fn.bind) {
    return fn.bind(context);
  } else {
    return function __autobind__() {
      return fn.apply(context, arguments);
    };
  }
}

var warn = function () {
  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) !== 'object' || !console || typeof console.warn !== 'function') {
    return function () {};
  } else {
    return bind(console.warn, console);
  }
}();

var seenDeprecations = {};
function internalDeprecation(msg) {
  if (seenDeprecations[msg] !== true) {
    seenDeprecations[msg] = true;
    warn('DEPRECATION: ' + msg);
  }
}

/***/ }),

/***/ "./node_modules/core-decorators/es/profile.js":
/*!****************************************************!*\
  !*** ./node_modules/core-decorators/es/profile.js ***!
  \****************************************************/
/*! exports provided: defaultConsole, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultConsole", function() { return defaultConsole; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return profile; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var oc = console;

// Exported for mocking in tests
var defaultConsole = {
  profile: console.profile ? Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["bind"])(console.profile, console) : function () {},
  profileEnd: console.profileEnd ? Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["bind"])(console.profileEnd, console) : function () {},
  warn: _private_utils__WEBPACK_IMPORTED_MODULE_0__["warn"]
};

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 3),
      _ref2$ = _ref2[0],
      prefix = _ref2$ === undefined ? null : _ref2$,
      _ref2$2 = _ref2[1],
      onceThrottleOrFunction = _ref2$2 === undefined ? false : _ref2$2,
      _ref2$3 = _ref2[2],
      console = _ref2$3 === undefined ? defaultConsole : _ref2$3;

  if (!profile.__enabled) {
    if (!profile.__warned) {
      console.warn('console.profile is not supported. All @profile decorators are disabled.');
      profile.__warned = true;
    }
    return descriptor;
  }

  var fn = descriptor.value;

  if (prefix === null) {
    prefix = target.constructor.name + '.' + key;
  }

  if (typeof fn !== 'function') {
    throw new SyntaxError('@profile can only be used on functions, not: ' + fn);
  }

  return _extends({}, descriptor, {
    value: function value() {
      var now = Date.now();
      var meta = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["metaFor"])(this);
      if (onceThrottleOrFunction === true && !meta.profileLastRan || onceThrottleOrFunction === false || typeof onceThrottleOrFunction === 'number' && now - meta.profileLastRan > onceThrottleOrFunction || typeof onceThrottleOrFunction === 'function' && onceThrottleOrFunction.apply(this, arguments)) {
        console.profile(prefix);
        meta.profileLastRan = now;
      }

      try {
        return fn.apply(this, arguments);
      } finally {
        console.profileEnd(prefix);
      }
    }
  });
}

function profile() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

// Only Chrome, Firefox, and Edge support profile.
// Exposing properties for testing.
profile.__enabled = !!console.profile;
profile.__warned = false;

/***/ }),

/***/ "./node_modules/core-decorators/es/readonly.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/readonly.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return readonly; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");


function handleDescriptor(target, key, descriptor) {
  descriptor.writable = false;
  return descriptor;
}

function readonly() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/suppress-warnings.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-decorators/es/suppress-warnings.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return suppressWarnings; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };



function suppressedWarningNoop() {
  // Warnings are currently suppressed via @suppressWarnings
}

function applyWithoutWarnings(context, fn, args) {
  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) === 'object') {
    var nativeWarn = console.warn;
    console.warn = suppressedWarningNoop;
    var ret = fn.apply(context, args);
    console.warn = nativeWarn;
    return ret;
  } else {
    return fn.apply(context, args);
  }
}

function handleDescriptor(target, key, descriptor) {
  return _extends({}, descriptor, {
    value: function suppressWarningsWrapper() {
      return applyWithoutWarnings(this, descriptor.value, arguments);
    }
  });
}

function suppressWarnings() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/throttle.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-decorators/es/throttle.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return throttle; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var DEFAULT_TIMEOUT = 300;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2),
      _ref2$ = _ref2[0],
      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,
      _ref2$2 = _ref2[1],
      options = _ref2$2 === undefined ? {} : _ref2$2;

  var callback = descriptor.value;

  if (typeof callback !== 'function') {
    throw new SyntaxError('Only functions can be throttled');
  }

  if (options.leading !== false) {
    options.leading = true;
  }

  if (options.trailing !== false) {
    options.trailing = true;
  }

  return _extends({}, descriptor, {
    value: function value() {
      var _this = this;

      var meta = Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["metaFor"])(this);
      var throttleTimeoutIds = meta.throttleTimeoutIds,
          throttlePreviousTimestamps = meta.throttlePreviousTimestamps;

      var timeout = throttleTimeoutIds[key];
      // last execute timestamp
      var previous = throttlePreviousTimestamps[key] || 0;
      var now = Date.now();

      if (options.trailing) {
        meta.throttleTrailingArgs = arguments;
      }

      // if first be called and disable the execution on the leading edge
      // set last execute timestamp to now
      if (!previous && options.leading === false) {
        previous = now;
      }

      var remaining = wait - (now - previous);

      if (remaining <= 0) {
        clearTimeout(timeout);
        delete throttleTimeoutIds[key];
        throttlePreviousTimestamps[key] = now;
        callback.apply(this, arguments);
      } else if (!timeout && options.trailing) {
        throttleTimeoutIds[key] = setTimeout(function () {
          throttlePreviousTimestamps[key] = options.leading === false ? 0 : Date.now();
          delete throttleTimeoutIds[key];
          callback.apply(_this, meta.throttleTrailingArgs);
          // don't leak memory!
          meta.throttleTrailingArgs = null;
        }, remaining);
      }
    }
  });
}

function throttle() {
  Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["internalDeprecation"])('@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators');

  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/core-decorators/es/time.js":
/*!*************************************************!*\
  !*** ./node_modules/core-decorators/es/time.js ***!
  \*************************************************/
/*! exports provided: defaultConsole, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultConsole", function() { return defaultConsole; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return time; });
/* harmony import */ var _private_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./private/utils */ "./node_modules/core-decorators/es/private/utils.js");
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var labels = {};

// Exported for mocking in tests
var defaultConsole = {
  time: console.time ? console.time.bind(console) : function (label) {
    labels[label] = new Date();
  },
  timeEnd: console.timeEnd ? console.timeEnd.bind(console) : function (label) {
    var timeNow = new Date();
    var timeTaken = timeNow - labels[label];
    delete labels[label];
    console.log(label + ': ' + timeTaken + 'ms');
  }
};

var count = 0;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2),
      _ref2$ = _ref2[0],
      prefix = _ref2$ === undefined ? null : _ref2$,
      _ref2$2 = _ref2[1],
      console = _ref2$2 === undefined ? defaultConsole : _ref2$2;

  var fn = descriptor.value;

  if (prefix === null) {
    prefix = target.constructor.name + '.' + key;
  }

  if (typeof fn !== 'function') {
    throw new SyntaxError('@time can only be used on functions, not: ' + fn);
  }

  return _extends({}, descriptor, {
    value: function value() {
      var label = prefix + '-' + count;
      count++;
      console.time(label);

      try {
        return fn.apply(this, arguments);
      } finally {
        console.timeEnd(label);
      }
    }
  });
}

function time() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Object(_private_utils__WEBPACK_IMPORTED_MODULE_0__["decorate"])(handleDescriptor, args);
}

/***/ }),

/***/ "./node_modules/hammerjs/hammer.js":
/*!*****************************************!*\
  !*** ./node_modules/hammerjs/hammer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(window, document, exportName, undefined) {
  'use strict';

var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];
var TEST_ELEMENT = document.createElement('div');

var TYPE_FUNCTION = 'function';

var round = Math.round;
var abs = Math.abs;
var now = Date.now;

/**
 * set a timeout with a given scope
 * @param {Function} fn
 * @param {Number} timeout
 * @param {Object} context
 * @returns {number}
 */
function setTimeoutContext(fn, timeout, context) {
    return setTimeout(bindFn(fn, context), timeout);
}

/**
 * if the argument is an array, we want to execute the fn on each entry
 * if it aint an array we don't want to do a thing.
 * this is used by all the methods that accept a single and array argument.
 * @param {*|Array} arg
 * @param {String} fn
 * @param {Object} [context]
 * @returns {Boolean}
 */
function invokeArrayArg(arg, fn, context) {
    if (Array.isArray(arg)) {
        each(arg, context[fn], context);
        return true;
    }
    return false;
}

/**
 * walk objects and arrays
 * @param {Object} obj
 * @param {Function} iterator
 * @param {Object} context
 */
function each(obj, iterator, context) {
    var i;

    if (!obj) {
        return;
    }

    if (obj.forEach) {
        obj.forEach(iterator, context);
    } else if (obj.length !== undefined) {
        i = 0;
        while (i < obj.length) {
            iterator.call(context, obj[i], i, obj);
            i++;
        }
    } else {
        for (i in obj) {
            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);
        }
    }
}

/**
 * wrap a method with a deprecation warning and stack trace
 * @param {Function} method
 * @param {String} name
 * @param {String} message
 * @returns {Function} A new function wrapping the supplied method.
 */
function deprecate(method, name, message) {
    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\n' + message + ' AT \n';
    return function() {
        var e = new Error('get-stack-trace');
        var stack = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';

        var log = window.console && (window.console.warn || window.console.log);
        if (log) {
            log.call(window.console, deprecationMessage, stack);
        }
        return method.apply(this, arguments);
    };
}

/**
 * extend object.
 * means that properties in dest will be overwritten by the ones in src.
 * @param {Object} target
 * @param {...Object} objects_to_assign
 * @returns {Object} target
 */
var assign;
if (typeof Object.assign !== 'function') {
    assign = function assign(target) {
        if (target === undefined || target === null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }

        var output = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source !== undefined && source !== null) {
                for (var nextKey in source) {
                    if (source.hasOwnProperty(nextKey)) {
                        output[nextKey] = source[nextKey];
                    }
                }
            }
        }
        return output;
    };
} else {
    assign = Object.assign;
}

/**
 * extend object.
 * means that properties in dest will be overwritten by the ones in src.
 * @param {Object} dest
 * @param {Object} src
 * @param {Boolean} [merge=false]
 * @returns {Object} dest
 */
var extend = deprecate(function extend(dest, src, merge) {
    var keys = Object.keys(src);
    var i = 0;
    while (i < keys.length) {
        if (!merge || (merge && dest[keys[i]] === undefined)) {
            dest[keys[i]] = src[keys[i]];
        }
        i++;
    }
    return dest;
}, 'extend', 'Use `assign`.');

/**
 * merge the values from src in the dest.
 * means that properties that exist in dest will not be overwritten by src
 * @param {Object} dest
 * @param {Object} src
 * @returns {Object} dest
 */
var merge = deprecate(function merge(dest, src) {
    return extend(dest, src, true);
}, 'merge', 'Use `assign`.');

/**
 * simple class inheritance
 * @param {Function} child
 * @param {Function} base
 * @param {Object} [properties]
 */
function inherit(child, base, properties) {
    var baseP = base.prototype,
        childP;

    childP = child.prototype = Object.create(baseP);
    childP.constructor = child;
    childP._super = baseP;

    if (properties) {
        assign(childP, properties);
    }
}

/**
 * simple function bind
 * @param {Function} fn
 * @param {Object} context
 * @returns {Function}
 */
function bindFn(fn, context) {
    return function boundFn() {
        return fn.apply(context, arguments);
    };
}

/**
 * let a boolean value also be a function that must return a boolean
 * this first item in args will be used as the context
 * @param {Boolean|Function} val
 * @param {Array} [args]
 * @returns {Boolean}
 */
function boolOrFn(val, args) {
    if (typeof val == TYPE_FUNCTION) {
        return val.apply(args ? args[0] || undefined : undefined, args);
    }
    return val;
}

/**
 * use the val2 when val1 is undefined
 * @param {*} val1
 * @param {*} val2
 * @returns {*}
 */
function ifUndefined(val1, val2) {
    return (val1 === undefined) ? val2 : val1;
}

/**
 * addEventListener with multiple events at once
 * @param {EventTarget} target
 * @param {String} types
 * @param {Function} handler
 */
function addEventListeners(target, types, handler) {
    each(splitStr(types), function(type) {
        target.addEventListener(type, handler, false);
    });
}

/**
 * removeEventListener with multiple events at once
 * @param {EventTarget} target
 * @param {String} types
 * @param {Function} handler
 */
function removeEventListeners(target, types, handler) {
    each(splitStr(types), function(type) {
        target.removeEventListener(type, handler, false);
    });
}

/**
 * find if a node is in the given parent
 * @method hasParent
 * @param {HTMLElement} node
 * @param {HTMLElement} parent
 * @return {Boolean} found
 */
function hasParent(node, parent) {
    while (node) {
        if (node == parent) {
            return true;
        }
        node = node.parentNode;
    }
    return false;
}

/**
 * small indexOf wrapper
 * @param {String} str
 * @param {String} find
 * @returns {Boolean} found
 */
function inStr(str, find) {
    return str.indexOf(find) > -1;
}

/**
 * split string on whitespace
 * @param {String} str
 * @returns {Array} words
 */
function splitStr(str) {
    return str.trim().split(/\s+/g);
}

/**
 * find if a array contains the object using indexOf or a simple polyFill
 * @param {Array} src
 * @param {String} find
 * @param {String} [findByKey]
 * @return {Boolean|Number} false when not found, or the index
 */
function inArray(src, find, findByKey) {
    if (src.indexOf && !findByKey) {
        return src.indexOf(find);
    } else {
        var i = 0;
        while (i < src.length) {
            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {
                return i;
            }
            i++;
        }
        return -1;
    }
}

/**
 * convert array-like objects to real arrays
 * @param {Object} obj
 * @returns {Array}
 */
function toArray(obj) {
    return Array.prototype.slice.call(obj, 0);
}

/**
 * unique array with objects based on a key (like 'id') or just by the array's value
 * @param {Array} src [{id:1},{id:2},{id:1}]
 * @param {String} [key]
 * @param {Boolean} [sort=False]
 * @returns {Array} [{id:1},{id:2}]
 */
function uniqueArray(src, key, sort) {
    var results = [];
    var values = [];
    var i = 0;

    while (i < src.length) {
        var val = key ? src[i][key] : src[i];
        if (inArray(values, val) < 0) {
            results.push(src[i]);
        }
        values[i] = val;
        i++;
    }

    if (sort) {
        if (!key) {
            results = results.sort();
        } else {
            results = results.sort(function sortUniqueArray(a, b) {
                return a[key] > b[key];
            });
        }
    }

    return results;
}

/**
 * get the prefixed property
 * @param {Object} obj
 * @param {String} property
 * @returns {String|Undefined} prefixed
 */
function prefixed(obj, property) {
    var prefix, prop;
    var camelProp = property[0].toUpperCase() + property.slice(1);

    var i = 0;
    while (i < VENDOR_PREFIXES.length) {
        prefix = VENDOR_PREFIXES[i];
        prop = (prefix) ? prefix + camelProp : property;

        if (prop in obj) {
            return prop;
        }
        i++;
    }
    return undefined;
}

/**
 * get a unique id
 * @returns {number} uniqueId
 */
var _uniqueId = 1;
function uniqueId() {
    return _uniqueId++;
}

/**
 * get the window object of an element
 * @param {HTMLElement} element
 * @returns {DocumentView|Window}
 */
function getWindowForElement(element) {
    var doc = element.ownerDocument || element;
    return (doc.defaultView || doc.parentWindow || window);
}

var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;

var SUPPORT_TOUCH = ('ontouchstart' in window);
var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;
var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);

var INPUT_TYPE_TOUCH = 'touch';
var INPUT_TYPE_PEN = 'pen';
var INPUT_TYPE_MOUSE = 'mouse';
var INPUT_TYPE_KINECT = 'kinect';

var COMPUTE_INTERVAL = 25;

var INPUT_START = 1;
var INPUT_MOVE = 2;
var INPUT_END = 4;
var INPUT_CANCEL = 8;

var DIRECTION_NONE = 1;
var DIRECTION_LEFT = 2;
var DIRECTION_RIGHT = 4;
var DIRECTION_UP = 8;
var DIRECTION_DOWN = 16;

var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;
var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;
var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;

var PROPS_XY = ['x', 'y'];
var PROPS_CLIENT_XY = ['clientX', 'clientY'];

/**
 * create new input type manager
 * @param {Manager} manager
 * @param {Function} callback
 * @returns {Input}
 * @constructor
 */
function Input(manager, callback) {
    var self = this;
    this.manager = manager;
    this.callback = callback;
    this.element = manager.element;
    this.target = manager.options.inputTarget;

    // smaller wrapper around the handler, for the scope and the enabled state of the manager,
    // so when disabled the input events are completely bypassed.
    this.domHandler = function(ev) {
        if (boolOrFn(manager.options.enable, [manager])) {
            self.handler(ev);
        }
    };

    this.init();

}

Input.prototype = {
    /**
     * should handle the inputEvent data and trigger the callback
     * @virtual
     */
    handler: function() { },

    /**
     * bind the events
     */
    init: function() {
        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);
        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);
        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    },

    /**
     * unbind the events
     */
    destroy: function() {
        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);
        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);
        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    }
};

/**
 * create new input type manager
 * called by the Manager constructor
 * @param {Hammer} manager
 * @returns {Input}
 */
function createInputInstance(manager) {
    var Type;
    var inputClass = manager.options.inputClass;

    if (inputClass) {
        Type = inputClass;
    } else if (SUPPORT_POINTER_EVENTS) {
        Type = PointerEventInput;
    } else if (SUPPORT_ONLY_TOUCH) {
        Type = TouchInput;
    } else if (!SUPPORT_TOUCH) {
        Type = MouseInput;
    } else {
        Type = TouchMouseInput;
    }
    return new (Type)(manager, inputHandler);
}

/**
 * handle input events
 * @param {Manager} manager
 * @param {String} eventType
 * @param {Object} input
 */
function inputHandler(manager, eventType, input) {
    var pointersLen = input.pointers.length;
    var changedPointersLen = input.changedPointers.length;
    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));
    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));

    input.isFirst = !!isFirst;
    input.isFinal = !!isFinal;

    if (isFirst) {
        manager.session = {};
    }

    // source event is the normalized value of the domEvents
    // like 'touchstart, mouseup, pointerdown'
    input.eventType = eventType;

    // compute scale, rotation etc
    computeInputData(manager, input);

    // emit secret event
    manager.emit('hammer.input', input);

    manager.recognize(input);
    manager.session.prevInput = input;
}

/**
 * extend the data with some usable properties like scale, rotate, velocity etc
 * @param {Object} manager
 * @param {Object} input
 */
function computeInputData(manager, input) {
    var session = manager.session;
    var pointers = input.pointers;
    var pointersLength = pointers.length;

    // store the first input to calculate the distance and direction
    if (!session.firstInput) {
        session.firstInput = simpleCloneInputData(input);
    }

    // to compute scale and rotation we need to store the multiple touches
    if (pointersLength > 1 && !session.firstMultiple) {
        session.firstMultiple = simpleCloneInputData(input);
    } else if (pointersLength === 1) {
        session.firstMultiple = false;
    }

    var firstInput = session.firstInput;
    var firstMultiple = session.firstMultiple;
    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;

    var center = input.center = getCenter(pointers);
    input.timeStamp = now();
    input.deltaTime = input.timeStamp - firstInput.timeStamp;

    input.angle = getAngle(offsetCenter, center);
    input.distance = getDistance(offsetCenter, center);

    computeDeltaXY(session, input);
    input.offsetDirection = getDirection(input.deltaX, input.deltaY);

    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);
    input.overallVelocityX = overallVelocity.x;
    input.overallVelocityY = overallVelocity.y;
    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;

    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;
    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;

    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >
        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);

    computeIntervalInputData(session, input);

    // find the correct target
    var target = manager.element;
    if (hasParent(input.srcEvent.target, target)) {
        target = input.srcEvent.target;
    }
    input.target = target;
}

function computeDeltaXY(session, input) {
    var center = input.center;
    var offset = session.offsetDelta || {};
    var prevDelta = session.prevDelta || {};
    var prevInput = session.prevInput || {};

    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {
        prevDelta = session.prevDelta = {
            x: prevInput.deltaX || 0,
            y: prevInput.deltaY || 0
        };

        offset = session.offsetDelta = {
            x: center.x,
            y: center.y
        };
    }

    input.deltaX = prevDelta.x + (center.x - offset.x);
    input.deltaY = prevDelta.y + (center.y - offset.y);
}

/**
 * velocity is calculated every x ms
 * @param {Object} session
 * @param {Object} input
 */
function computeIntervalInputData(session, input) {
    var last = session.lastInterval || input,
        deltaTime = input.timeStamp - last.timeStamp,
        velocity, velocityX, velocityY, direction;

    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {
        var deltaX = input.deltaX - last.deltaX;
        var deltaY = input.deltaY - last.deltaY;

        var v = getVelocity(deltaTime, deltaX, deltaY);
        velocityX = v.x;
        velocityY = v.y;
        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;
        direction = getDirection(deltaX, deltaY);

        session.lastInterval = input;
    } else {
        // use latest velocity info if it doesn't overtake a minimum period
        velocity = last.velocity;
        velocityX = last.velocityX;
        velocityY = last.velocityY;
        direction = last.direction;
    }

    input.velocity = velocity;
    input.velocityX = velocityX;
    input.velocityY = velocityY;
    input.direction = direction;
}

/**
 * create a simple clone from the input used for storage of firstInput and firstMultiple
 * @param {Object} input
 * @returns {Object} clonedInputData
 */
function simpleCloneInputData(input) {
    // make a simple copy of the pointers because we will get a reference if we don't
    // we only need clientXY for the calculations
    var pointers = [];
    var i = 0;
    while (i < input.pointers.length) {
        pointers[i] = {
            clientX: round(input.pointers[i].clientX),
            clientY: round(input.pointers[i].clientY)
        };
        i++;
    }

    return {
        timeStamp: now(),
        pointers: pointers,
        center: getCenter(pointers),
        deltaX: input.deltaX,
        deltaY: input.deltaY
    };
}

/**
 * get the center of all the pointers
 * @param {Array} pointers
 * @return {Object} center contains `x` and `y` properties
 */
function getCenter(pointers) {
    var pointersLength = pointers.length;

    // no need to loop when only one touch
    if (pointersLength === 1) {
        return {
            x: round(pointers[0].clientX),
            y: round(pointers[0].clientY)
        };
    }

    var x = 0, y = 0, i = 0;
    while (i < pointersLength) {
        x += pointers[i].clientX;
        y += pointers[i].clientY;
        i++;
    }

    return {
        x: round(x / pointersLength),
        y: round(y / pointersLength)
    };
}

/**
 * calculate the velocity between two points. unit is in px per ms.
 * @param {Number} deltaTime
 * @param {Number} x
 * @param {Number} y
 * @return {Object} velocity `x` and `y`
 */
function getVelocity(deltaTime, x, y) {
    return {
        x: x / deltaTime || 0,
        y: y / deltaTime || 0
    };
}

/**
 * get the direction between two points
 * @param {Number} x
 * @param {Number} y
 * @return {Number} direction
 */
function getDirection(x, y) {
    if (x === y) {
        return DIRECTION_NONE;
    }

    if (abs(x) >= abs(y)) {
        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
    }
    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
}

/**
 * calculate the absolute distance between two points
 * @param {Object} p1 {x, y}
 * @param {Object} p2 {x, y}
 * @param {Array} [props] containing x and y keys
 * @return {Number} distance
 */
function getDistance(p1, p2, props) {
    if (!props) {
        props = PROPS_XY;
    }
    var x = p2[props[0]] - p1[props[0]],
        y = p2[props[1]] - p1[props[1]];

    return Math.sqrt((x * x) + (y * y));
}

/**
 * calculate the angle between two coordinates
 * @param {Object} p1
 * @param {Object} p2
 * @param {Array} [props] containing x and y keys
 * @return {Number} angle
 */
function getAngle(p1, p2, props) {
    if (!props) {
        props = PROPS_XY;
    }
    var x = p2[props[0]] - p1[props[0]],
        y = p2[props[1]] - p1[props[1]];
    return Math.atan2(y, x) * 180 / Math.PI;
}

/**
 * calculate the rotation degrees between two pointersets
 * @param {Array} start array of pointers
 * @param {Array} end array of pointers
 * @return {Number} rotation
 */
function getRotation(start, end) {
    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);
}

/**
 * calculate the scale factor between two pointersets
 * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out
 * @param {Array} start array of pointers
 * @param {Array} end array of pointers
 * @return {Number} scale
 */
function getScale(start, end) {
    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);
}

var MOUSE_INPUT_MAP = {
    mousedown: INPUT_START,
    mousemove: INPUT_MOVE,
    mouseup: INPUT_END
};

var MOUSE_ELEMENT_EVENTS = 'mousedown';
var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';

/**
 * Mouse events input
 * @constructor
 * @extends Input
 */
function MouseInput() {
    this.evEl = MOUSE_ELEMENT_EVENTS;
    this.evWin = MOUSE_WINDOW_EVENTS;

    this.pressed = false; // mousedown state

    Input.apply(this, arguments);
}

inherit(MouseInput, Input, {
    /**
     * handle mouse events
     * @param {Object} ev
     */
    handler: function MEhandler(ev) {
        var eventType = MOUSE_INPUT_MAP[ev.type];

        // on start we want to have the left mouse button down
        if (eventType & INPUT_START && ev.button === 0) {
            this.pressed = true;
        }

        if (eventType & INPUT_MOVE && ev.which !== 1) {
            eventType = INPUT_END;
        }

        // mouse must be down
        if (!this.pressed) {
            return;
        }

        if (eventType & INPUT_END) {
            this.pressed = false;
        }

        this.callback(this.manager, eventType, {
            pointers: [ev],
            changedPointers: [ev],
            pointerType: INPUT_TYPE_MOUSE,
            srcEvent: ev
        });
    }
});

var POINTER_INPUT_MAP = {
    pointerdown: INPUT_START,
    pointermove: INPUT_MOVE,
    pointerup: INPUT_END,
    pointercancel: INPUT_CANCEL,
    pointerout: INPUT_CANCEL
};

// in IE10 the pointer types is defined as an enum
var IE10_POINTER_TYPE_ENUM = {
    2: INPUT_TYPE_TOUCH,
    3: INPUT_TYPE_PEN,
    4: INPUT_TYPE_MOUSE,
    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816
};

var POINTER_ELEMENT_EVENTS = 'pointerdown';
var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';

// IE10 has prefixed support, and case-sensitive
if (window.MSPointerEvent && !window.PointerEvent) {
    POINTER_ELEMENT_EVENTS = 'MSPointerDown';
    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';
}

/**
 * Pointer events input
 * @constructor
 * @extends Input
 */
function PointerEventInput() {
    this.evEl = POINTER_ELEMENT_EVENTS;
    this.evWin = POINTER_WINDOW_EVENTS;

    Input.apply(this, arguments);

    this.store = (this.manager.session.pointerEvents = []);
}

inherit(PointerEventInput, Input, {
    /**
     * handle mouse events
     * @param {Object} ev
     */
    handler: function PEhandler(ev) {
        var store = this.store;
        var removePointer = false;

        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');
        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];
        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;

        var isTouch = (pointerType == INPUT_TYPE_TOUCH);

        // get index of the event in the store
        var storeIndex = inArray(store, ev.pointerId, 'pointerId');

        // start and mouse must be down
        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {
            if (storeIndex < 0) {
                store.push(ev);
                storeIndex = store.length - 1;
            }
        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
            removePointer = true;
        }

        // it not found, so the pointer hasn't been down (so it's probably a hover)
        if (storeIndex < 0) {
            return;
        }

        // update the event in the store
        store[storeIndex] = ev;

        this.callback(this.manager, eventType, {
            pointers: store,
            changedPointers: [ev],
            pointerType: pointerType,
            srcEvent: ev
        });

        if (removePointer) {
            // remove from the store
            store.splice(storeIndex, 1);
        }
    }
});

var SINGLE_TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
};

var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';
var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';

/**
 * Touch events input
 * @constructor
 * @extends Input
 */
function SingleTouchInput() {
    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;
    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;
    this.started = false;

    Input.apply(this, arguments);
}

inherit(SingleTouchInput, Input, {
    handler: function TEhandler(ev) {
        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];

        // should we handle the touch events?
        if (type === INPUT_START) {
            this.started = true;
        }

        if (!this.started) {
            return;
        }

        var touches = normalizeSingleTouches.call(this, ev, type);

        // when done, reset the started state
        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {
            this.started = false;
        }

        this.callback(this.manager, type, {
            pointers: touches[0],
            changedPointers: touches[1],
            pointerType: INPUT_TYPE_TOUCH,
            srcEvent: ev
        });
    }
});

/**
 * @this {TouchInput}
 * @param {Object} ev
 * @param {Number} type flag
 * @returns {undefined|Array} [all, changed]
 */
function normalizeSingleTouches(ev, type) {
    var all = toArray(ev.touches);
    var changed = toArray(ev.changedTouches);

    if (type & (INPUT_END | INPUT_CANCEL)) {
        all = uniqueArray(all.concat(changed), 'identifier', true);
    }

    return [all, changed];
}

var TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
};

var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';

/**
 * Multi-user touch events input
 * @constructor
 * @extends Input
 */
function TouchInput() {
    this.evTarget = TOUCH_TARGET_EVENTS;
    this.targetIds = {};

    Input.apply(this, arguments);
}

inherit(TouchInput, Input, {
    handler: function MTEhandler(ev) {
        var type = TOUCH_INPUT_MAP[ev.type];
        var touches = getTouches.call(this, ev, type);
        if (!touches) {
            return;
        }

        this.callback(this.manager, type, {
            pointers: touches[0],
            changedPointers: touches[1],
            pointerType: INPUT_TYPE_TOUCH,
            srcEvent: ev
        });
    }
});

/**
 * @this {TouchInput}
 * @param {Object} ev
 * @param {Number} type flag
 * @returns {undefined|Array} [all, changed]
 */
function getTouches(ev, type) {
    var allTouches = toArray(ev.touches);
    var targetIds = this.targetIds;

    // when there is only one touch, the process can be simplified
    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {
        targetIds[allTouches[0].identifier] = true;
        return [allTouches, allTouches];
    }

    var i,
        targetTouches,
        changedTouches = toArray(ev.changedTouches),
        changedTargetTouches = [],
        target = this.target;

    // get target touches from touches
    targetTouches = allTouches.filter(function(touch) {
        return hasParent(touch.target, target);
    });

    // collect touches
    if (type === INPUT_START) {
        i = 0;
        while (i < targetTouches.length) {
            targetIds[targetTouches[i].identifier] = true;
            i++;
        }
    }

    // filter changed touches to only contain touches that exist in the collected target ids
    i = 0;
    while (i < changedTouches.length) {
        if (targetIds[changedTouches[i].identifier]) {
            changedTargetTouches.push(changedTouches[i]);
        }

        // cleanup removed touches
        if (type & (INPUT_END | INPUT_CANCEL)) {
            delete targetIds[changedTouches[i].identifier];
        }
        i++;
    }

    if (!changedTargetTouches.length) {
        return;
    }

    return [
        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'
        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),
        changedTargetTouches
    ];
}

/**
 * Combined touch and mouse input
 *
 * Touch has a higher priority then mouse, and while touching no mouse events are allowed.
 * This because touch devices also emit mouse events while doing a touch.
 *
 * @constructor
 * @extends Input
 */

var DEDUP_TIMEOUT = 2500;
var DEDUP_DISTANCE = 25;

function TouchMouseInput() {
    Input.apply(this, arguments);

    var handler = bindFn(this.handler, this);
    this.touch = new TouchInput(this.manager, handler);
    this.mouse = new MouseInput(this.manager, handler);

    this.primaryTouch = null;
    this.lastTouches = [];
}

inherit(TouchMouseInput, Input, {
    /**
     * handle mouse and touch events
     * @param {Hammer} manager
     * @param {String} inputEvent
     * @param {Object} inputData
     */
    handler: function TMEhandler(manager, inputEvent, inputData) {
        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),
            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);

        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {
            return;
        }

        // when we're in a touch event, record touches to  de-dupe synthetic mouse event
        if (isTouch) {
            recordTouches.call(this, inputEvent, inputData);
        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {
            return;
        }

        this.callback(manager, inputEvent, inputData);
    },

    /**
     * remove the event listeners
     */
    destroy: function destroy() {
        this.touch.destroy();
        this.mouse.destroy();
    }
});

function recordTouches(eventType, eventData) {
    if (eventType & INPUT_START) {
        this.primaryTouch = eventData.changedPointers[0].identifier;
        setLastTouch.call(this, eventData);
    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
        setLastTouch.call(this, eventData);
    }
}

function setLastTouch(eventData) {
    var touch = eventData.changedPointers[0];

    if (touch.identifier === this.primaryTouch) {
        var lastTouch = {x: touch.clientX, y: touch.clientY};
        this.lastTouches.push(lastTouch);
        var lts = this.lastTouches;
        var removeLastTouch = function() {
            var i = lts.indexOf(lastTouch);
            if (i > -1) {
                lts.splice(i, 1);
            }
        };
        setTimeout(removeLastTouch, DEDUP_TIMEOUT);
    }
}

function isSyntheticEvent(eventData) {
    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;
    for (var i = 0; i < this.lastTouches.length; i++) {
        var t = this.lastTouches[i];
        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);
        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {
            return true;
        }
    }
    return false;
}

var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');
var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;

// magical touchAction value
var TOUCH_ACTION_COMPUTE = 'compute';
var TOUCH_ACTION_AUTO = 'auto';
var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented
var TOUCH_ACTION_NONE = 'none';
var TOUCH_ACTION_PAN_X = 'pan-x';
var TOUCH_ACTION_PAN_Y = 'pan-y';
var TOUCH_ACTION_MAP = getTouchActionProps();

/**
 * Touch Action
 * sets the touchAction property or uses the js alternative
 * @param {Manager} manager
 * @param {String} value
 * @constructor
 */
function TouchAction(manager, value) {
    this.manager = manager;
    this.set(value);
}

TouchAction.prototype = {
    /**
     * set the touchAction value on the element or enable the polyfill
     * @param {String} value
     */
    set: function(value) {
        // find out the touch-action by the event handlers
        if (value == TOUCH_ACTION_COMPUTE) {
            value = this.compute();
        }

        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {
            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;
        }
        this.actions = value.toLowerCase().trim();
    },

    /**
     * just re-set the touchAction value
     */
    update: function() {
        this.set(this.manager.options.touchAction);
    },

    /**
     * compute the value for the touchAction property based on the recognizer's settings
     * @returns {String} value
     */
    compute: function() {
        var actions = [];
        each(this.manager.recognizers, function(recognizer) {
            if (boolOrFn(recognizer.options.enable, [recognizer])) {
                actions = actions.concat(recognizer.getTouchAction());
            }
        });
        return cleanTouchActions(actions.join(' '));
    },

    /**
     * this method is called on each input cycle and provides the preventing of the browser behavior
     * @param {Object} input
     */
    preventDefaults: function(input) {
        var srcEvent = input.srcEvent;
        var direction = input.offsetDirection;

        // if the touch action did prevented once this session
        if (this.manager.session.prevented) {
            srcEvent.preventDefault();
            return;
        }

        var actions = this.actions;
        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];
        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];
        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];

        if (hasNone) {
            //do not prevent defaults if this is a tap gesture

            var isTapPointer = input.pointers.length === 1;
            var isTapMovement = input.distance < 2;
            var isTapTouchTime = input.deltaTime < 250;

            if (isTapPointer && isTapMovement && isTapTouchTime) {
                return;
            }
        }

        if (hasPanX && hasPanY) {
            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent
            return;
        }

        if (hasNone ||
            (hasPanY && direction & DIRECTION_HORIZONTAL) ||
            (hasPanX && direction & DIRECTION_VERTICAL)) {
            return this.preventSrc(srcEvent);
        }
    },

    /**
     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)
     * @param {Object} srcEvent
     */
    preventSrc: function(srcEvent) {
        this.manager.session.prevented = true;
        srcEvent.preventDefault();
    }
};

/**
 * when the touchActions are collected they are not a valid value, so we need to clean things up. *
 * @param {String} actions
 * @returns {*}
 */
function cleanTouchActions(actions) {
    // none
    if (inStr(actions, TOUCH_ACTION_NONE)) {
        return TOUCH_ACTION_NONE;
    }

    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);
    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);

    // if both pan-x and pan-y are set (different recognizers
    // for different directions, e.g. horizontal pan but vertical swipe?)
    // we need none (as otherwise with pan-x pan-y combined none of these
    // recognizers will work, since the browser would handle all panning
    if (hasPanX && hasPanY) {
        return TOUCH_ACTION_NONE;
    }

    // pan-x OR pan-y
    if (hasPanX || hasPanY) {
        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;
    }

    // manipulation
    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {
        return TOUCH_ACTION_MANIPULATION;
    }

    return TOUCH_ACTION_AUTO;
}

function getTouchActionProps() {
    if (!NATIVE_TOUCH_ACTION) {
        return false;
    }
    var touchMap = {};
    var cssSupports = window.CSS && window.CSS.supports;
    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {

        // If css.supports is not supported but there is native touch-action assume it supports
        // all values. This is the case for IE 10 and 11.
        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;
    });
    return touchMap;
}

/**
 * Recognizer flow explained; *
 * All recognizers have the initial state of POSSIBLE when a input session starts.
 * The definition of a input session is from the first input until the last input, with all it's movement in it. *
 * Example session for mouse-input: mousedown -> mousemove -> mouseup
 *
 * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed
 * which determines with state it should be.
 *
 * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to
 * POSSIBLE to give it another change on the next cycle.
 *
 *               Possible
 *                  |
 *            +-----+---------------+
 *            |                     |
 *      +-----+-----+               |
 *      |           |               |
 *   Failed      Cancelled          |
 *                          +-------+------+
 *                          |              |
 *                      Recognized       Began
 *                                         |
 *                                      Changed
 *                                         |
 *                                  Ended/Recognized
 */
var STATE_POSSIBLE = 1;
var STATE_BEGAN = 2;
var STATE_CHANGED = 4;
var STATE_ENDED = 8;
var STATE_RECOGNIZED = STATE_ENDED;
var STATE_CANCELLED = 16;
var STATE_FAILED = 32;

/**
 * Recognizer
 * Every recognizer needs to extend from this class.
 * @constructor
 * @param {Object} options
 */
function Recognizer(options) {
    this.options = assign({}, this.defaults, options || {});

    this.id = uniqueId();

    this.manager = null;

    // default is enable true
    this.options.enable = ifUndefined(this.options.enable, true);

    this.state = STATE_POSSIBLE;

    this.simultaneous = {};
    this.requireFail = [];
}

Recognizer.prototype = {
    /**
     * @virtual
     * @type {Object}
     */
    defaults: {},

    /**
     * set options
     * @param {Object} options
     * @return {Recognizer}
     */
    set: function(options) {
        assign(this.options, options);

        // also update the touchAction, in case something changed about the directions/enabled state
        this.manager && this.manager.touchAction.update();
        return this;
    },

    /**
     * recognize simultaneous with an other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    recognizeWith: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {
            return this;
        }

        var simultaneous = this.simultaneous;
        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        if (!simultaneous[otherRecognizer.id]) {
            simultaneous[otherRecognizer.id] = otherRecognizer;
            otherRecognizer.recognizeWith(this);
        }
        return this;
    },

    /**
     * drop the simultaneous link. it doesnt remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    dropRecognizeWith: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {
            return this;
        }

        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        delete this.simultaneous[otherRecognizer.id];
        return this;
    },

    /**
     * recognizer can only run when an other is failing
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    requireFailure: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {
            return this;
        }

        var requireFail = this.requireFail;
        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        if (inArray(requireFail, otherRecognizer) === -1) {
            requireFail.push(otherRecognizer);
            otherRecognizer.requireFailure(this);
        }
        return this;
    },

    /**
     * drop the requireFailure link. it does not remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    dropRequireFailure: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {
            return this;
        }

        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        var index = inArray(this.requireFail, otherRecognizer);
        if (index > -1) {
            this.requireFail.splice(index, 1);
        }
        return this;
    },

    /**
     * has require failures boolean
     * @returns {boolean}
     */
    hasRequireFailures: function() {
        return this.requireFail.length > 0;
    },

    /**
     * if the recognizer can recognize simultaneous with an other recognizer
     * @param {Recognizer} otherRecognizer
     * @returns {Boolean}
     */
    canRecognizeWith: function(otherRecognizer) {
        return !!this.simultaneous[otherRecognizer.id];
    },

    /**
     * You should use `tryEmit` instead of `emit` directly to check
     * that all the needed recognizers has failed before emitting.
     * @param {Object} input
     */
    emit: function(input) {
        var self = this;
        var state = this.state;

        function emit(event) {
            self.manager.emit(event, input);
        }

        // 'panstart' and 'panmove'
        if (state < STATE_ENDED) {
            emit(self.options.event + stateStr(state));
        }

        emit(self.options.event); // simple 'eventName' events

        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)
            emit(input.additionalEvent);
        }

        // panend and pancancel
        if (state >= STATE_ENDED) {
            emit(self.options.event + stateStr(state));
        }
    },

    /**
     * Check that all the require failure recognizers has failed,
     * if true, it emits a gesture event,
     * otherwise, setup the state to FAILED.
     * @param {Object} input
     */
    tryEmit: function(input) {
        if (this.canEmit()) {
            return this.emit(input);
        }
        // it's failing anyway
        this.state = STATE_FAILED;
    },

    /**
     * can we emit?
     * @returns {boolean}
     */
    canEmit: function() {
        var i = 0;
        while (i < this.requireFail.length) {
            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {
                return false;
            }
            i++;
        }
        return true;
    },

    /**
     * update the recognizer
     * @param {Object} inputData
     */
    recognize: function(inputData) {
        // make a new copy of the inputData
        // so we can change the inputData without messing up the other recognizers
        var inputDataClone = assign({}, inputData);

        // is is enabled and allow recognizing?
        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {
            this.reset();
            this.state = STATE_FAILED;
            return;
        }

        // reset when we've reached the end
        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {
            this.state = STATE_POSSIBLE;
        }

        this.state = this.process(inputDataClone);

        // the recognizer has recognized a gesture
        // so trigger an event
        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {
            this.tryEmit(inputDataClone);
        }
    },

    /**
     * return the state of the recognizer
     * the actual recognizing happens in this method
     * @virtual
     * @param {Object} inputData
     * @returns {Const} STATE
     */
    process: function(inputData) { }, // jshint ignore:line

    /**
     * return the preferred touch-action
     * @virtual
     * @returns {Array}
     */
    getTouchAction: function() { },

    /**
     * called when the gesture isn't allowed to recognize
     * like when another is being recognized or it is disabled
     * @virtual
     */
    reset: function() { }
};

/**
 * get a usable string, used as event postfix
 * @param {Const} state
 * @returns {String} state
 */
function stateStr(state) {
    if (state & STATE_CANCELLED) {
        return 'cancel';
    } else if (state & STATE_ENDED) {
        return 'end';
    } else if (state & STATE_CHANGED) {
        return 'move';
    } else if (state & STATE_BEGAN) {
        return 'start';
    }
    return '';
}

/**
 * direction cons to string
 * @param {Const} direction
 * @returns {String}
 */
function directionStr(direction) {
    if (direction == DIRECTION_DOWN) {
        return 'down';
    } else if (direction == DIRECTION_UP) {
        return 'up';
    } else if (direction == DIRECTION_LEFT) {
        return 'left';
    } else if (direction == DIRECTION_RIGHT) {
        return 'right';
    }
    return '';
}

/**
 * get a recognizer by name if it is bound to a manager
 * @param {Recognizer|String} otherRecognizer
 * @param {Recognizer} recognizer
 * @returns {Recognizer}
 */
function getRecognizerByNameIfManager(otherRecognizer, recognizer) {
    var manager = recognizer.manager;
    if (manager) {
        return manager.get(otherRecognizer);
    }
    return otherRecognizer;
}

/**
 * This recognizer is just used as a base for the simple attribute recognizers.
 * @constructor
 * @extends Recognizer
 */
function AttrRecognizer() {
    Recognizer.apply(this, arguments);
}

inherit(AttrRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof AttrRecognizer
     */
    defaults: {
        /**
         * @type {Number}
         * @default 1
         */
        pointers: 1
    },

    /**
     * Used to check if it the recognizer receives valid input, like input.distance > 10.
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {Boolean} recognized
     */
    attrTest: function(input) {
        var optionPointers = this.options.pointers;
        return optionPointers === 0 || input.pointers.length === optionPointers;
    },

    /**
     * Process the input and return the state for the recognizer
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {*} State
     */
    process: function(input) {
        var state = this.state;
        var eventType = input.eventType;

        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);
        var isValid = this.attrTest(input);

        // on cancel input and we've recognized before, return STATE_CANCELLED
        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {
            return state | STATE_CANCELLED;
        } else if (isRecognized || isValid) {
            if (eventType & INPUT_END) {
                return state | STATE_ENDED;
            } else if (!(state & STATE_BEGAN)) {
                return STATE_BEGAN;
            }
            return state | STATE_CHANGED;
        }
        return STATE_FAILED;
    }
});

/**
 * Pan
 * Recognized when the pointer is down and moved in the allowed direction.
 * @constructor
 * @extends AttrRecognizer
 */
function PanRecognizer() {
    AttrRecognizer.apply(this, arguments);

    this.pX = null;
    this.pY = null;
}

inherit(PanRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof PanRecognizer
     */
    defaults: {
        event: 'pan',
        threshold: 10,
        pointers: 1,
        direction: DIRECTION_ALL
    },

    getTouchAction: function() {
        var direction = this.options.direction;
        var actions = [];
        if (direction & DIRECTION_HORIZONTAL) {
            actions.push(TOUCH_ACTION_PAN_Y);
        }
        if (direction & DIRECTION_VERTICAL) {
            actions.push(TOUCH_ACTION_PAN_X);
        }
        return actions;
    },

    directionTest: function(input) {
        var options = this.options;
        var hasMoved = true;
        var distance = input.distance;
        var direction = input.direction;
        var x = input.deltaX;
        var y = input.deltaY;

        // lock to axis?
        if (!(direction & options.direction)) {
            if (options.direction & DIRECTION_HORIZONTAL) {
                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;
                hasMoved = x != this.pX;
                distance = Math.abs(input.deltaX);
            } else {
                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;
                hasMoved = y != this.pY;
                distance = Math.abs(input.deltaY);
            }
        }
        input.direction = direction;
        return hasMoved && distance > options.threshold && direction & options.direction;
    },

    attrTest: function(input) {
        return AttrRecognizer.prototype.attrTest.call(this, input) &&
            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));
    },

    emit: function(input) {

        this.pX = input.deltaX;
        this.pY = input.deltaY;

        var direction = directionStr(input.direction);

        if (direction) {
            input.additionalEvent = this.options.event + direction;
        }
        this._super.emit.call(this, input);
    }
});

/**
 * Pinch
 * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).
 * @constructor
 * @extends AttrRecognizer
 */
function PinchRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(PinchRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof PinchRecognizer
     */
    defaults: {
        event: 'pinch',
        threshold: 0,
        pointers: 2
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_NONE];
    },

    attrTest: function(input) {
        return this._super.attrTest.call(this, input) &&
            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);
    },

    emit: function(input) {
        if (input.scale !== 1) {
            var inOut = input.scale < 1 ? 'in' : 'out';
            input.additionalEvent = this.options.event + inOut;
        }
        this._super.emit.call(this, input);
    }
});

/**
 * Press
 * Recognized when the pointer is down for x ms without any movement.
 * @constructor
 * @extends Recognizer
 */
function PressRecognizer() {
    Recognizer.apply(this, arguments);

    this._timer = null;
    this._input = null;
}

inherit(PressRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof PressRecognizer
     */
    defaults: {
        event: 'press',
        pointers: 1,
        time: 251, // minimal time of the pointer to be pressed
        threshold: 9 // a minimal movement is ok, but keep it low
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_AUTO];
    },

    process: function(input) {
        var options = this.options;
        var validPointers = input.pointers.length === options.pointers;
        var validMovement = input.distance < options.threshold;
        var validTime = input.deltaTime > options.time;

        this._input = input;

        // we only allow little movement
        // and we've reached an end event, so a tap is possible
        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {
            this.reset();
        } else if (input.eventType & INPUT_START) {
            this.reset();
            this._timer = setTimeoutContext(function() {
                this.state = STATE_RECOGNIZED;
                this.tryEmit();
            }, options.time, this);
        } else if (input.eventType & INPUT_END) {
            return STATE_RECOGNIZED;
        }
        return STATE_FAILED;
    },

    reset: function() {
        clearTimeout(this._timer);
    },

    emit: function(input) {
        if (this.state !== STATE_RECOGNIZED) {
            return;
        }

        if (input && (input.eventType & INPUT_END)) {
            this.manager.emit(this.options.event + 'up', input);
        } else {
            this._input.timeStamp = now();
            this.manager.emit(this.options.event, this._input);
        }
    }
});

/**
 * Rotate
 * Recognized when two or more pointer are moving in a circular motion.
 * @constructor
 * @extends AttrRecognizer
 */
function RotateRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(RotateRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof RotateRecognizer
     */
    defaults: {
        event: 'rotate',
        threshold: 0,
        pointers: 2
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_NONE];
    },

    attrTest: function(input) {
        return this._super.attrTest.call(this, input) &&
            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);
    }
});

/**
 * Swipe
 * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.
 * @constructor
 * @extends AttrRecognizer
 */
function SwipeRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(SwipeRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof SwipeRecognizer
     */
    defaults: {
        event: 'swipe',
        threshold: 10,
        velocity: 0.3,
        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,
        pointers: 1
    },

    getTouchAction: function() {
        return PanRecognizer.prototype.getTouchAction.call(this);
    },

    attrTest: function(input) {
        var direction = this.options.direction;
        var velocity;

        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {
            velocity = input.overallVelocity;
        } else if (direction & DIRECTION_HORIZONTAL) {
            velocity = input.overallVelocityX;
        } else if (direction & DIRECTION_VERTICAL) {
            velocity = input.overallVelocityY;
        }

        return this._super.attrTest.call(this, input) &&
            direction & input.offsetDirection &&
            input.distance > this.options.threshold &&
            input.maxPointers == this.options.pointers &&
            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;
    },

    emit: function(input) {
        var direction = directionStr(input.offsetDirection);
        if (direction) {
            this.manager.emit(this.options.event + direction, input);
        }

        this.manager.emit(this.options.event, input);
    }
});

/**
 * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur
 * between the given interval and position. The delay option can be used to recognize multi-taps without firing
 * a single tap.
 *
 * The eventData from the emitted event contains the property `tapCount`, which contains the amount of
 * multi-taps being recognized.
 * @constructor
 * @extends Recognizer
 */
function TapRecognizer() {
    Recognizer.apply(this, arguments);

    // previous time and center,
    // used for tap counting
    this.pTime = false;
    this.pCenter = false;

    this._timer = null;
    this._input = null;
    this.count = 0;
}

inherit(TapRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof PinchRecognizer
     */
    defaults: {
        event: 'tap',
        pointers: 1,
        taps: 1,
        interval: 300, // max time between the multi-tap taps
        time: 250, // max time of the pointer to be down (like finger on the screen)
        threshold: 9, // a minimal movement is ok, but keep it low
        posThreshold: 10 // a multi-tap can be a bit off the initial position
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_MANIPULATION];
    },

    process: function(input) {
        var options = this.options;

        var validPointers = input.pointers.length === options.pointers;
        var validMovement = input.distance < options.threshold;
        var validTouchTime = input.deltaTime < options.time;

        this.reset();

        if ((input.eventType & INPUT_START) && (this.count === 0)) {
            return this.failTimeout();
        }

        // we only allow little movement
        // and we've reached an end event, so a tap is possible
        if (validMovement && validTouchTime && validPointers) {
            if (input.eventType != INPUT_END) {
                return this.failTimeout();
            }

            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;
            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;

            this.pTime = input.timeStamp;
            this.pCenter = input.center;

            if (!validMultiTap || !validInterval) {
                this.count = 1;
            } else {
                this.count += 1;
            }

            this._input = input;

            // if tap count matches we have recognized it,
            // else it has began recognizing...
            var tapCount = this.count % options.taps;
            if (tapCount === 0) {
                // no failing requirements, immediately trigger the tap event
                // or wait as long as the multitap interval to trigger
                if (!this.hasRequireFailures()) {
                    return STATE_RECOGNIZED;
                } else {
                    this._timer = setTimeoutContext(function() {
                        this.state = STATE_RECOGNIZED;
                        this.tryEmit();
                    }, options.interval, this);
                    return STATE_BEGAN;
                }
            }
        }
        return STATE_FAILED;
    },

    failTimeout: function() {
        this._timer = setTimeoutContext(function() {
            this.state = STATE_FAILED;
        }, this.options.interval, this);
        return STATE_FAILED;
    },

    reset: function() {
        clearTimeout(this._timer);
    },

    emit: function() {
        if (this.state == STATE_RECOGNIZED) {
            this._input.tapCount = this.count;
            this.manager.emit(this.options.event, this._input);
        }
    }
});

/**
 * Simple way to create a manager with a default set of recognizers.
 * @param {HTMLElement} element
 * @param {Object} [options]
 * @constructor
 */
function Hammer(element, options) {
    options = options || {};
    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);
    return new Manager(element, options);
}

/**
 * @const {string}
 */
Hammer.VERSION = '2.0.7';

/**
 * default settings
 * @namespace
 */
Hammer.defaults = {
    /**
     * set if DOM events are being triggered.
     * But this is slower and unused by simple implementations, so disabled by default.
     * @type {Boolean}
     * @default false
     */
    domEvents: false,

    /**
     * The value for the touchAction property/fallback.
     * When set to `compute` it will magically set the correct value based on the added recognizers.
     * @type {String}
     * @default compute
     */
    touchAction: TOUCH_ACTION_COMPUTE,

    /**
     * @type {Boolean}
     * @default true
     */
    enable: true,

    /**
     * EXPERIMENTAL FEATURE -- can be removed/changed
     * Change the parent input target element.
     * If Null, then it is being set the to main element.
     * @type {Null|EventTarget}
     * @default null
     */
    inputTarget: null,

    /**
     * force an input class
     * @type {Null|Function}
     * @default null
     */
    inputClass: null,

    /**
     * Default recognizer setup when calling `Hammer()`
     * When creating a new Manager these will be skipped.
     * @type {Array}
     */
    preset: [
        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]
        [RotateRecognizer, {enable: false}],
        [PinchRecognizer, {enable: false}, ['rotate']],
        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],
        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],
        [TapRecognizer],
        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],
        [PressRecognizer]
    ],

    /**
     * Some CSS properties can be used to improve the working of Hammer.
     * Add them to this method and they will be set when creating a new Manager.
     * @namespace
     */
    cssProps: {
        /**
         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userSelect: 'none',

        /**
         * Disable the Windows Phone grippers when pressing an element.
         * @type {String}
         * @default 'none'
         */
        touchSelect: 'none',

        /**
         * Disables the default callout shown when you touch and hold a touch target.
         * On iOS, when you touch and hold a touch target such as a link, Safari displays
         * a callout containing information about the link. This property allows you to disable that callout.
         * @type {String}
         * @default 'none'
         */
        touchCallout: 'none',

        /**
         * Specifies whether zooming is enabled. Used by IE10>
         * @type {String}
         * @default 'none'
         */
        contentZooming: 'none',

        /**
         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userDrag: 'none',

        /**
         * Overrides the highlight color shown when the user taps a link or a JavaScript
         * clickable element in iOS. This property obeys the alpha value, if specified.
         * @type {String}
         * @default 'rgba(0,0,0,0)'
         */
        tapHighlightColor: 'rgba(0,0,0,0)'
    }
};

var STOP = 1;
var FORCED_STOP = 2;

/**
 * Manager
 * @param {HTMLElement} element
 * @param {Object} [options]
 * @constructor
 */
function Manager(element, options) {
    this.options = assign({}, Hammer.defaults, options || {});

    this.options.inputTarget = this.options.inputTarget || element;

    this.handlers = {};
    this.session = {};
    this.recognizers = [];
    this.oldCssProps = {};

    this.element = element;
    this.input = createInputInstance(this);
    this.touchAction = new TouchAction(this, this.options.touchAction);

    toggleCssProps(this, true);

    each(this.options.recognizers, function(item) {
        var recognizer = this.add(new (item[0])(item[1]));
        item[2] && recognizer.recognizeWith(item[2]);
        item[3] && recognizer.requireFailure(item[3]);
    }, this);
}

Manager.prototype = {
    /**
     * set options
     * @param {Object} options
     * @returns {Manager}
     */
    set: function(options) {
        assign(this.options, options);

        // Options that need a little more setup
        if (options.touchAction) {
            this.touchAction.update();
        }
        if (options.inputTarget) {
            // Clean up existing event listeners and reinitialize
            this.input.destroy();
            this.input.target = options.inputTarget;
            this.input.init();
        }
        return this;
    },

    /**
     * stop recognizing for this session.
     * This session will be discarded, when a new [input]start event is fired.
     * When forced, the recognizer cycle is stopped immediately.
     * @param {Boolean} [force]
     */
    stop: function(force) {
        this.session.stopped = force ? FORCED_STOP : STOP;
    },

    /**
     * run the recognizers!
     * called by the inputHandler function on every movement of the pointers (touches)
     * it walks through all the recognizers and tries to detect the gesture that is being made
     * @param {Object} inputData
     */
    recognize: function(inputData) {
        var session = this.session;
        if (session.stopped) {
            return;
        }

        // run the touch-action polyfill
        this.touchAction.preventDefaults(inputData);

        var recognizer;
        var recognizers = this.recognizers;

        // this holds the recognizer that is being recognized.
        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED
        // if no recognizer is detecting a thing, it is set to `null`
        var curRecognizer = session.curRecognizer;

        // reset when the last recognizer is recognized
        // or when we're in a new session
        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {
            curRecognizer = session.curRecognizer = null;
        }

        var i = 0;
        while (i < recognizers.length) {
            recognizer = recognizers[i];

            // find out if we are allowed try to recognize the input for this one.
            // 1.   allow if the session is NOT forced stopped (see the .stop() method)
            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one
            //      that is being recognized.
            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.
            //      this can be setup with the `recognizeWith()` method on the recognizer.
            if (session.stopped !== FORCED_STOP && ( // 1
                    !curRecognizer || recognizer == curRecognizer || // 2
                    recognizer.canRecognizeWith(curRecognizer))) { // 3
                recognizer.recognize(inputData);
            } else {
                recognizer.reset();
            }

            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the
            // current active recognizer. but only if we don't already have an active recognizer
            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {
                curRecognizer = session.curRecognizer = recognizer;
            }
            i++;
        }
    },

    /**
     * get a recognizer by its event name.
     * @param {Recognizer|String} recognizer
     * @returns {Recognizer|Null}
     */
    get: function(recognizer) {
        if (recognizer instanceof Recognizer) {
            return recognizer;
        }

        var recognizers = this.recognizers;
        for (var i = 0; i < recognizers.length; i++) {
            if (recognizers[i].options.event == recognizer) {
                return recognizers[i];
            }
        }
        return null;
    },

    /**
     * add a recognizer to the manager
     * existing recognizers with the same event name will be removed
     * @param {Recognizer} recognizer
     * @returns {Recognizer|Manager}
     */
    add: function(recognizer) {
        if (invokeArrayArg(recognizer, 'add', this)) {
            return this;
        }

        // remove existing
        var existing = this.get(recognizer.options.event);
        if (existing) {
            this.remove(existing);
        }

        this.recognizers.push(recognizer);
        recognizer.manager = this;

        this.touchAction.update();
        return recognizer;
    },

    /**
     * remove a recognizer by name or instance
     * @param {Recognizer|String} recognizer
     * @returns {Manager}
     */
    remove: function(recognizer) {
        if (invokeArrayArg(recognizer, 'remove', this)) {
            return this;
        }

        recognizer = this.get(recognizer);

        // let's make sure this recognizer exists
        if (recognizer) {
            var recognizers = this.recognizers;
            var index = inArray(recognizers, recognizer);

            if (index !== -1) {
                recognizers.splice(index, 1);
                this.touchAction.update();
            }
        }

        return this;
    },

    /**
     * bind event
     * @param {String} events
     * @param {Function} handler
     * @returns {EventEmitter} this
     */
    on: function(events, handler) {
        if (events === undefined) {
            return;
        }
        if (handler === undefined) {
            return;
        }

        var handlers = this.handlers;
        each(splitStr(events), function(event) {
            handlers[event] = handlers[event] || [];
            handlers[event].push(handler);
        });
        return this;
    },

    /**
     * unbind event, leave emit blank to remove all handlers
     * @param {String} events
     * @param {Function} [handler]
     * @returns {EventEmitter} this
     */
    off: function(events, handler) {
        if (events === undefined) {
            return;
        }

        var handlers = this.handlers;
        each(splitStr(events), function(event) {
            if (!handler) {
                delete handlers[event];
            } else {
                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);
            }
        });
        return this;
    },

    /**
     * emit event to the listeners
     * @param {String} event
     * @param {Object} data
     */
    emit: function(event, data) {
        // we also want to trigger dom events
        if (this.options.domEvents) {
            triggerDomEvent(event, data);
        }

        // no handlers, so skip it all
        var handlers = this.handlers[event] && this.handlers[event].slice();
        if (!handlers || !handlers.length) {
            return;
        }

        data.type = event;
        data.preventDefault = function() {
            data.srcEvent.preventDefault();
        };

        var i = 0;
        while (i < handlers.length) {
            handlers[i](data);
            i++;
        }
    },

    /**
     * destroy the manager and unbinds all events
     * it doesn't unbind dom events, that is the user own responsibility
     */
    destroy: function() {
        this.element && toggleCssProps(this, false);

        this.handlers = {};
        this.session = {};
        this.input.destroy();
        this.element = null;
    }
};

/**
 * add/remove the css properties as defined in manager.options.cssProps
 * @param {Manager} manager
 * @param {Boolean} add
 */
function toggleCssProps(manager, add) {
    var element = manager.element;
    if (!element.style) {
        return;
    }
    var prop;
    each(manager.options.cssProps, function(value, name) {
        prop = prefixed(element.style, name);
        if (add) {
            manager.oldCssProps[prop] = element.style[prop];
            element.style[prop] = value;
        } else {
            element.style[prop] = manager.oldCssProps[prop] || '';
        }
    });
    if (!add) {
        manager.oldCssProps = {};
    }
}

/**
 * trigger dom event
 * @param {String} event
 * @param {Object} data
 */
function triggerDomEvent(event, data) {
    var gestureEvent = document.createEvent('Event');
    gestureEvent.initEvent(event, true, true);
    gestureEvent.gesture = data;
    data.target.dispatchEvent(gestureEvent);
}

assign(Hammer, {
    INPUT_START: INPUT_START,
    INPUT_MOVE: INPUT_MOVE,
    INPUT_END: INPUT_END,
    INPUT_CANCEL: INPUT_CANCEL,

    STATE_POSSIBLE: STATE_POSSIBLE,
    STATE_BEGAN: STATE_BEGAN,
    STATE_CHANGED: STATE_CHANGED,
    STATE_ENDED: STATE_ENDED,
    STATE_RECOGNIZED: STATE_RECOGNIZED,
    STATE_CANCELLED: STATE_CANCELLED,
    STATE_FAILED: STATE_FAILED,

    DIRECTION_NONE: DIRECTION_NONE,
    DIRECTION_LEFT: DIRECTION_LEFT,
    DIRECTION_RIGHT: DIRECTION_RIGHT,
    DIRECTION_UP: DIRECTION_UP,
    DIRECTION_DOWN: DIRECTION_DOWN,
    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,
    DIRECTION_VERTICAL: DIRECTION_VERTICAL,
    DIRECTION_ALL: DIRECTION_ALL,

    Manager: Manager,
    Input: Input,
    TouchAction: TouchAction,

    TouchInput: TouchInput,
    MouseInput: MouseInput,
    PointerEventInput: PointerEventInput,
    TouchMouseInput: TouchMouseInput,
    SingleTouchInput: SingleTouchInput,

    Recognizer: Recognizer,
    AttrRecognizer: AttrRecognizer,
    Tap: TapRecognizer,
    Pan: PanRecognizer,
    Swipe: SwipeRecognizer,
    Pinch: PinchRecognizer,
    Rotate: RotateRecognizer,
    Press: PressRecognizer,

    on: addEventListeners,
    off: removeEventListeners,
    each: each,
    merge: merge,
    extend: extend,
    assign: assign,
    inherit: inherit,
    bindFn: bindFn,
    prefixed: prefixed
});

// this prevents errors when Hammer is loaded in the presence of an AMD
//  style loader but by script tag, not by the loader.
var freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line
freeGlobal.Hammer = Hammer;

if (true) {
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
        return Hammer;
    }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {}

})(window, document, 'Hammer');


/***/ }),

/***/ "./node_modules/is-buffer/index.js":
/*!*****************************************!*\
  !*** ./node_modules/is-buffer/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */

// The _isBuffer check is for Safari 5-7 support, because it's missing
// Object.prototype.constructor. Remove this eventually
module.exports = function (obj) {
  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)
}

function isBuffer (obj) {
  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)
}

// For Node v0.10 support. Remove this eventually.
function isSlowBuffer (obj) {
  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./static/js/Core.ts":
/*!***************************!*\
  !*** ./static/js/Core.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var components_1 = __webpack_require__(/*! ./components */ "./static/js/components/index.ts");
var pages_1 = __webpack_require__(/*! ./pages */ "./static/js/pages/index.ts");
var components_2 = __webpack_require__(/*! ./components */ "./static/js/components/index.ts");
var forms_1 = __webpack_require__(/*! ./forms */ "./static/js/forms/index.ts");
var util_1 = __webpack_require__(/*! ./util */ "./static/js/util/index.ts");
var SELECTORS = {
    MDC_BUTTONS: '.mdc-button',
};
var Core = (function () {
    function Core(page) {
        this.page = page;
        this.phase = document.body.dataset.phase;
        this.header = new components_1.Header(this);
        this.footer = new components_1.Footer(this);
        this.mdcButtons = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.MDC_BUTTONS));
        this.prefersReducedMotion = window.matchMedia('(prefers-reduced-motion)').matches;
    }
    Core.prototype.init = function () {
        this.mdcButtons.forEach(function (button) {
            if (util_1.Ripple) {
                new util_1.Ripple(button);
            }
        });
        if (this.prefersReducedMotion) {
            document.documentElement.classList.add(util_1.ACTION_CLASSES.REDUCE_MOTION);
        }
        this.angularBootstrap();
        if (!this.page) {
            return;
        }
        switch (this.page) {
            case 'competition-info':
                this.cardStack = new components_2.CardStack();
                this.ajaxModal = new components_2.AjaxModal(this);
                if (!this.prefersReducedMotion) {
                    new components_2.AnimateShapes();
                }
                break;
            case 'educator-resources':
                this.cardStack = new components_2.CardStack();
                break;
            case 'student-resources':
                this.cardStack = new components_2.CardStack();
                break;
            case 'faq':
                new components_2.ScrollTo();
                new components_2.Accordion();
                break;
            case 'home':
                if (this.phase === 'open') {
                    this.cardStack = new components_2.CardStack();
                    this.ajaxModal = new components_2.AjaxModal(this);
                    new components_2.CategoryFilter();
                    this.home = new pages_1.Home(this);
                    if (!this.prefersReducedMotion) {
                        this.homeConclusionShapes = new components_2.HomeConclusionShapes();
                    }
                    this.homeNumberAnimations = new components_2.HomeNumberAnimation(this);
                    this.homeThoughtStarter = new components_2.HomeThoughtStarter(this);
                    this.homeVideoPlayer = new components_2.HomeVideoPlayer();
                }
                else if (this.phase === 'judging') {
                    this.home = new pages_1.Home(this);
                    new forms_1.TeaserForm(this);
                    this.forms = new forms_1.Forms(this);
                    this.homeThoughtStarter = new components_2.HomeThoughtStarter();
                    this.homeVideoPlayer = new components_2.HomeVideoPlayer();
                    this.ajaxModal = new components_2.AjaxModal(this);
                }
                else {
                    this.home = new pages_1.Home(this);
                    new forms_1.TeaserForm(this);
                    this.forms = new forms_1.Forms(this);
                    this.ajaxModal = new components_2.AjaxModal(this);
                }
                break;
            case 'competition-past-projects':
                this.ajaxModal = new components_2.AjaxModal(this);
                var listAccordion = new components_2.ListAccordion('.js-past-projects-list', '.js-past-projects-button');
                new components_2.CategoryFilter(listAccordion.expandList);
                break;
            case 'register':
                new components_1.StickyBar(true);
                this.register = new pages_1.Register(this);
                this.forms = new forms_1.Forms(this);
                break;
            case 'styleguide':
                this.styleguide = new pages_1.Styleguide(this);
                this.forms = new forms_1.Forms(this);
                break;
            case 'teaser':
                this.teaser = new pages_1.Teaser(this);
                this.forms = new forms_1.Forms(this);
                break;
            case 'dashboard':
                new pages_1.Dashboard(this);
                new components_1.StickyBar(true);
                new components_2.Alert(this);
                break;
            case 'your-project-about-me':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-bibliography':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-health-safety':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'project-preview':
                new components_1.StickyBar(true);
                new components_2.ScrollTo();
                this.projectPreview = new pages_1.ProjectPreview(this);
                break;
            case 'your-project-submit-review':
                new components_2.ScrollTo();
                new components_1.StickyBar(true);
                break;
            case 'your-project-summary':
                this.forms = new forms_1.Forms(this);
                this.stepSummaryForm = new forms_1.StepSummaryForm(this);
                break;
            case 'your-project-question':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-research':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-method':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-results':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-project-conclusion':
                this.forms = new forms_1.Forms(this);
                this.stepForm = new forms_1.StepForm(this);
                break;
            case 'your-account':
                new components_2.ScrollTo();
                this.forms = new forms_1.Forms(this);
                this.profile = new forms_1.Profile(this);
                break;
            case 'your-account-team':
                new components_2.ScrollTo();
                this.forms = new forms_1.Forms(this);
                this.teamForm = new forms_1.TeamForm(this);
                break;
            case 'your-account-consent':
                new components_2.ScrollTo();
                this.forms = new forms_1.Forms(this);
                new forms_1.ConsentForm(this);
                break;
            case 'your-project-submit-checklist':
                new forms_1.CheckList(this);
                new components_1.StickyBar(true);
                break;
            case 'parental-consent':
                new forms_1.ParentalConsent(this);
                new components_1.StickyBar(true);
                break;
            case 'your-project-inspiring-educator':
                this.forms = new forms_1.Forms(this);
                new forms_1.InspiringEducator(this);
                break;
        }
        if (this.page.includes('student-resources-') || this.page.includes('educator-resources-')) {
            new components_2.ResourceNav();
            if (!this.prefersReducedMotion) {
                new components_2.AnimateShapes();
            }
        }
    };
    Core.prototype.angularBootstrap = function () {
        angular.module('gsf', [
            glue.lite.module.name,
            glue.ng.carousel.module.name,
            glue.ng.carousel.breakpoints.module.name,
            glue.ng.pagination.module.name,
            glue.ng.zippy.module.name,
            glue.ng.zippy.set.module.name,
            glue.ng.zippy.toggleAll.module.name,
            glue.ng.tabby.module.name,
            hercules.templates.module.name,
            hercules.components.header.module.name,
        ])
            .value('glueZippySmoothExpandFxDuration', 300)
            .value('glueModalServiceStoreRouteDisable', true)
            .config(['$provide', function ($provide) {
                $provide.decorator('$browser', ['$delegate', function ($delegate) {
                        $delegate.onUrlChange = function () { };
                        $delegate.url = function () { return ''; };
                        return $delegate;
                    }]);
            }]);
        glue.app.bootstrap('gsf');
    };
    return Core;
}());
exports.default = Core;


/***/ }),

/***/ "./static/js/app.ts":
/*!**************************!*\
  !*** ./static/js/app.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Core_1 = __webpack_require__(/*! ./Core */ "./static/js/Core.ts");
var core = new Core_1.default(document.body.dataset['page']);
core.init();


/***/ }),

/***/ "./static/js/components/Accordion.ts":
/*!*******************************************!*\
  !*** ./static/js/components/Accordion.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var DEFAULT_ANIMATION_TIMING = 0.5;
var LINK_SELECTOR = '.js-accordion-item';
var PANEL_SELECTOR = '.js-accordion-panel';
var Accordion = (function () {
    function Accordion() {
        var linkElements = util_1.nodeListToArray(document.querySelectorAll(LINK_SELECTOR));
        this.items = linkElements.map(function (element) {
            var targetId = element.getAttribute('href');
            var target = targetId ? document.querySelector(targetId) : null;
            return {
                link: element,
                targetId: targetId || '',
                target: target,
                panel: target ? target.querySelector(PANEL_SELECTOR) : null,
                isExpanded: false,
            };
        });
        if (this.items) {
            this.init();
        }
    }
    Accordion.prototype.init = function () {
        this.checkHash();
        this.bindEvents();
    };
    Accordion.prototype.bindEvents = function () {
        var _this = this;
        this.items.forEach(function (item) {
            item.link.addEventListener('click', function (e) {
                e.preventDefault();
                _this.handleAccordionClick(item);
            });
        });
        window.addEventListener('popstate', this.checkHash);
    };
    Accordion.prototype.handleAccordionClick = function (item) {
        if (item.isExpanded) {
            this.collapseItem(item);
        }
        else {
            this.expandItem(item);
        }
    };
    Accordion.prototype.checkHash = function () {
        var _this = this;
        var currentHash = window.location.hash;
        this.items.forEach(function (item) {
            if (currentHash === item.targetId) {
                setTimeout(function () {
                    var currentScroll = window.scrollY || document.documentElement.scrollTop;
                    if (item.panel) {
                        window.scrollTo(0, currentScroll - (item.panel.offsetHeight));
                    }
                }, 10);
                _this.expandItem(item);
            }
        });
    };
    Accordion.prototype.collapseItem = function (item) {
        if (!item.isExpanded) {
            return;
        }
        item.isExpanded = false;
        window.history.replaceState(null, undefined, ' ');
        TweenMax.to(item.target, DEFAULT_ANIMATION_TIMING, {
            height: 0,
            ease: Quad.easeOut,
            onStart: function () {
                item.link.setAttribute('aria-expanded', 'false');
                if (item.target) {
                    item.target.setAttribute('aria-expanded', 'false');
                }
            },
        });
    };
    Accordion.prototype.expandItem = function (item) {
        if (item.isExpanded || !item.panel) {
            return;
        }
        item.isExpanded = true;
        window.history.replaceState(null, undefined, item.targetId);
        TweenMax.to(item.target, DEFAULT_ANIMATION_TIMING, {
            height: item.panel.offsetHeight,
            ease: Quad.easeOut,
            onStart: function () {
                item.link.setAttribute('aria-expanded', 'true');
                if (item.target) {
                    item.target.setAttribute('aria-expanded', 'true');
                }
            },
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], Accordion.prototype, "handleAccordionClick", null);
    __decorate([
        core_decorators_1.autobind
    ], Accordion.prototype, "checkHash", null);
    return Accordion;
}());
exports.Accordion = Accordion;


/***/ }),

/***/ "./static/js/components/AgeRangeRestriction.ts":
/*!*****************************************************!*\
  !*** ./static/js/components/AgeRangeRestriction.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var UPPER_AGE_RANGE_COUNTRIES = new Set(['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE',
    'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT',
    'RO', 'SK', 'SI', 'ES', 'SE', 'UK', 'GB']);
var MID_AGE_RANGE_COUNTRIES = new Set(['IL', 'KR']);
var AgeRangeRestrictions = (function () {
    function AgeRangeRestrictions(country, ageRangeContainer, registerTerms) {
        this.ageRange = '';
        this.country = country;
        this.registerTerms = registerTerms;
        this.ageRangeContainer = ageRangeContainer;
        this.ageRanges = util_1.nodeListToArray(this.ageRangeContainer
            .querySelectorAll('input'));
        this.ageRangeLabels = util_1.nodeListToArray(this.ageRangeContainer
            .querySelectorAll('label'));
        this.country.addEventListener('change', this.handleCountryChange);
        this.init();
    }
    AgeRangeRestrictions.prototype.init = function () {
        var _this = this;
        this.ageRanges.forEach(function (input) {
            input.addEventListener('change', _this.handleAgeChange);
            if (input.checked) {
                _this.ageRange = input.value;
            }
        });
        this.setAgeVisibility();
    };
    AgeRangeRestrictions.prototype.handleCountryChange = function () {
        this.resetAges();
        this.setAgeVisibility();
    };
    AgeRangeRestrictions.prototype.handleAgeChange = function (event) {
        if (event.target.checked) {
            this.ageRange = event.target.value;
        }
    };
    AgeRangeRestrictions.prototype.resetAges = function () {
        this.ageRanges.forEach(function (range) {
            range.checked = false;
            range.disabled = false;
        });
        this.ageRangeLabels.forEach(function (label) {
            label.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            label.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        });
        this.ageRange = '';
    };
    AgeRangeRestrictions.prototype.setAgeVisibility = function () {
        var upperAgeRange = UPPER_AGE_RANGE_COUNTRIES.has(this.country.value);
        var midAgeRange = MID_AGE_RANGE_COUNTRIES.has(this.country.value);
        if (upperAgeRange) {
            this.setAgeInputsHidden(new Set(['13-15', '14-15']));
            this.registerTerms && this.registerTerms.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        }
        else if (midAgeRange) {
            this.setAgeInputsHidden(new Set(['13-15']));
            this.registerTerms && this.registerTerms.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        }
        else {
            this.setAgeInputsHidden(new Set(['14-15']));
            this.registerTerms && this.registerTerms.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        }
    };
    AgeRangeRestrictions.prototype.setAgeInputsHidden = function (rangeString) {
        var _this = this;
        this.ageRanges.map(function (range) {
            if (rangeString.has(range.value)) {
                return range;
            }
        }).forEach(function (input) {
            if (!input) {
                return;
            }
            input.disabled = true;
            _this.ageRangeContainer.querySelector("label[for=\"" + input.id + "\"]")
                .classList.add(util_1.ACTION_CLASSES.HIDDEN);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "handleCountryChange", null);
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "handleAgeChange", null);
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "resetAges", null);
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "setAgeVisibility", null);
    __decorate([
        core_decorators_1.autobind
    ], AgeRangeRestrictions.prototype, "setAgeInputsHidden", null);
    return AgeRangeRestrictions;
}());
exports.default = AgeRangeRestrictions;


/***/ }),

/***/ "./static/js/components/AjaxModal.ts":
/*!*******************************************!*\
  !*** ./static/js/components/AjaxModal.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    MODAL: '.js-modal-container',
    MODAL_LINK: '.js-modal-link',
    MODAL_CLOSE: '.h-c-modal__close',
    MODAL_OVERLAY: '.glue-c-modal__overlay',
    MODAL_CONTENT: '.glue-c-modal__content',
};
var loaderHtml = "\n<div role=\"progressbar\" class=\"mdc-linear-progress mdc-linear-progress--indeterminate\">\n  <div class=\"mdc-linear-progress__buffering-dots\"></div>\n  <div class=\"mdc-linear-progress__buffer\"></div>\n  <div class=\"mdc-linear-progress__bar mdc-linear-progress__primary-bar\">\n    <span class=\"mdc-linear-progress__bar-inner\"></span>\n  </div>\n  <div class=\"mdc-linear-progress__bar mdc-linear-progress__secondary-bar\">\n    <span class=\"mdc-linear-progress__bar-inner\"></span>\n  </div>\n</div>\n";
var AjaxModal = (function () {
    function AjaxModal(core) {
        this.core = core;
        this.modalLinks = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.MODAL_LINK));
        this.modal = document.querySelector(SELECTORS.MODAL);
        this.modalCloseButton = this.modal.querySelector(SELECTORS.MODAL_CLOSE);
        this.modalOverlay = this.modal.querySelector(SELECTORS.MODAL_OVERLAY);
        this.attachEvents();
    }
    AjaxModal.prototype.attachEvents = function () {
        var _this = this;
        this.modalLinks.forEach(function (link) {
            link.addEventListener('click', _this.handleModalLinkClick);
        });
        if (this.modalCloseButton) {
            this.modalCloseButton.addEventListener('click', this.onModalClose);
        }
        document.addEventListener('keydown', function (e) {
            var keyEvent = e;
            if (keyEvent.code === 'Escape') {
                _this.onModalClose();
            }
        });
        this.modalOverlay.addEventListener('click', function (e) {
            if (e.currentTarget !== e.target) {
                return;
            }
            _this.onModalClose();
        });
    };
    AjaxModal.prototype.handleModalLinkClick = function (e) {
        if (e.currentTarget === null) {
            return;
        }
        var modalContentContainer = this.modal
            .querySelector(SELECTORS.MODAL_CONTENT);
        modalContentContainer.innerHTML = loaderHtml;
        var target = e.currentTarget.href;
        util_1.axiosInstance.get(target).then(function (response) {
            var responseHtml = response.data;
            var wrapper = document.createElement('div');
            wrapper.innerHTML = responseHtml;
            var content = wrapper.querySelector('#content');
            if (content === null) {
                return;
            }
            modalContentContainer.innerHTML = '';
            modalContentContainer.appendChild(content);
        });
    };
    AjaxModal.prototype.onModalClose = function () {
        var modalContentContainer = this.modal
            .querySelector(SELECTORS.MODAL_CONTENT);
        modalContentContainer.innerHTML = '';
    };
    __decorate([
        core_decorators_1.autobind
    ], AjaxModal.prototype, "handleModalLinkClick", null);
    __decorate([
        core_decorators_1.autobind
    ], AjaxModal.prototype, "onModalClose", null);
    return AjaxModal;
}());
exports.default = AjaxModal;


/***/ }),

/***/ "./static/js/components/Alert.ts":
/*!***************************************!*\
  !*** ./static/js/components/Alert.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    ALERTS: '.js-alert',
    DISMISS_BUTTONS: '.js-dismiss-alert',
};
var Alert = (function () {
    function Alert(core) {
        this.core = core;
        this.dismissButtons = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.DISMISS_BUTTONS));
        this.alerts = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.ALERTS));
        this.cookieValue = util_1.readCookie('alert-dismissed') !== null ?
            new Set(util_1.readCookie('alert-dismissed').replace(/"/g, '').split(',')) : new Set();
        this.init();
    }
    Alert.prototype.init = function () {
        var _this = this;
        this.setAlertVisibility();
        this.dismissButtons.forEach(function (button) {
            button.addEventListener('click', _this.handleDismiss);
        });
    };
    Alert.prototype.tearDown = function () {
        var _this = this;
        this.dismissButtons.forEach(function (button) {
            button.removeEventListener('click', _this.handleDismiss);
        });
    };
    Alert.prototype.setAlertVisibility = function () {
        var _this = this;
        this.alerts.forEach(function (alert) {
            if (_this.cookieValue.has(alert.dataset.alert)) {
                alert.classList.add(util_1.ACTION_CLASSES.HIDDEN);
            }
        });
    };
    Alert.prototype.handleDismiss = function (e) {
        e.preventDefault();
        var alertType = e.currentTarget.dataset.alert;
        if (!alertType) {
            return;
        }
        this.cookieValue = this.cookieValue.add(alertType.replace(/"/g, ''));
        util_1.writeCookie('alert-dismissed', Array.from(this.cookieValue).toString());
        this.setAlertVisibility();
    };
    __decorate([
        core_decorators_1.autobind
    ], Alert.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], Alert.prototype, "tearDown", null);
    __decorate([
        core_decorators_1.autobind
    ], Alert.prototype, "setAlertVisibility", null);
    __decorate([
        core_decorators_1.autobind
    ], Alert.prototype, "handleDismiss", null);
    return Alert;
}());
exports.default = Alert;


/***/ }),

/***/ "./static/js/components/AnimateShapes.ts":
/*!***********************************************!*\
  !*** ./static/js/components/AnimateShapes.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    SHAPES_CONTAINER: '.js-animate-shapes',
};
var AnimateShapes = (function () {
    function AnimateShapes() {
        var _this = this;
        this.shapesContainer = document.querySelector(SELECTORS.SHAPES_CONTAINER);
        this.shapePaths = util_1.nodeListToArray(this.shapesContainer.querySelectorAll('path, polygon'));
        this.shapesToAnimate = this.shapePaths.map(function (path) {
            path.style.opacity = '1';
            return {
                el: path,
                xFactor: _this.getRandomInt(30, 70),
                yFactor: _this.getRandomInt(5, 120),
                direction: path.getBoundingClientRect().left <= (window.innerWidth / 2) ? -1 : 1,
            };
        });
        this.handleScroll();
        this.init();
    }
    AnimateShapes.prototype.init = function () {
        if (!this.shapesContainer) {
            return;
        }
        document.addEventListener('scroll', this.onScroll);
    };
    AnimateShapes.prototype.onScroll = function () {
        if (this.shapesContainer && util_1.isInViewport(this.shapesContainer)) {
            requestAnimationFrame(this.handleScroll);
        }
    };
    AnimateShapes.prototype.handleScroll = function () {
        for (var index = 0; index < this.shapesToAnimate.length; index++) {
            this.animateShape(this.shapesToAnimate[index]);
        }
    };
    AnimateShapes.prototype.animateShape = function (shape) {
        var shapeTop = shape.el.getBoundingClientRect().top;
        shape.el.style.transform =
            "translate3d(" + shapeTop / shape.yFactor + "px,\n        " + shape.direction * (shapeTop / shape.xFactor) + "px, 0)\n        rotate(" + shape.direction * (shapeTop / 90) + "deg)";
    };
    AnimateShapes.prototype.getRandomInt = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    __decorate([
        core_decorators_1.autobind
    ], AnimateShapes.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], AnimateShapes.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], AnimateShapes.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], AnimateShapes.prototype, "animateShape", null);
    return AnimateShapes;
}());
exports.default = AnimateShapes;


/***/ }),

/***/ "./static/js/components/AudioPlayer.ts":
/*!*********************************************!*\
  !*** ./static/js/components/AudioPlayer.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var AudioPlayer = (function () {
    function AudioPlayer(filename, onLoaded) {
        this.isLoaded = false;
        this.isConnected = false;
        this.volume = 1;
        if (!filename) {
            throw new Error('No file name was provided to audio player');
        }
        this.filename = filename;
        this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        this.onLoaded = onLoaded;
        this.data = null;
    }
    AudioPlayer.prototype.load = function () {
        var _this = this;
        var request = new Request(this.filename);
        return window.fetch(request, {
            credentials: 'same-origin',
        })
            .then(function (response) { return response.arrayBuffer(); })
            .then(function (buffer) {
            _this.audioCtx.decodeAudioData(buffer, function (data) {
                _this.data = data || null;
                _this.isLoaded = true;
                _this.createNodes();
                if (_this.onLoaded) {
                    _this.onLoaded();
                }
            }, function (error) {
                throw new Error("" + error);
            });
        });
    };
    AudioPlayer.prototype.createNodes = function () {
        if (!this.isLoaded || !this.audioCtx) {
            return;
        }
        this.source = this.audioCtx.createBufferSource();
        this.gainNode = this.audioCtx.createGain();
        this.source.connect(this.gainNode);
        this.source.buffer = this.data || null;
        this.gainNode.connect(this.audioCtx.destination);
    };
    AudioPlayer.prototype.setVolume = function (volume) {
        this.volume = volume;
        if (!this.gainNode) {
            return;
        }
        this.gainNode.gain.setTargetAtTime(this.volume, this.audioCtx.currentTime, 0.01);
    };
    AudioPlayer.prototype.start = function (startTime) {
        var _this = this;
        if (startTime === void 0) { startTime = 0; }
        if (this.isConnected || !this.isLoaded) {
            return;
        }
        this.audioCtx.resume().then(function () {
            _this.createNodes();
            _this.connect();
            if (_this.source) {
                _this.source.start(0, startTime);
            }
        });
    };
    AudioPlayer.prototype.stop = function () {
        this.disconnect();
    };
    AudioPlayer.prototype.connect = function () {
        if (this.isConnected || !this.gainNode || !this.isLoaded || !this.audioCtx) {
            return;
        }
        this.gainNode.connect(this.audioCtx.destination);
        this.isConnected = true;
    };
    AudioPlayer.prototype.disconnect = function () {
        if (!this.isConnected || !this.source || !this.isLoaded) {
            return;
        }
        this.source.disconnect();
        this.isConnected = false;
    };
    return AudioPlayer;
}());
exports.AudioPlayer = AudioPlayer;


/***/ }),

/***/ "./static/js/components/CKEdit.ts":
/*!****************************************!*\
  !*** ./static/js/components/CKEdit.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    TEXTAREA: '.js-rich-textarea',
    INLINE_TEXTAREA: '.js-inline-textarea',
    HELP_CONTAINER: '.js-help-container',
};
var REMOVE_BUTTONS_MOBILE = ['About', 'Anchor', 'Copy', 'Cut',
    'Format', 'Iframe', 'JustifyBlock', 'JustifyCenter', 'JustifyLeft',
    'JustifyRight', 'NumberedList', 'Paste', 'Scayt', 'Strike', 'Subscript',
    'Superscript', 'Table', 'Underline', 'Unlink'];
var TEXT_AREA_HEIGHT_TABLET = 400;
var TEXT_AREA_HEIGHT_MOBILE = 242;
var CKEdit = (function () {
    function CKEdit(core, onChangeCallback) {
        this.core = core;
        this.onChangeCallBack = onChangeCallback;
        this.textareas = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.TEXTAREA));
        this.inlineTextareas = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.INLINE_TEXTAREA));
        this.helpContainer = document.querySelector(SELECTORS.HELP_CONTAINER);
        this.isMobileScreenSize = window.innerWidth < 600;
        if (this.helpContainer) {
            this.height = this.helpContainer.getBoundingClientRect().height - 45;
        }
        else {
            this.height = 148;
        }
        this.init();
    }
    CKEdit.prototype.init = function () {
        var _this = this;
        if (this.isMobileScreenSize) {
            this.height = TEXT_AREA_HEIGHT_MOBILE;
        }
        else if (window.innerWidth < 1024) {
            this.height = TEXT_AREA_HEIGHT_TABLET;
        }
        setTimeout(function () { return _this.setTextareas(); }, 600);
        this.setInlineTextareas();
        CKEDITOR.on('instanceReady', function (ev) {
            _this.editor = ev.editor;
        });
    };
    CKEdit.prototype.setTextareas = function () {
        var _this = this;
        this.textareas.forEach(function (textarea) {
            var textareaEditor = CKEDITOR.replace(textarea, __assign({}, util_1.CKEDITOR_SETTINGS, { height: _this.height, wordcount: {
                    showParagraphs: false,
                    maxWordCount: textarea.dataset.wordcount || 250,
                    hardLimit: false,
                }, linkShowTargetTab: false, removeButtons: _this.isMobileScreenSize ?
                    REMOVE_BUTTONS_MOBILE.join(',') : util_1.CKEDITOR_SETTINGS.removeButtons }));
            textareaEditor.on('change', _this.handleTextareaChange);
        });
    };
    CKEdit.prototype.setInlineTextareas = function () {
        var _this = this;
        this.inlineTextareas.forEach(function (textarea) {
            var textareaEditor = CKEDITOR.inline(textarea, __assign({}, util_1.CKEDITOR_SETTINGS, { removePlugins: 'image,table,tabletoolstoolbar,tabletools,googledocs,'
                    + 'tableselection,picker,iframe,document,justify,list,format,link', wordcount: {
                    showParagraphs: false,
                    maxWordCount: textarea.dataset.wordcount || 100,
                    hardLimit: false,
                } }));
            textareaEditor.on('change', _this.handleTextareaChange);
        });
    };
    CKEdit.prototype.handleTextareaChange = function (e) {
        this.onChangeCallBack && this.onChangeCallBack(e);
    };
    __decorate([
        core_decorators_1.autobind
    ], CKEdit.prototype, "setTextareas", null);
    __decorate([
        core_decorators_1.autobind
    ], CKEdit.prototype, "setInlineTextareas", null);
    __decorate([
        core_decorators_1.autobind
    ], CKEdit.prototype, "handleTextareaChange", null);
    return CKEdit;
}());
exports.CKEdit = CKEdit;


/***/ }),

/***/ "./static/js/components/CardStack.ts":
/*!*******************************************!*\
  !*** ./static/js/components/CardStack.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var Hammer = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    CARD_STACK: '.js-card-stack-carousel',
    CARD: '.js-card-stack-card',
    PREVIOUS: '.js-card-stack-pagination-previous',
    NEXT: '.js-card-stack-pagination-next',
    PAGINATION_CONTAINER: '.js-card-stack-pagination',
    CARDS_UL: '.js-card-stack-list',
};
var OFFSCREEN_AMOUNT = '-220%';
var CardStack = (function () {
    function CardStack(container) {
        this.currentIndex = 0;
        this.isActive = false;
        this.hammer = null;
        this.container = container || document.querySelector(SELECTORS.CARD_STACK);
        this.cards = util_1.nodeListToArray(this.container.querySelectorAll(SELECTORS.CARD));
        this.next = this.container.querySelector(SELECTORS.NEXT);
        this.prev = this.container.querySelector(SELECTORS.PREVIOUS);
        this.paginationContainer =
            this.container.querySelector(SELECTORS.PAGINATION_CONTAINER);
        this.paginationLi = [];
        this.medScreen = window.matchMedia(util_1.MEDIA_QUERIES.SMALL).matches;
        this.init();
    }
    CardStack.prototype.init = function () {
        if (!this.medScreen) {
            this.startup();
            this.next.addEventListener('click', this.goToNext);
            this.prev.addEventListener('click', this.goToPrevious);
        }
        window.addEventListener('resize', this.handleResize);
    };
    CardStack.prototype.handleResize = function () {
        window.requestAnimationFrame(this.setCardStackByScreenSize);
    };
    CardStack.prototype.startup = function () {
        this.isActive = true;
        this.container.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        this.next.addEventListener('click', this.goToNext);
        this.prev.addEventListener('click', this.goToPrevious);
        this.setUpCards();
        this.setVisibleCards();
        this.setVisibleArrows();
        this.setUpTabList();
        this.hammer = new Hammer.Manager(this.container.querySelector(SELECTORS.CARDS_UL));
        this.hammer.add(new Hammer.Swipe({
            direction: Hammer.DIRECTION_HORIZONTAL,
        }));
        this.hammer.on('swipe', this.handleSwipe);
    };
    CardStack.prototype.tearDown = function () {
        this.isActive = false;
        this.container.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        this.cards.forEach(function (card, i) {
            card.removeAttribute('style');
            card.removeAttribute('tab-index');
            card.removeAttribute('aria-hidden');
        });
        this.paginationLi = [];
        this.paginationContainer.innerHTML = '';
        this.next.removeEventListener('click', this.goToNext);
        this.prev.removeEventListener('click', this.goToPrevious);
        if (this.hammer) {
            this.hammer.destroy();
        }
    };
    CardStack.prototype.setCardStackByScreenSize = function () {
        this.medScreen = window.matchMedia(util_1.MEDIA_QUERIES.SMALL).matches;
        if (this.medScreen && this.isActive) {
            this.tearDown();
        }
        else if (!this.medScreen && !this.isActive) {
            this.startup();
        }
    };
    CardStack.prototype.generateRandomSkew = function () {
        var num = Math.floor(Math.random() * 4) + 1;
        return num *= Math.floor(Math.random() * 2) === 1 ? 1 : -1;
    };
    CardStack.prototype.setUpCards = function () {
        var _this = this;
        this.cards.forEach(function (card, i) {
            card.style.zIndex = "" + (_this.cards.length - i);
            if (i === 0) {
                card.style.transform = 'rotate(0)deg';
                card.setAttribute('tab-index', '-1');
            }
            else {
                card.style.transform =
                    "rotate(" + _this.generateRandomSkew() + "deg)\n            translate3d(" + _this.generateRandomSkew() + "px, " + _this.generateRandomSkew() + "px, 0)";
                card.setAttribute('aria-hidden', 'true');
            }
        });
    };
    CardStack.prototype.setUpTabList = function () {
        var _this = this;
        var ul = document.createElement('ul');
        ul.setAttribute('role', 'tablist');
        ul.classList.add('glue-pagination-page-list', 'glue-o-pagination__page-list');
        this.cards.forEach(function (_card, i) {
            var li = document.createElement('li');
            li.setAttribute('data-page', "" + i);
            li.classList.add('glue-o-pagination__button-container', 'glue-o-pagination__page-list-button-container');
            _this.paginationLi.push(li);
            var button = document.createElement('button');
            button.setAttribute('type', 'button');
            button.setAttribute('role', 'tab');
            button.setAttribute('aria-selected', 'false');
            button.setAttribute('data-page', "" + i);
            button.classList.add('glue-o-pagination__button', 'glue-o-pagination__page-list-button');
            button.addEventListener('click', _this.handleTabClick);
            if (i === 0) {
                li.classList.add('active');
                button.setAttribute('aria-selected', 'true');
            }
            li.appendChild(button);
            ul.appendChild(li);
        });
        this.paginationContainer.appendChild(ul);
    };
    CardStack.prototype.setVisibleCards = function () {
        var _this = this;
        this.cards.forEach(function (card, i) {
            card.style.opacity = '0';
            if (i >= _this.currentIndex - 1 && i <= _this.currentIndex + 2) {
                card.style.opacity = '1';
            }
        });
    };
    CardStack.prototype.setVisibleArrows = function () {
        if (this.currentIndex === 0) {
            this.prev.style.visibility = 'hidden';
            this.prev.setAttribute('aria-hidden', 'true');
        }
        else if (this.currentIndex === this.cards.length - 1) {
            this.next.style.visibility = 'hidden';
            this.next.setAttribute('aria-hidden', 'true');
        }
        else {
            this.prev.style.visibility = 'visible';
            this.next.style.visibility = 'visible';
            this.prev.setAttribute('aria-hidden', 'false');
            this.next.setAttribute('aria-hidden', 'false');
        }
    };
    CardStack.prototype.animateOut = function () {
        var _this = this;
        var indexes = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            indexes[_i] = arguments[_i];
        }
        indexes.forEach(function (index) {
            _this.cards[index].style.transform = "rotate(" + _this.generateRandomSkew() + "deg)\n          translateX(" + OFFSCREEN_AMOUNT + ") rotate(" + _this.generateRandomSkew() + "deg)";
        });
    };
    CardStack.prototype.animateIn = function () {
        var _this = this;
        var indexes = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            indexes[_i] = arguments[_i];
        }
        indexes.forEach(function (index) {
            _this.cards[index].style.transform = "rotate(" + _this.generateRandomSkew() + "deg)\n          translateX(0) rotate(" + _this.generateRandomSkew() + "deg)";
        });
    };
    CardStack.prototype.handleTabClick = function (e) {
        e.preventDefault();
        var target = e.target;
        var index = parseInt(target.dataset.page || '0', 10);
        this.updatePagination(index);
        this.goToCard(index);
        this.currentIndex = index;
        this.setVisibleCards();
        this.setVisibleArrows();
    };
    CardStack.prototype.updatePagination = function (index) {
        this.paginationLi.forEach(function (li) {
            if (parseInt(li.dataset.page || '0', 10) === index) {
                li.classList.add('active');
                li.querySelector('button').setAttribute('aria-selected', 'true');
            }
            else {
                li.classList.remove('active');
                li.querySelector('button').setAttribute('aria-selected', 'false');
            }
        });
    };
    CardStack.prototype.goToCard = function (index) {
        this.cards.forEach(function (card, i) {
            card.setAttribute('aria-hidden', 'true');
            card.removeAttribute('tab-index');
        });
        if (index > this.currentIndex) {
            this.animateOut.apply(this, Array.from(Array(index).slice().keys()));
        }
        else {
            var difference = this.currentIndex - index;
            if (difference === 1) {
                var amount = this.cards.length - index < 3 ? this.cards.length - index : 3;
                this.animateIn.apply(this, Array.from(new Array(amount), function (x, i) { return i + index; }));
            }
            else {
                this.animateIn.apply(this, Array.from(new Array(difference), function (x, i) { return i + index; }));
            }
        }
        this.cards[index].setAttribute('aria-hidden', 'false');
        this.cards[index].setAttribute('tab-index', '-1');
        this.cards[index].style.transform = 'rotate(0)';
    };
    CardStack.prototype.goToNext = function () {
        if (this.currentIndex + 1 >= this.cards.length) {
            return;
        }
        this.goToCard(this.currentIndex + 1);
        this.updatePagination(this.currentIndex + 1);
        this.currentIndex += 1;
        this.setVisibleCards();
        this.setVisibleArrows();
    };
    CardStack.prototype.goToPrevious = function () {
        if (this.currentIndex <= 0) {
            return;
        }
        this.goToCard(this.currentIndex - 1);
        this.updatePagination(this.currentIndex - 1);
        this.currentIndex -= 1;
        this.setVisibleCards();
        this.setVisibleArrows();
    };
    CardStack.prototype.handleSwipe = function (e) {
        var direction = e.offsetDirection;
        if (direction === 4) {
            this.goToPrevious();
        }
        if (direction === 2) {
            this.goToNext();
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "handleResize", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "startup", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "tearDown", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "setCardStackByScreenSize", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "setUpCards", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "setUpTabList", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "setVisibleCards", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "setVisibleArrows", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "animateOut", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "animateIn", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "handleTabClick", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "updatePagination", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "goToCard", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "goToNext", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "goToPrevious", null);
    __decorate([
        core_decorators_1.autobind
    ], CardStack.prototype, "handleSwipe", null);
    return CardStack;
}());
exports.default = CardStack;


/***/ }),

/***/ "./static/js/components/CategoryFilter.ts":
/*!************************************************!*\
  !*** ./static/js/components/CategoryFilter.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var PARENT_SELECTOR = '.js-category-filter';
var ITEM_SELECTOR = '.js-filter-item';
var BUTTON_SELECTOR = '.js-filter-button';
var CategoryFilter = (function () {
    function CategoryFilter(callback) {
        this.parent = document.querySelector(PARENT_SELECTOR);
        this.allowMultipleCategories =
            this.parent.dataset.allowMultipleCategories !== undefined ? true : false;
        var itemElements = util_1.nodeListToArray(this.parent.querySelectorAll(ITEM_SELECTOR));
        this.items = itemElements.map(function (element) {
            var categoryKey = element.dataset.categories || '';
            return {
                categories: categoryKey.split(','),
                element: element,
            };
        });
        var buttonElements = util_1.nodeListToArray(this.parent.querySelectorAll(BUTTON_SELECTOR));
        this.buttons = buttonElements.map(function (element) {
            var category = element.dataset.category || '';
            return {
                category: category,
                element: element,
                isSelected: false,
            };
        });
        this.activeCategories = new Set();
        if (callback) {
            this.optionalCallback = callback;
        }
        if (this.items.length > 0 && this.buttons.length > 0) {
            this.init();
        }
    }
    CategoryFilter.prototype.init = function () {
        var _this = this;
        this.buttons.forEach(function (button) {
            button.element.addEventListener('click', _this.handleButtonClick.bind(_this, button));
        });
    };
    CategoryFilter.prototype.handleButtonClick = function (button) {
        if (!this.allowMultipleCategories) {
            this.activeCategories.clear();
            this.buttons.forEach(function (currentButton) {
                if (currentButton !== button) {
                    currentButton.isSelected = false;
                    currentButton.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
                }
            });
        }
        if (!button.isSelected) {
            button.element.classList.add(util_1.ACTION_CLASSES.ACTIVE);
            button.isSelected = true;
            this.activeCategories.add(button.category);
        }
        else {
            button.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
            button.isSelected = false;
            this.activeCategories.delete(button.category);
        }
        this.updateVisibleItems();
    };
    CategoryFilter.prototype.updateVisibleItems = function () {
        var _this = this;
        var showAll = this.activeCategories.size === 0;
        if (!showAll) {
            this.parent.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        }
        else {
            this.parent.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        }
        this.items.forEach(function (item) {
            if (showAll) {
                _this.enableItem(item);
                _this.deactivateItem(item);
            }
            else if (!showAll) {
                var shouldShow_1 = false;
                item.categories.forEach(function (cat) {
                    if (_this.activeCategories.has(cat)) {
                        shouldShow_1 = true;
                    }
                    if (!shouldShow_1) {
                        _this.disableItem(item);
                    }
                    else if (shouldShow_1) {
                        _this.enableItem(item);
                        _this.activateItem(item);
                    }
                });
            }
        });
        if (this.optionalCallback) {
            this.optionalCallback();
        }
    };
    CategoryFilter.prototype.disableItem = function (item) {
        item.element.classList.add(util_1.ACTION_CLASSES.INACTIVE);
        item.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        item.element.setAttribute('aria-hidden', 'true');
        item.element.setAttribute('tabindex', '-1');
    };
    CategoryFilter.prototype.enableItem = function (item) {
        item.element.classList.remove(util_1.ACTION_CLASSES.INACTIVE);
        item.element.setAttribute('aria-hidden', 'false');
        item.element.removeAttribute('tabindex');
    };
    CategoryFilter.prototype.activateItem = function (item) {
        item.element.classList.add(util_1.ACTION_CLASSES.ACTIVE);
    };
    CategoryFilter.prototype.deactivateItem = function (item) {
        item.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
    };
    __decorate([
        core_decorators_1.autobind
    ], CategoryFilter.prototype, "handleButtonClick", null);
    return CategoryFilter;
}());
exports.CategoryFilter = CategoryFilter;


/***/ }),

/***/ "./static/js/components/Footer.ts":
/*!****************************************!*\
  !*** ./static/js/components/Footer.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    LANGUAGE_SELECT: '.js-language-select',
    BACK_TO_TOP: '.js-back-to-top',
    COOKIE_CONTAINER: '.js-cookie-bar',
    COOKIE_DISMISS: '.js-cookie-bar-dismiss',
};
var Footer = (function () {
    function Footer(core) {
        this.core = core;
        this.languageSelect = document.querySelector(SELECTORS.LANGUAGE_SELECT);
        this.backToTop = document.querySelector(SELECTORS.BACK_TO_TOP);
        this.cookieContainer = document.querySelector(SELECTORS.COOKIE_CONTAINER);
        this.cookieButton = document.querySelector(SELECTORS.COOKIE_DISMISS);
        this.cookieValue = util_1.readCookie('alert-dismissed') !== null ?
            new Set(util_1.readCookie('alert-dismissed').replace(/"/g, '').split(',')) : new Set();
        this.init();
    }
    Footer.prototype.init = function () {
        this.attachEvents();
        this.setCookieVisibility();
    };
    Footer.prototype.attachEvents = function () {
        this.languageSelect && this.languageSelect.addEventListener('change', this.updateLanguage);
        this.backToTop && this.backToTop.addEventListener('click', this.handleBackToTop);
        this.cookieButton && this.cookieButton.addEventListener('click', this.handleCookieButton);
    };
    Footer.prototype.updateLanguage = function (event) {
        event.preventDefault();
        var target = event.target;
        var option = target.options[target.selectedIndex];
        util_1.writeCookie('locale', target.value);
        if (option.dataset.location) {
            window.location.href = option.dataset.location;
        }
    };
    Footer.prototype.handleBackToTop = function (event) {
        event.preventDefault();
        event.stopImmediatePropagation();
        TweenMax.to(window, 1, {
            scrollTo: {
                y: 0,
                autoKill: false,
            },
        });
        document.querySelector('.js-has-subnav').focus();
    };
    Footer.prototype.handleCookieButton = function (event) {
        event.preventDefault();
        this.cookieValue = this.cookieValue.add('cookie');
        util_1.writeCookie('alert-dismissed', Array.from(this.cookieValue).toString());
        this.setCookieVisibility();
    };
    Footer.prototype.setCookieVisibility = function () {
        if (this.cookieValue.has('cookie') && this.cookieContainer) {
            this.cookieContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], Footer.prototype, "handleCookieButton", null);
    __decorate([
        core_decorators_1.autobind
    ], Footer.prototype, "setCookieVisibility", null);
    return Footer;
}());
exports.default = Footer;


/***/ }),

/***/ "./static/js/components/Header.ts":
/*!****************************************!*\
  !*** ./static/js/components/Header.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var menu_1 = __webpack_require__(/*! @material/menu */ "./node_modules/@material/menu/index.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    HEADER: '.js-header',
    SUB_NAV_TRIGGERS: '.js-has-subnav',
    PROFILE_WIDGET: '.js-profile-widget',
    PROFILE_TRIGGER: '.js-profile-trigger',
    PROFILE_WIDGET_MOBILE: '.js-profile-widget-mobile',
    PROFILE_TRIGGER_MOBILE: '.js-profile-trigger-mobile',
    SUB_NAV: '.js-subnav',
};
var SCROLL_DISTANCE_TILL_SHADOW = 160;
var Header = (function () {
    function Header(core) {
        this.core = core;
        this.header = document.querySelector(SELECTORS.HEADER);
        this.subNavTriggers = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.SUB_NAV_TRIGGERS));
        this.profileTrigger = document.querySelector(SELECTORS.PROFILE_TRIGGER);
        this.profileWidget = document.querySelector(SELECTORS.PROFILE_WIDGET);
        if (this.profileWidget) {
            this.profileMenu = new menu_1.MDCMenu(this.profileWidget);
        }
        this.subNav = document.querySelector(SELECTORS.SUB_NAV);
        if (this.subNav) {
            this.subNavMenu = new menu_1.MDCMenu(this.subNav);
        }
        this.hasShadow = window.scrollY < SCROLL_DISTANCE_TILL_SHADOW;
        this.init();
    }
    Header.prototype.init = function () {
        var _this = this;
        if (!this.header) {
            return;
        }
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
        this.subNavTriggers.forEach(function (link) { return link.addEventListener('click', _this.handleSubNavTrigger.bind(_this, link)); });
        if (this.profileTrigger === null) {
            return;
        }
        this.profileTrigger.addEventListener('click', this.handleProfileClick);
    };
    Header.prototype.handleSubNavTrigger = function (_link, e) {
        if (window.innerWidth >= 900) {
            e.preventDefault();
            this.subNavMenu.open = !this.subNavMenu.open;
        }
    };
    Header.prototype.handleProfileClick = function (e) {
        e.preventDefault();
        this.profileMenu.open = !this.profileMenu.open;
    };
    Header.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    Header.prototype.handleScroll = function () {
        if (this.hasShadow && window.scrollY < SCROLL_DISTANCE_TILL_SHADOW) {
            this.header.classList.remove(util_1.ACTION_CLASSES.HAS_SHADOW);
            this.hasShadow = false;
        }
        else if (!this.hasShadow && window.scrollY >= SCROLL_DISTANCE_TILL_SHADOW) {
            this.header.classList.add(util_1.ACTION_CLASSES.HAS_SHADOW);
            this.hasShadow = true;
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], Header.prototype, "handleProfileClick", null);
    __decorate([
        core_decorators_1.autobind
    ], Header.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], Header.prototype, "handleScroll", null);
    return Header;
}());
exports.default = Header;


/***/ }),

/***/ "./static/js/components/HomeConclusionShapes.ts":
/*!******************************************************!*\
  !*** ./static/js/components/HomeConclusionShapes.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    CONCLUSION_CONTAINER: '.js-conclusion',
    CONCLUSION_SHAPE_1: '#conclusion-shape-1',
    CONCLUSION_SHAPE_2: '#conclusion-shape-2',
    CONCLUSION_SHAPE_3: '#conclusion-shape-3',
    CONCLUSION_SHAPE_4: '#conclusion-shape-4',
};
var HomeConclusionShapes = (function () {
    function HomeConclusionShapes() {
        this.conclusionContainer = document
            .querySelector(SELECTORS.CONCLUSION_CONTAINER);
        this.conclusionShape1 = this.conclusionContainer
            .querySelector(SELECTORS.CONCLUSION_SHAPE_1);
        this.conclusionShape2 = this.conclusionContainer
            .querySelector(SELECTORS.CONCLUSION_SHAPE_2);
        this.conclusionShape3 = this.conclusionContainer
            .querySelector(SELECTORS.CONCLUSION_SHAPE_3);
        this.conclusionShape4 = this.conclusionContainer
            .querySelector(SELECTORS.CONCLUSION_SHAPE_4);
        this.init();
    }
    HomeConclusionShapes.prototype.init = function () {
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
    };
    HomeConclusionShapes.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    HomeConclusionShapes.prototype.handleScroll = function () {
        if (this.conclusionContainer &&
            this.conclusionContainer.getBoundingClientRect().top <
                window.innerHeight * 1.1) {
            this.animateConclusionShapes();
        }
    };
    HomeConclusionShapes.prototype.animateConclusionShapes = function () {
        if (this.conclusionContainer) {
            var shape1Top = this.conclusionShape1.getBoundingClientRect().top;
            this.conclusionShape1.style.transform =
                "translate3d(" + shape1Top / 10 + "px, -" + shape1Top / 40 + "px, 0) rotate(" + shape1Top / 100 + "deg)";
            var shape2Top = this.conclusionShape2.getBoundingClientRect().top;
            this.conclusionShape2.style.transform =
                "translate3d(" + shape2Top / 30 + "px, -" + shape2Top / 20 + "px, 0)";
            var shape3Top = this.conclusionShape3.getBoundingClientRect().top;
            this.conclusionShape3.style.transform =
                "translate3d(-" + shape3Top / 10 + "px, -" + shape3Top / 60 + "px, 0)\n          rotate(-" + shape3Top / 150 + "deg)";
            var shape4Top = this.conclusionShape4.getBoundingClientRect().top;
            this.conclusionShape4.style.transform =
                "translate3d(" + (20 - (shape4Top / 15)) + "px, " + ((shape4Top / 100) + 60) + "px, 0)";
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], HomeConclusionShapes.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeConclusionShapes.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeConclusionShapes.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeConclusionShapes.prototype, "animateConclusionShapes", null);
    return HomeConclusionShapes;
}());
exports.default = HomeConclusionShapes;


/***/ }),

/***/ "./static/js/components/HomeNumberAnimation.ts":
/*!*****************************************************!*\
  !*** ./static/js/components/HomeNumberAnimation.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    NUMBER_ONE_CONTAINER: '.js-animate-n1',
    NUMBER_TWO_CONTAINER: '.js-animate-n2',
    NUMBER_THREE_CONTAINER: '.js-animate-n4',
    NUMBER_FOUR_CONTAINER: '.js-animate-n3',
};
var HomeNumberAnimation = (function () {
    function HomeNumberAnimation(core) {
        this.num1HasPlayed = false;
        this.num2HasPlayed = false;
        this.num3HasPlayed = false;
        this.num4HasPlayed = false;
        this.core = core;
        this.num1AnimationContainer = document.querySelector(SELECTORS.NUMBER_ONE_CONTAINER);
        this.num2AnimationContainer = document.querySelector(SELECTORS.NUMBER_TWO_CONTAINER);
        this.num3AnimationContainer = document.querySelector(SELECTORS.NUMBER_THREE_CONTAINER);
        this.num4AnimationContainer = document.querySelector(SELECTORS.NUMBER_FOUR_CONTAINER);
        this.num1AnimationData = {
            container: this.num1AnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/number_01.json',
        };
        this.num2AnimationData = {
            container: this.num2AnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/number_02.json',
        };
        this.num3AnimationData = {
            container: this.num3AnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/number_03.json',
        };
        this.num4AnimationData = {
            container: this.num4AnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/number_04.json',
        };
        this.init();
    }
    HomeNumberAnimation.prototype.init = function () {
        var _this = this;
        this.num1AnimationObject = bodymovin.loadAnimation(this.num1AnimationData);
        this.num2AnimationObject = bodymovin.loadAnimation(this.num2AnimationData);
        this.num3AnimationObject = bodymovin.loadAnimation(this.num3AnimationData);
        this.num4AnimationObject = bodymovin.loadAnimation(this.num4AnimationData);
        if (this.core && this.core.prefersReducedMotion) {
            this.num4AnimationObject.addEventListener('DOMLoaded', function () {
                _this.num1AnimationObject.goToAndStop(_this.num1AnimationObject.totalFrames, true);
                _this.num2AnimationObject.goToAndStop(_this.num2AnimationObject.totalFrames, true);
                _this.num3AnimationObject.goToAndStop(_this.num3AnimationObject.totalFrames, true);
                _this.num4AnimationObject.goToAndStop(_this.num4AnimationObject.totalFrames, true);
            });
            return;
        }
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
    };
    HomeNumberAnimation.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    HomeNumberAnimation.prototype.handleScroll = function () {
        if (this.num1AnimationContainer && !this.num1HasPlayed) {
            var numTop = this.num1AnimationContainer.getBoundingClientRect().top;
            if (numTop < window.innerHeight) {
                this.num1AnimationObject.play();
                this.num1HasPlayed = true;
            }
        }
        if (this.num2AnimationContainer && !this.num2HasPlayed) {
            var numTop = this.num2AnimationContainer.getBoundingClientRect().top;
            if (numTop < window.innerHeight) {
                this.num2AnimationObject.play();
                this.num2HasPlayed = true;
            }
        }
        if (this.num3AnimationContainer && !this.num3HasPlayed) {
            var numTop = this.num3AnimationContainer.getBoundingClientRect().top;
            if (numTop < window.innerHeight) {
                this.num3AnimationObject.play();
                this.num3HasPlayed = true;
            }
        }
        if (this.num4AnimationContainer && !this.num4HasPlayed) {
            var numTop = this.num4AnimationContainer.getBoundingClientRect().top;
            if (numTop < window.innerHeight) {
                this.num4AnimationObject.play();
                this.num4HasPlayed = true;
            }
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], HomeNumberAnimation.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeNumberAnimation.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeNumberAnimation.prototype, "handleScroll", null);
    return HomeNumberAnimation;
}());
exports.default = HomeNumberAnimation;


/***/ }),

/***/ "./static/js/components/HomeThoughtStarter.ts":
/*!****************************************************!*\
  !*** ./static/js/components/HomeThoughtStarter.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var _1 = __webpack_require__(/*! . */ "./static/js/components/index.ts");
var HomeThoughtStarter = (function () {
    function HomeThoughtStarter(core) {
        this.thoughtStarter = new _1.ThoughtStarter(core);
        this.init();
    }
    HomeThoughtStarter.prototype.init = function () {
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
    };
    HomeThoughtStarter.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    HomeThoughtStarter.prototype.handleScroll = function () {
        if (this.thoughtStarter && !this.thoughtStarter.hasActivated) {
            if (this.thoughtStarter.getIsInView()) {
                this.thoughtStarter.activate();
            }
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], HomeThoughtStarter.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeThoughtStarter.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeThoughtStarter.prototype, "handleScroll", null);
    return HomeThoughtStarter;
}());
exports.default = HomeThoughtStarter;


/***/ }),

/***/ "./static/js/components/HomeVideoPlayer.ts":
/*!*************************************************!*\
  !*** ./static/js/components/HomeVideoPlayer.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var _1 = __webpack_require__(/*! . */ "./static/js/components/index.ts");
var SELECTORS = {
    HOME_VIDEO_BUTTON_SELECTOR: '.js-home-video-button',
    FEATURE_VIDEO: '#feature-video',
};
var HomeVideoPlayer = (function () {
    function HomeVideoPlayer() {
        this.featureVideo = document.querySelector(SELECTORS.FEATURE_VIDEO);
        this.videoPlayer = new _1.VideoPlayer(true);
        this.homeVideoButton =
            document.querySelector(SELECTORS.HOME_VIDEO_BUTTON_SELECTOR);
        this.init();
    }
    HomeVideoPlayer.prototype.init = function () {
        var _this = this;
        this.setVideoHeight();
        this.videoPlayer.loadAPI().then(function () {
            _this.videoPlayer.initializeVideo();
            _this.videoPlayer.player.addEventListener('onReady', function () {
                _this.onScroll();
            });
            _this.featureVideo = document.querySelector(SELECTORS.FEATURE_VIDEO);
        });
        if (this.homeVideoButton) {
            this.homeVideoButton.addEventListener('click', this.handleVideoButtonClick);
        }
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
        window.addEventListener('resize', this.onResize);
        this.onResize();
    };
    HomeVideoPlayer.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    HomeVideoPlayer.prototype.handleScroll = function () {
        if (this.videoPlayer && this.videoPlayer.player &&
            !this.videoPlayer.hasBeenPlayed && this.videoPlayer.isReady) {
            var videoTop = this.videoPlayer.videoDiv.getBoundingClientRect().top;
            if (videoTop < window.innerHeight * 1.25) {
                this.videoPlayer.player.playVideo();
                this.videoPlayer.player.mute();
            }
        }
    };
    HomeVideoPlayer.prototype.onResize = function () {
        requestAnimationFrame(this.handleResize);
    };
    HomeVideoPlayer.prototype.handleResize = function () {
        this.setVideoHeight();
    };
    HomeVideoPlayer.prototype.setVideoHeight = function () {
        if (this.featureVideo) {
            this.featureVideo.style.height = document.body.clientWidth * .5625 + "px";
        }
    };
    HomeVideoPlayer.prototype.handleVideoButtonClick = function () {
        var _this = this;
        if (!this.videoPlayer.isReady) {
            return;
        }
        this.videoPlayer.player.unMute();
        this.videoPlayer.shouldLoop = false;
        this.videoPlayer.hasBeenPlayed = true;
        this.videoPlayer.player.seekTo(0);
        this.videoPlayer.player.stopVideo();
        this.videoPlayer.player.playVideo();
        TweenMax.to(this.homeVideoButton, 0.25, {
            autoAlpha: 0,
            onComplete: function () {
                _this.homeVideoButton.style.display = 'none';
            },
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "handleResize", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "setVideoHeight", null);
    __decorate([
        core_decorators_1.autobind
    ], HomeVideoPlayer.prototype, "handleVideoButtonClick", null);
    return HomeVideoPlayer;
}());
exports.default = HomeVideoPlayer;


/***/ }),

/***/ "./static/js/components/InteractiveLogo.ts":
/*!*************************************************!*\
  !*** ./static/js/components/InteractiveLogo.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    TRIGGER: '.js-logo-trigger',
};
var InteractiveLogo = (function () {
    function InteractiveLogo(container, animationObject) {
        this.keyboardIsInUse = false;
        this.container = container;
        this.animation = animationObject;
        this.isPlaying = false;
        this.isHovering = false;
        this.audioHasLoaded = false;
        this.touchWasUsed = false;
    }
    InteractiveLogo.prototype.init = function () {
        this.createLetters();
        this.container.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        this.slingshot = new components_1.Slingshot(this.container);
        this.slingshot.init();
        this.initAllAudio();
        this.bindEvents();
    };
    InteractiveLogo.prototype.createLetters = function () {
        var triggerElements = util_1.nodeListToArray(this.container.querySelectorAll(SELECTORS.TRIGGER));
        this.triggers = triggerElements.map(function (element) {
            var startFrame = 0;
            var stopFrame = 0;
            var hoverStartFrame = 0;
            var hoverStopFrame = 0;
            var audioFile;
            switch (element.dataset.animation) {
                case 'satellite':
                    startFrame = 0;
                    stopFrame = 299;
                    audioFile = '/static/audio/gsf-bloops-SR.mp3';
                    break;
                case 'f':
                    startFrame = 1071;
                    stopFrame = 1090;
                    break;
                case 'planets':
                    startFrame = 300;
                    stopFrame = 600;
                    audioFile = '/static/audio/gsf-bloops-CC.mp3';
                    break;
                case 'balloon1':
                    startFrame = 1031;
                    stopFrame = 1050;
                    break;
                case 'balloon2':
                    startFrame = 601;
                    stopFrame = 841;
                    audioFile = '/static/audio/gsf-bloops-I.mp3';
                    break;
                case 'volcano':
                    startFrame = 841;
                    stopFrame = 990;
                    audioFile = '/static/audio/gsf-bloops-A.mp3';
                    break;
            }
            switch (element.dataset.letter) {
                case 's':
                    hoverStartFrame = 992;
                    hoverStopFrame = 1010;
                    break;
                case 'c1':
                    hoverStartFrame = 1011;
                    hoverStopFrame = 1030;
                    break;
                case 'i1':
                    hoverStartFrame = 1031;
                    hoverStopFrame = 1050;
                    break;
                case 'c2':
                    hoverStartFrame = 1051;
                    hoverStopFrame = 1070;
                    break;
                case 'f':
                    hoverStartFrame = 1071;
                    hoverStopFrame = 1090;
                    break;
                case 'a':
                    hoverStartFrame = 1091;
                    hoverStopFrame = 1110;
                    break;
                case 'i2':
                    hoverStartFrame = 1111;
                    hoverStopFrame = 1130;
                    break;
                case 'r':
                    hoverStartFrame = 1131;
                    hoverStopFrame = 1151;
                    break;
            }
            return {
                button: element,
                startFrame: startFrame,
                stopFrame: stopFrame,
                hoverStartFrame: hoverStartFrame,
                hoverStopFrame: hoverStopFrame,
                audioPlayer: audioFile ? new components_1.AudioPlayer(audioFile) : null,
            };
        });
    };
    InteractiveLogo.prototype.bindEvents = function () {
        var _this = this;
        if (!this.triggers) {
            return;
        }
        window.addEventListener('touchstart', this.setTouchWasUsed);
        window.addEventListener('keydown', this.checkIfNeedsFocus);
        this.triggers.forEach(function (trigger) {
            trigger.button.addEventListener('click', function (e) {
                e.preventDefault();
                if (!_this.touchWasUsed) {
                    _this.playAnimation(trigger);
                }
            });
            trigger.button.addEventListener('touchend', _this.playAnimation.bind(_this, trigger));
            trigger.button.addEventListener('mouseenter', _this.playHoverAnimation.bind(_this, trigger));
            trigger.button.addEventListener('mouseleave', _this.stopHoverAnimation.bind(_this, trigger));
        });
        this.animation.addEventListener('complete', this.stopAnimation);
    };
    InteractiveLogo.prototype.tearDown = function () {
        if (!this.triggers) {
            return;
        }
        window.removeEventListener('touchstart', this.setTouchWasUsed);
        window.removeEventListener('keydown', this.checkIfNeedsFocus);
        this.triggers.forEach(function (trigger) {
            if (trigger.button && trigger.button.parentElement) {
                var newButton = trigger.button.cloneNode();
                trigger.button.parentElement.replaceChild(newButton, trigger.button);
                trigger.button = newButton;
            }
            if (trigger.audioPlayer) {
                trigger.audioPlayer.stop();
            }
        });
        this.animation.removeEventListener('complete', this.stopAnimation);
        if (this.slingshot) {
            this.slingshot.tearDown();
        }
    };
    InteractiveLogo.prototype.setTouchWasUsed = function () {
        this.touchWasUsed = true;
        window.removeEventListener('touchstart', this.setTouchWasUsed);
    };
    InteractiveLogo.prototype.initAllAudio = function () {
        if (!this.triggers) {
            return;
        }
        this.triggers.forEach(function (trigger) {
            if (trigger.audioPlayer) {
                trigger.audioPlayer.load();
            }
        });
    };
    InteractiveLogo.prototype.checkIfNeedsFocus = function (e) {
        if (e.key === 'Tab') {
            this.container.classList.add(util_1.ACTION_CLASSES.NEEDS_FOCUS_RING);
            window.removeEventListener('keydown', this.checkIfNeedsFocus);
        }
    };
    InteractiveLogo.prototype.playAnimation = function (trigger) {
        this.isPlaying = true;
        if (this.currentPlayingTrigger && this.currentPlayingTrigger.audioPlayer) {
            this.currentPlayingTrigger.audioPlayer.stop();
        }
        this.currentPlayingTrigger = trigger;
        this.animation.playSegments([trigger.startFrame, trigger.stopFrame], true);
        var level = util_1.DEFAULT_AUDIO_LEVEL;
        if (trigger.audioPlayer) {
            trigger.audioPlayer.start();
            switch (trigger.button.dataset.animation) {
                case 'satellite':
                    level = 0.4;
                    break;
                case 'volcano':
                    level = 0.2;
                    break;
            }
            trigger.audioPlayer.setVolume(level);
        }
    };
    InteractiveLogo.prototype.stopAnimation = function () {
        this.isPlaying = false;
        if (this.currentPlayingTrigger) {
            if (this.currentPlayingTrigger.audioPlayer) {
                this.currentPlayingTrigger.audioPlayer.stop();
            }
            this.currentPlayingTrigger = null;
        }
    };
    InteractiveLogo.prototype.playHoverAnimation = function (trigger) {
        if (this.isHovering || this.isPlaying) {
            return;
        }
        this.isHovering = true;
        this.animation.playSegments([trigger.hoverStartFrame, trigger.hoverStopFrame], true);
    };
    InteractiveLogo.prototype.stopHoverAnimation = function () {
        if (!this.isHovering) {
            return;
        }
        this.isHovering = false;
    };
    __decorate([
        core_decorators_1.autobind
    ], InteractiveLogo.prototype, "setTouchWasUsed", null);
    __decorate([
        core_decorators_1.autobind
    ], InteractiveLogo.prototype, "checkIfNeedsFocus", null);
    __decorate([
        core_decorators_1.autobind
    ], InteractiveLogo.prototype, "stopAnimation", null);
    return InteractiveLogo;
}());
exports.InteractiveLogo = InteractiveLogo;


/***/ }),

/***/ "./static/js/components/ListAccordion.ts":
/*!***********************************************!*\
  !*** ./static/js/components/ListAccordion.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var INITIAL_SHOW_COUNT = 10;
var DEFAULT_ANIMATION_TIMING = 0.5;
var ListAccordion = (function () {
    function ListAccordion(parentSelector, buttonSelector) {
        this.parent = document.querySelector(parentSelector);
        this.items = util_1.nodeListToArray(this.parent.querySelectorAll('li'));
        this.button = document.querySelector(buttonSelector);
        this.isExpanded = false;
        this.hasBeenExpanded = false;
        if (this.parent && this.items && this.button) {
            this.init();
        }
    }
    ListAccordion.prototype.init = function () {
        this.button.addEventListener('click', this.handleButtonClick);
        window.addEventListener('resize', this.onResize);
        this.parent.addEventListener('scroll', this.onScroll);
        this.collapseList();
    };
    ListAccordion.prototype.handleButtonClick = function () {
        if (this.isExpanded) {
            this.collapseList();
        }
        else {
            this.expandList();
            this.hasBeenExpanded = true;
        }
    };
    ListAccordion.prototype.onResize = function () {
        if (this.isExpanded) {
            this.parent.style.removeProperty('height');
            return;
        }
        requestAnimationFrame(this.handleResize);
    };
    ListAccordion.prototype.handleResize = function () {
        this.collapseList();
    };
    ListAccordion.prototype.onScroll = function () {
        if (this.hasBeenExpanded) {
            return;
        }
        if (!this.isExpanded) {
            this.expandList();
            this.hasBeenExpanded = true;
        }
    };
    ListAccordion.prototype.findTargetItem = function () {
        var count = 0;
        var targetItem;
        var lastVisibleItem;
        this.items.forEach(function (item) {
            if (item.getBoundingClientRect().height > 0) {
                lastVisibleItem = item;
                count++;
                if (count === INITIAL_SHOW_COUNT) {
                    targetItem = item;
                }
            }
        });
        if (count < INITIAL_SHOW_COUNT) {
            targetItem = lastVisibleItem;
        }
        return targetItem || this.items[INITIAL_SHOW_COUNT - 1];
    };
    ListAccordion.prototype.collapseList = function () {
        this.isExpanded = false;
        var targetItem = this.findTargetItem();
        var targetHeight = targetItem.offsetTop - this.parent.offsetTop - 1;
        TweenMax.to(this.parent, DEFAULT_ANIMATION_TIMING, {
            height: targetHeight,
            ease: Quad.easeOut,
        });
    };
    ListAccordion.prototype.expandList = function () {
        var _this = this;
        if (this.hasBeenExpanded) {
            return;
        }
        this.isExpanded = true;
        this.button.classList.add(util_1.ACTION_CLASSES.INACTIVE);
        var targetHeight;
        TweenMax.set(this.parent, {
            autoAlpha: 0,
            onComplete: function () {
                _this.parent.style.position = 'absolute';
                _this.parent.style.removeProperty('height');
                _this.parent.style.removeProperty('position');
                targetHeight = _this.parent.offsetHeight;
                TweenMax.to(_this.parent, DEFAULT_ANIMATION_TIMING, {
                    height: targetHeight,
                    autoAlpha: 1,
                    ease: Quad.easeOut,
                    onComplete: function () {
                        _this.parent.style.removeProperty('height');
                    },
                });
            },
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], ListAccordion.prototype, "handleButtonClick", null);
    __decorate([
        core_decorators_1.autobind
    ], ListAccordion.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], ListAccordion.prototype, "handleResize", null);
    __decorate([
        core_decorators_1.autobind
    ], ListAccordion.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], ListAccordion.prototype, "expandList", null);
    return ListAccordion;
}());
exports.ListAccordion = ListAccordion;


/***/ }),

/***/ "./static/js/components/NavInPage.ts":
/*!*******************************************!*\
  !*** ./static/js/components/NavInPage.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    HERCULES_HEADER: '.hercules-header',
    NAV_LINKS: '.js-nav-link',
    NAV_BACKDROP: '#h-js-header__drawer-backdrop',
};
var CLASS_NAMES = {
    ACTIVE: '-active',
    HERCULES_ACTIVE_CLASS: 'h-is-active',
};
var NavInPage = (function () {
    function NavInPage(core) {
        this.core = core;
        this.windowHeight = window.innerHeight;
        this.navLinks = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.NAV_LINKS));
        this.navBackdrop = document.querySelector(SELECTORS.NAV_BACKDROP);
        this.sectionEls = this.navLinks.map(function (link) {
            var linkEl = document.getElementById(link.dataset.link || '');
            return linkEl.querySelector('.h-c-headline');
        });
        this.currentSectionIndex = 0;
        this.sectionTops = this.sectionEls.map(function (el) { return el ? el.offsetTop : 0; });
        this.herculesHeader = document.querySelector(SELECTORS.HERCULES_HEADER);
        this.init();
    }
    NavInPage.prototype.init = function () {
        this.attachEvents();
        this.checkAndSetCurrentSections(this.getDocumentScroll());
    };
    NavInPage.prototype.attachEvents = function () {
        var _this = this;
        window.addEventListener('scroll', this.onScroll);
        this.navLinks.forEach(function (link, index) {
            link.addEventListener('click', _this.scrollToSection.bind(_this, index));
        });
    };
    NavInPage.prototype.getDocumentScroll = function () {
        return window.scrollY || document.documentElement.scrollTop;
    };
    NavInPage.prototype.onScroll = function () {
        requestAnimationFrame(this.handledScroll);
    };
    NavInPage.prototype.handledScroll = function () {
        var currentScroll = this.getDocumentScroll();
        this.checkAndSetCurrentSections(currentScroll);
    };
    NavInPage.prototype.checkAndSetCurrentSections = function (currentScroll) {
        var closest = 0;
        if (currentScroll < this.sectionTops[1] - this.windowHeight) {
            closest = 0;
        }
        else if ((currentScroll > this.sectionTops[1] - this.windowHeight) &&
            (currentScroll < this.sectionTops[2] - this.windowHeight - this.herculesHeader.offsetHeight)) {
            closest = 1;
        }
        else {
            closest = 2;
        }
        if (this.currentSectionIndex !== closest) {
            this.currentSectionIndex = closest;
        }
        else {
            return;
        }
        this.activateSection();
    };
    NavInPage.prototype.activateSection = function () {
        this.deactivateSections();
        this.navLinks[this.currentSectionIndex].classList.add(CLASS_NAMES.HERCULES_ACTIVE_CLASS);
    };
    NavInPage.prototype.deactivateSections = function () {
        var _this = this;
        this.navLinks.forEach(function (link, index) {
            if (_this.currentSectionIndex !== index) {
                link.classList.remove(CLASS_NAMES.HERCULES_ACTIVE_CLASS);
                link.blur();
            }
        });
    };
    NavInPage.prototype.scrollToSection = function (sectionIndex, e) {
        e.preventDefault();
        this.navBackdrop.click();
        if (!this.sectionEls) {
            return;
        }
        var target = this.sectionEls[sectionIndex].offsetTop;
        var destination = this.getDocumentScroll() > target
            ? target - this.herculesHeader.offsetHeight
            : target;
        TweenMax.to(window, 1, {
            scrollTo: {
                y: destination - 60,
                autoKill: false,
            },
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], NavInPage.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], NavInPage.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], NavInPage.prototype, "handledScroll", null);
    return NavInPage;
}());
exports.default = NavInPage;


/***/ }),

/***/ "./static/js/components/ResourceNav.ts":
/*!*********************************************!*\
  !*** ./static/js/components/ResourceNav.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    NAV_CONTAINER: '.js-resource-nav',
};
var ResourceNav = (function () {
    function ResourceNav() {
        this.navContainer = document.querySelector(SELECTORS.NAV_CONTAINER);
        if (this.navContainer) {
            this.navListItems = util_1.nodeListToArray(this.navContainer.querySelectorAll('li a'));
            this.activeListItem = this.navListItems.find(function (item) {
                return item.classList.contains(util_1.ACTION_CLASSES.ACTIVE);
            });
            this.init();
        }
    }
    ResourceNav.prototype.init = function () {
        var destination = this.activeListItem
            && this.activeListItem.getBoundingClientRect().left || 0;
        TweenMax.to(this.navContainer, 1, {
            scrollTo: {
                x: destination - 16,
                autoKill: false,
            },
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], ResourceNav.prototype, "init", null);
    return ResourceNav;
}());
exports.default = ResourceNav;


/***/ }),

/***/ "./static/js/components/ScrollTo.ts":
/*!******************************************!*\
  !*** ./static/js/components/ScrollTo.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var LINK_SELECTOR = '.js-scrollto-link';
var TRACKER_SELECTOR = '.js-scrollto-tracker';
var SELECT_MENU_SELECTOR = '.js-scrollto-select';
var SCROLL_TIMING = 0.75;
var WINDOW_OFFSET = window.innerHeight * 0.5;
var ScrollTo = (function () {
    function ScrollTo() {
        var allLinks = util_1.nodeListToArray(document.querySelectorAll(LINK_SELECTOR));
        this.allSections = allLinks.map(function (link) {
            var linkhref = link.getAttribute('href') || 'body';
            var target = document.querySelector(linkhref);
            return {
                link: link,
                element: target,
                hash: linkhref,
                shouldTrack: link.dataset.navTrack === 'true',
            };
        });
        this.selectMenu = document.querySelector(SELECT_MENU_SELECTOR);
        var options = this.selectMenu &&
            util_1.nodeListToArray(this.selectMenu.querySelectorAll('option'));
        this.allOptions = options && options.map(function (option) {
            var isUrl = option.dataset.url === 'true';
            var linkhref = option.getAttribute('value') || 'body';
            var target = !isUrl ? document.querySelector(linkhref) : null;
            return {
                element: target,
                hash: linkhref,
                shouldTrack: false,
                isUrl: isUrl,
            };
        });
        this.tracker = document.querySelector(TRACKER_SELECTOR);
        this.lastScroll = this.getScroll();
        this.isTweening = false;
        this.isSmallScreen = !window.matchMedia(util_1.MEDIA_QUERIES.SMALL).matches;
        this.activeSection = this.allSections[0];
        if (!this.allSections) {
            return;
        }
        this.activateSection(this.allSections[0]);
        this.bindEvents();
        this.onScroll();
    }
    ScrollTo.prototype.bindEvents = function () {
        var _this = this;
        this.allSections.forEach(function (section) {
            if (section.link) {
                section.link.addEventListener('click', function (e) {
                    e.preventDefault();
                    _this.handleNavClick(section);
                });
            }
        });
        if (this.selectMenu) {
            this.selectMenu.addEventListener('change', this.handleSelectChange);
        }
        window.addEventListener('scroll', this.onScroll);
        window.addEventListener('resize', this.onResize);
    };
    ScrollTo.prototype.handleNavClick = function (section) {
        if (!section.element) {
            return;
        }
        this.scrollToSection(section.element);
        this.activateSection(section);
        this.moveTracker(section);
    };
    ScrollTo.prototype.handleSelectChange = function (e) {
        var _this = this;
        var menu = e.target;
        var isUrl = menu.selectedOptions[0].dataset.url === 'true';
        var hash = menu.selectedOptions[0].value;
        if (isUrl) {
            window.location.href = hash;
        }
        else {
            this.allOptions.forEach(function (section) {
                if (hash === section.hash && section.element) {
                    _this.scrollToSection(section.element);
                    _this.activateSection(section);
                }
            });
        }
    };
    ScrollTo.prototype.scrollToSection = function (target) {
        var _this = this;
        TweenMax.to(window, SCROLL_TIMING, {
            scrollTo: {
                y: target.offsetTop - (window.innerHeight * 0.1),
                autoKill: false,
            },
            onStart: function () {
                _this.isTweening = true;
            },
            onComplete: function () {
                setTimeout(function () {
                    _this.isTweening = false;
                }, 100);
            },
            ease: Expo.easeOut,
        });
    };
    ScrollTo.prototype.getScroll = function () {
        return window.scrollY || document.documentElement.scrollTop;
    };
    ScrollTo.prototype.onScroll = function () {
        if (this.isSmallScreen) {
            return;
        }
        requestAnimationFrame(this.handleScroll);
    };
    ScrollTo.prototype.handleScroll = function () {
        if (this.isTweening) {
            return;
        }
        var currentScroll = this.getScroll();
        var direction = currentScroll > this.lastScroll ? 1 : -1;
        var section;
        var isActiveSectionInView = this.checkIfSectionIsInView(this.activeSection, direction);
        if (isActiveSectionInView) {
            return;
        }
        for (var i = 0; i < this.allSections.length; i++) {
            section = this.allSections[i];
            if (this.checkIfSectionIsInView(section, direction)) {
                this.activateSection(section);
                return;
            }
        }
        this.lastScroll = currentScroll;
    };
    ScrollTo.prototype.onResize = function () {
        requestAnimationFrame(this.handleResize);
    };
    ScrollTo.prototype.handleResize = function () {
        this.isSmallScreen = !window.matchMedia(util_1.MEDIA_QUERIES.SMALL).matches;
    };
    ScrollTo.prototype.checkIfSectionIsInView = function (section, direction) {
        if (direction === void 0) { direction = 1; }
        if (!section || !section.element) {
            return false;
        }
        var bounds = section.element.getBoundingClientRect();
        var isInView = false;
        if (direction > 0) {
            isInView = bounds.top <= WINDOW_OFFSET && bounds.bottom > WINDOW_OFFSET * 0.5;
        }
        else if (direction < 0) {
            isInView = bounds.bottom > WINDOW_OFFSET * 0.5 && bounds.top <= WINDOW_OFFSET;
        }
        return isInView;
    };
    ScrollTo.prototype.moveTracker = function (section) {
        var _this = this;
        if (!this.tracker || !section.link) {
            return;
        }
        if (section.shouldTrack) {
            if (this.trackerTween) {
                this.trackerTween.kill();
            }
            this.trackerTween = TweenMax.to(this.tracker, SCROLL_TIMING, {
                y: section.link.offsetTop,
                height: section.link.offsetHeight,
                onStart: function () {
                    _this.tracker.classList.add(util_1.ACTION_CLASSES.ACTIVE);
                },
                ease: Expo.easeOut,
            });
        }
        else {
            this.tracker.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        }
    };
    ScrollTo.prototype.activateSection = function (section) {
        if (!section || !section.element) {
            return;
        }
        if (this.activeSection) {
            this.deactivateSection(this.activeSection);
        }
        this.activeSection = section;
        section.element.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        if (section.link) {
            section.link.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        }
        this.moveTracker(section);
    };
    ScrollTo.prototype.deactivateSection = function (section) {
        if (!section || !section.element) {
            return;
        }
        section.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        if (section.link) {
            section.link.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "handleNavClick", null);
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "handleSelectChange", null);
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], ScrollTo.prototype, "handleResize", null);
    return ScrollTo;
}());
exports.ScrollTo = ScrollTo;


/***/ }),

/***/ "./static/js/components/Slingshot.ts":
/*!*******************************************!*\
  !*** ./static/js/components/Slingshot.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var ITEM_SELECTOR = '.js-slingshot-item';
var CANVAS_SELECTOR = '.js-slingshot-canvas';
var PIXEL_DENSITY = window.devicePixelRatio > 1 ? window.devicePixelRatio : 1;
var ANIMATION_TIME = 1;
var RETURN_TO_ORIGIN_TIMEOUT = 1500;
var THROTTLE_TIMEOUT = 250;
var DIAGRAM_LINE_COLOR = '#dadce0';
var DIAGRAM_LINE_WIDTH = 1 * PIXEL_DENSITY;
var DIAGRAM_DASH_PATTERN = [6 * PIXEL_DENSITY, 6 * PIXEL_DENSITY];
var DIAGRAM_CIRCLE_RADIUS = 34;
var DIAGRAM_TEXT_COLOR = '#bdc1c6';
var DIAGRAM_FONT = 12 * PIXEL_DENSITY + "px Google Sans";
var INITIAL_MASS = 100;
var MASS_MULTIPLIER = 10000;
var GRAVITY_CONSTANT = 10;
var TIMESTEP = 1;
var VELOCITY_DEGRADATION_RATE = 0.99;
var VELOCITY_INTERACTION_MODIFIER = 10;
var AUTOTHROW_MULTIPLIER = 2;
var Slingshot = (function () {
    function Slingshot(container) {
        var _this = this;
        this.mouseIsDown = false;
        this.lastMouseX = 0;
        this.lastMouseY = 0;
        this.mouseX = 0;
        this.mouseY = 0;
        this.mouseOffsetX = 0;
        this.mouseOffsetY = 0;
        this.canvasIsVisible = false;
        if (!container) {
            throw new Error('A container element must be provided');
        }
        this.container = container;
        this.containerIsInView = this.getIsContainerInView();
        this.canvas = this.container.querySelector(CANVAS_SELECTOR);
        if (!this.canvas) {
            throw new Error('No canvas element found');
        }
        this.updateCanvasDimensions();
        this.ctx = this.canvas.getContext('2d');
        var buttons = util_1.nodeListToArray(this.container.querySelectorAll(ITEM_SELECTOR));
        this.allShapes = buttons.map(function (item) {
            var body = _this.createPhysicsBody({
                x: item.getBoundingClientRect().left,
                y: item.getBoundingClientRect().top,
                mass: INITIAL_MASS,
                radius: item.offsetWidth / 2,
            });
            var anchor = _this.createPhysicsBody({
                x: item.getBoundingClientRect().left,
                y: item.getBoundingClientRect().top,
                mass: INITIAL_MASS * MASS_MULTIPLIER,
            });
            var audioFile;
            switch (item.dataset.audio) {
                case 'e':
                    audioFile = '/static/audio/gsf-bloops-EE.mp3';
                    break;
                case 'n':
                    audioFile = '/static/audio/gsf-bloops-N.mp3';
                    break;
            }
            return {
                button: item,
                origin: {
                    x: item.getBoundingClientRect().left,
                    y: item.getBoundingClientRect().top,
                },
                body: body,
                anchor: anchor,
                isTweening: false,
                isLocked: true,
                needsDiagram: item.dataset.diagram === 'true',
                audioPlayer: audioFile ? new components_1.AudioPlayer(audioFile) : null,
            };
        });
    }
    Slingshot.prototype.init = function () {
        var _this = this;
        if (!this.container) {
            return;
        }
        this.bindEvents();
        this.render();
        this.allShapes.forEach(function (shape) {
            if (shape.button.dataset.attract === 'true') {
                _this.autoDragAndThrowItem(shape);
            }
            if (shape.audioPlayer) {
                shape.audioPlayer.load();
            }
        });
    };
    Slingshot.prototype.bindEvents = function () {
        var _this = this;
        this.allShapes.forEach(function (shape) {
            shape.button.addEventListener('mousedown', function (e) {
                e.preventDefault();
                _this.handleMouseDown(e, shape);
            });
            shape.button.addEventListener('touchstart', function (e) {
                e.preventDefault();
                _this.handleTouchStart(e, shape);
            });
            shape.button.addEventListener('keydown', function (e) {
                var keyEvent = e;
                if (keyEvent.code === 'Enter' || keyEvent.code === 'Space') {
                    if (shape.audioPlayer) {
                        shape.audioPlayer.start();
                        shape.audioPlayer.setVolume(util_1.DEFAULT_AUDIO_LEVEL);
                    }
                    _this.autoDragAndThrowItem(shape);
                }
            });
        });
        window.addEventListener('mousemove', this.handleMouseMove);
        window.addEventListener('mouseup', this.handleMouseUp);
        window.addEventListener('touchmove', this.handleTouchMove);
        window.addEventListener('touchend', this.handleTouchEnd);
        window.addEventListener('resize', this.onResize);
        window.addEventListener('scroll', this.onScroll);
    };
    Slingshot.prototype.tearDown = function () {
        this.allShapes.forEach(function (shape) {
            if (shape.button && shape.button.parentElement) {
                var newElement = shape.button.cloneNode();
                shape.button.parentElement.replaceChild(newElement, shape.button);
                shape.button = newElement;
            }
            if (shape.audioPlayer) {
                shape.audioPlayer.stop();
            }
        });
        window.removeEventListener('mousemove', this.handleMouseMove);
        window.removeEventListener('mouseup', this.handleMouseUp);
        window.removeEventListener('touchmove', this.handleTouchMove);
        window.removeEventListener('touchend', this.handleTouchEnd);
        window.removeEventListener('resize', this.onResize);
        window.removeEventListener('scroll', this.onScroll);
        this.containerIsInView = false;
    };
    Slingshot.prototype.handleMouseDown = function (e, shape) {
        if (e.button !== 0) {
            return;
        }
        this.handlePointerDown(e.clientX, e.clientY, shape);
    };
    Slingshot.prototype.handleTouchStart = function (e, shape) {
        this.handlePointerDown(e.touches[0].clientX, e.touches[0].clientY, shape);
    };
    Slingshot.prototype.handlePointerDown = function (pointX, pointY, shape) {
        if (shape.isTweening) {
            return;
        }
        this.cachePointerCoords(pointX, pointY);
        this.mouseIsDown = true;
        this.mouseOffsetX = pointX - shape.body.pointX;
        this.mouseOffsetY = pointY - shape.body.pointY;
        shape.isLocked = true;
        this.activeShape = shape;
        this.activeShape.button.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        this.updatePointerCoords(pointX, pointY);
        if (this.shapeTweenTimeout) {
            clearTimeout(this.shapeTweenTimeout);
        }
    };
    Slingshot.prototype.handleMouseUp = function (e) {
        this.handlePointerUp(e.clientX, e.clientY);
    };
    Slingshot.prototype.handleTouchEnd = function (e) {
        var touchEvent = e;
        this.handlePointerUp(touchEvent.changedTouches[0].clientX, touchEvent.changedTouches[0].clientY);
    };
    Slingshot.prototype.handlePointerUp = function (pointerX, pointerY) {
        if (!this.mouseIsDown) {
            return;
        }
        var pointDist = this.getDistanceAsTwoPoints(this.lastMouseX, this.lastMouseY, pointerX, pointerY);
        if (this.activeShape) {
            if (this.activeShape.audioPlayer) {
                this.activeShape.audioPlayer.start();
                this.activeShape.audioPlayer.setVolume(util_1.DEFAULT_AUDIO_LEVEL);
            }
            this.activeShape.body.velocityX = pointDist.x / VELOCITY_INTERACTION_MODIFIER;
            this.activeShape.body.velocityY = pointDist.y / VELOCITY_INTERACTION_MODIFIER;
            this.activeShape.isLocked = this.activeShape.isTweening === true;
            this.activeShape.button.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
            this.activeShape = null;
        }
        this.shapeTweenTimeout = setTimeout(this.returnAllBodiesToOrigin, RETURN_TO_ORIGIN_TIMEOUT);
        this.hideCanvas();
        this.mouseIsDown = false;
    };
    Slingshot.prototype.onResize = function () {
        requestAnimationFrame(this.handleResize);
    };
    Slingshot.prototype.handleResize = function () {
        var _this = this;
        if (this.throttleTimeout) {
            clearTimeout(this.throttleTimeout);
        }
        this.throttleTimeout = setTimeout(function () {
            _this.updateShapeCoords();
            _this.updateCanvasDimensions();
        }, THROTTLE_TIMEOUT);
    };
    Slingshot.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    Slingshot.prototype.handleScroll = function () {
        var _this = this;
        if (this.throttleTimeout) {
            clearTimeout(this.throttleTimeout);
        }
        this.throttleTimeout = setTimeout(function () {
            _this.updateShapeCoords();
            var wasInView = _this.containerIsInView;
            _this.containerIsInView = _this.getIsContainerInView();
            if (!wasInView && _this.containerIsInView) {
                _this.render();
            }
        }, THROTTLE_TIMEOUT);
    };
    Slingshot.prototype.getIsContainerInView = function () {
        return this.container.getBoundingClientRect().top < window.innerHeight &&
            this.container.getBoundingClientRect().bottom > 0;
    };
    Slingshot.prototype.cachePointerCoords = function (pointX, pointY) {
        this.lastMouseX = pointX;
        this.lastMouseY = pointY;
    };
    Slingshot.prototype.handleMouseMove = function (e) {
        this.updatePointerCoords(e.clientX, e.clientY);
    };
    Slingshot.prototype.handleTouchMove = function (e) {
        var touchEvent = e;
        this.updatePointerCoords(touchEvent.touches[0].clientX, touchEvent.touches[0].clientY);
    };
    Slingshot.prototype.updatePointerCoords = function (pointX, pointY) {
        if (!this.mouseIsDown) {
            return;
        }
        this.mouseX = pointX;
        this.mouseY = pointY;
    };
    Slingshot.prototype.updateShapeCoords = function () {
        this.allShapes.forEach(function (shape) {
            var x = shape.button.getBoundingClientRect().left;
            var y = shape.button.getBoundingClientRect().top;
            shape.body.pointX = x;
            shape.body.pointY = y;
            shape.anchor.pointX = x;
            shape.anchor.pointY = y;
            shape.origin.x = x;
            shape.origin.y = y;
        });
    };
    Slingshot.prototype.updateCanvasDimensions = function () {
        this.canvas.width = this.container.offsetWidth * PIXEL_DENSITY;
        this.canvas.height = this.container.offsetHeight * PIXEL_DENSITY;
    };
    Slingshot.prototype.returnAllBodiesToOrigin = function () {
        var _this = this;
        this.allShapes.forEach(function (shape) {
            _this.returnBodyToOrigin(shape);
        });
    };
    Slingshot.prototype.returnBodyToOrigin = function (shape) {
        if (shape.isTweening || shape.isLocked) {
            return;
        }
        shape.isLocked = true;
        TweenMax.to(shape.body, ANIMATION_TIME, {
            pointX: shape.anchor.pointX,
            pointY: shape.anchor.pointY,
            onStart: function () {
                shape.isTweening = true;
                shape.button.setAttribute('disabled', 'true');
            },
            onComplete: function () {
                shape.isTweening = false;
                shape.body.pointX = shape.anchor.pointX;
                shape.body.pointY = shape.anchor.pointY;
                shape.button.removeAttribute('disabled');
                if (shape.audioPlayer) {
                    shape.audioPlayer.stop();
                }
            },
            ease: Expo.easeOut,
        });
    };
    Slingshot.prototype.autoDragAndThrowItem = function (shape) {
        var _this = this;
        if (shape.isTweening) {
            return;
        }
        shape.isLocked = true;
        var targetX = shape.anchor.pointX - shape.button.offsetWidth * AUTOTHROW_MULTIPLIER;
        var targetY = shape.anchor.pointY + shape.button.offsetHeight;
        TweenMax.to(shape.body, ANIMATION_TIME, {
            pointX: targetX,
            pointY: targetY,
            onStart: function () {
                _this.mouseOffsetX = 0;
                _this.mouseOffsetY = 0;
                _this.lastMouseX = shape.body.pointX;
                _this.lastMouseY = shape.body.pointY;
                _this.activeShape = shape;
                _this.activeShape.button.classList.add(util_1.ACTION_CLASSES.ACTIVE);
                shape.isTweening = true;
                _this.mouseIsDown = true;
            },
            onUpdate: function () {
                _this.mouseX = shape.body.pointX;
                _this.mouseY = shape.body.pointY;
            },
            onComplete: function () {
                _this.shapeTweenTimeout = setTimeout(_this.returnAllBodiesToOrigin, RETURN_TO_ORIGIN_TIMEOUT);
                if (_this.activeShape) {
                    _this.activeShape.button.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
                    _this.activeShape = null;
                }
                var pointDist = _this.getDistanceAsTwoPoints(shape.anchor.pointX, shape.anchor.pointY, targetX, targetY);
                shape.isTweening = false;
                shape.isLocked = false;
                _this.mouseIsDown = false;
                shape.body.pointX = targetX;
                shape.body.pointY = targetY;
                shape.body.velocityX = pointDist.x / VELOCITY_INTERACTION_MODIFIER;
                shape.body.velocityY = pointDist.y / VELOCITY_INTERACTION_MODIFIER;
            },
            ease: Expo.easeOut,
        });
    };
    Slingshot.prototype.createPhysicsBody = function (options) {
        return {
            forceX: 0,
            forceY: 0,
            pointX: options.x,
            pointY: options.y,
            velocityX: 1,
            velocityY: 1,
            mass: options.mass,
            radius: options.radius || 1,
        };
    };
    Slingshot.prototype.getDistanceAsTwoPoints = function (x1, y1, x2, y2) {
        return {
            x: x1 - x2,
            y: y1 - y2,
        };
    };
    Slingshot.prototype.getPointDistance = function (x1, y1, x2, y2) {
        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
    };
    Slingshot.prototype.getAngle = function (x1, y1, x2, y2) {
        return Math.atan2(x2 - x1, y2 - y1);
    };
    Slingshot.prototype.pairwisePhysics = function (a, b) {
        var pointDist = this.getDistanceAsTwoPoints(a.pointX, a.pointY, b.pointX, b.pointY);
        var distX = pointDist.x;
        var distY = pointDist.y;
        var dotProduct = distX * distX + distY * distY;
        if (dotProduct === 0) {
            return;
        }
        var r = Math.sqrt(dotProduct);
        distX /= r;
        distY /= r;
        var forceMagnitude = Math.min(GRAVITY_CONSTANT * a.mass * b.mass / dotProduct, 100);
        var forceX = distX * forceMagnitude;
        var forceY = distY * forceMagnitude;
        a.forceX -= forceX;
        a.forceY -= forceY;
        b.forceX += forceX;
        b.forceY += forceY;
    };
    Slingshot.prototype.resetForce = function (body) {
        body.forceX = 0;
        body.forceY = 0;
    };
    Slingshot.prototype.moveBody = function (body) {
        body.velocityX += body.forceX * TIMESTEP / body.mass;
        body.velocityY += body.forceY * TIMESTEP / body.mass;
        body.pointX += body.velocityX * TIMESTEP;
        body.pointY += body.velocityY * TIMESTEP;
    };
    Slingshot.prototype.degradeVelocity = function (body) {
        body.velocityX *= VELOCITY_DEGRADATION_RATE;
        body.velocityY *= VELOCITY_DEGRADATION_RATE;
    };
    Slingshot.prototype.lockActiveShapeToMouse = function () {
        if (!this.activeShape) {
            return;
        }
        if (!this.activeShape.isTweening) {
            var containerLeft = this.container.getBoundingClientRect().left;
            var containerTop = this.container.getBoundingClientRect().top;
            var inBoundsX = this.mouseX > containerLeft &&
                this.mouseX < this.container.offsetWidth + containerLeft;
            var inBoundsY = this.mouseY > containerTop &&
                this.mouseY < this.container.offsetHeight + containerTop;
            var offsetX = this.mouseX - this.mouseOffsetX;
            var offsetY = this.mouseY - this.mouseOffsetY;
            if (inBoundsX) {
                this.activeShape.body.pointX = offsetX;
            }
            else if (this.mouseX + this.mouseOffsetX < containerLeft) {
                this.activeShape.body.pointX = containerLeft - this.mouseOffsetX;
            }
            else if (this.mouseX - this.mouseOffsetX > this.container.offsetWidth + containerLeft) {
                this.activeShape.body.pointX =
                    this.container.offsetWidth + containerLeft - this.mouseOffsetX;
            }
            if (inBoundsY) {
                this.activeShape.body.pointY = offsetY;
            }
            else if (this.mouseY + this.mouseOffsetY < containerTop) {
                this.mouseY = containerTop - this.mouseOffsetY;
            }
            else if (this.mouseY + this.mouseOffsetY > this.container.offsetHeight + containerTop) {
                this.mouseY = this.container.offsetHeight + containerTop + this.mouseOffsetY;
            }
        }
        if (!this.activeShape.needsDiagram) {
            return;
        }
        var pointDist = this.getPointDistance(this.activeShape.body.pointX, this.activeShape.body.pointY, this.activeShape.anchor.pointX, this.activeShape.anchor.pointY);
        var isAbove = Math.abs(pointDist) > this.activeShape.body.radius / 2 &&
            this.activeShape.body.pointY < this.activeShape.anchor.pointY;
        var isBelow = Math.abs(pointDist) > this.activeShape.body.radius * 2 &&
            this.activeShape.body.pointY > this.activeShape.anchor.pointY;
        var isFar = Math.abs(pointDist) > this.activeShape.body.radius * 4;
        if (isAbove || isBelow || isFar) {
            this.drawDiagram();
            this.showCanvas();
        }
        else {
            this.hideCanvas();
        }
    };
    Slingshot.prototype.showCanvas = function () {
        if (this.canvasIsVisible) {
            return;
        }
        this.canvasIsVisible = true;
        this.canvas.classList.add(util_1.ACTION_CLASSES.ACTIVE);
    };
    Slingshot.prototype.hideCanvas = function () {
        if (!this.canvasIsVisible) {
            return;
        }
        this.canvasIsVisible = false;
        this.canvas.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
    };
    Slingshot.prototype.drawDiagram = function () {
        if (!this.ctx || !this.activeShape) {
            return;
        }
        var containerLeft = this.container.getBoundingClientRect().left;
        var containerTop = this.container.getBoundingClientRect().top;
        this.ctx.fillStyle = DIAGRAM_TEXT_COLOR;
        this.ctx.strokeStyle = DIAGRAM_LINE_COLOR;
        this.ctx.setLineDash(DIAGRAM_DASH_PATTERN);
        this.ctx.lineWidth = DIAGRAM_LINE_WIDTH;
        this.ctx.beginPath();
        this.ctx.moveTo(this.activeShape.button.offsetLeft * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight) * PIXEL_DENSITY);
        this.ctx.lineTo((this.activeShape.body.pointX - containerLeft + (this.activeShape.button.offsetWidth / 2)) *
            PIXEL_DENSITY, (this.activeShape.body.pointY - containerTop + (this.activeShape.button.offsetHeight / 2)) *
            PIXEL_DENSITY);
        this.ctx.stroke();
        this.ctx.closePath();
        this.ctx.beginPath();
        this.ctx.moveTo(this.activeShape.button.offsetLeft * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight) * PIXEL_DENSITY);
        this.ctx.lineTo((this.activeShape.button.offsetLeft + this.activeShape.button.offsetWidth) * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight) * PIXEL_DENSITY);
        this.ctx.stroke();
        this.ctx.closePath();
        var angle = this.getAngle(this.activeShape.anchor.pointX - (this.activeShape.button.offsetWidth / 2), this.activeShape.anchor.pointY + (this.activeShape.button.offsetHeight / 2), this.activeShape.body.pointX, this.activeShape.body.pointY);
        var angleInDeg = Math.round(-angle * (180 / Math.PI)) + 90;
        if (angleInDeg < 0) {
            angleInDeg = 360 + angleInDeg;
        }
        this.ctx.setLineDash([0]);
        this.ctx.beginPath();
        this.ctx.arc(this.activeShape.button.offsetLeft * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight) * PIXEL_DENSITY, DIAGRAM_CIRCLE_RADIUS * PIXEL_DENSITY, angleInDeg < 340 ? -10 * (Math.PI / 180) : 0, angleInDeg < 340 ? -angle + (100 * (Math.PI / 180)) : -angle + (90 * (Math.PI / 180)));
        this.ctx.stroke();
        this.ctx.closePath();
        var angleText = angleInDeg + "\u00B0";
        this.ctx.textAlign = 'right';
        this.ctx.font = DIAGRAM_FONT;
        this.ctx.fillText(angleText, (this.activeShape.button.offsetLeft + 22) * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight + 18) *
            PIXEL_DENSITY);
        var pointDist = this.getDistanceAsTwoPoints(this.lastMouseX - this.mouseOffsetX - containerLeft, this.lastMouseY - this.mouseOffsetY - containerTop, this.activeShape.body.pointX - containerLeft, this.activeShape.body.pointY - containerTop);
        var velocity = Math.abs(pointDist.x / VELOCITY_INTERACTION_MODIFIER) +
            Math.abs(pointDist.y / VELOCITY_INTERACTION_MODIFIER);
        var lengthText = Math.round(velocity) + "v";
        this.ctx.fillText(lengthText, (this.activeShape.button.offsetLeft + 25) * PIXEL_DENSITY, (this.activeShape.button.offsetTop + this.activeShape.button.offsetHeight - 10) *
            PIXEL_DENSITY);
    };
    Slingshot.prototype.render = function () {
        if (!this.containerIsInView) {
            return;
        }
        if (this.ctx) {
            this.ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
        }
        for (var i = 0; i < this.allShapes.length; i++) {
            var shape = this.allShapes[i];
            this.resetForce(shape.body);
            this.resetForce(shape.anchor);
            var pointDist = this.getPointDistance(shape.body.pointX, shape.body.pointY, shape.anchor.pointX, shape.anchor.pointY);
            var bodiesAreClose = Math.abs(pointDist) < shape.anchor.radius;
            if (!bodiesAreClose && !shape.isTweening) {
                for (var ii = i + 1; ii < this.allShapes.length; ii++) {
                    var shape2 = this.allShapes[ii];
                    if (shape2 && !shape2.isLocked) {
                        this.pairwisePhysics(shape.body, shape2.body);
                    }
                }
                this.pairwisePhysics(shape.body, shape.anchor);
            }
        }
        for (var i = 0; i < this.allShapes.length; i++) {
            var shape = this.allShapes[i];
            var pointDist = this.getPointDistance(shape.body.pointX, shape.body.pointY, shape.anchor.pointX, shape.anchor.pointY);
            var bodiesAreClose = Math.abs(pointDist) < shape.anchor.radius;
            if (!bodiesAreClose && !shape.isTweening && shape !== this.activeShape) {
                this.moveBody(shape.body);
                this.degradeVelocity(shape.body);
            }
            else if (bodiesAreClose && !shape.isTweening) {
                this.returnBodyToOrigin(shape);
            }
            if (this.mouseIsDown) {
                this.lockActiveShapeToMouse();
            }
            var shapeLeft = shape.body.pointX - shape.origin.x + "px";
            var shapeTop = shape.body.pointY - shape.origin.y + "px";
            shape.button.style.transform = "translate3d(" + shapeLeft + ", " + shapeTop + ", 0)";
        }
        requestAnimationFrame(this.render);
    };
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleMouseDown", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleTouchStart", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handlePointerDown", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleMouseUp", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleTouchEnd", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handlePointerUp", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleResize", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "cachePointerCoords", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleMouseMove", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "handleTouchMove", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "updatePointerCoords", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "updateShapeCoords", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "returnAllBodiesToOrigin", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "returnBodyToOrigin", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "autoDragAndThrowItem", null);
    __decorate([
        core_decorators_1.autobind
    ], Slingshot.prototype, "render", null);
    return Slingshot;
}());
exports.Slingshot = Slingshot;


/***/ }),

/***/ "./static/js/components/SnackBar.ts":
/*!******************************************!*\
  !*** ./static/js/components/SnackBar.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var snackbar_1 = __webpack_require__(/*! @material/snackbar */ "./node_modules/@material/snackbar/index.js");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    SNACKBAR_EL: '.mdc-snackbar',
};
var SnackBar = (function () {
    function SnackBar(core, snackBarEl) {
        this.core = core;
        this.snackBarEl = snackBarEl || document.querySelector(SELECTORS.SNACKBAR_EL);
        this.snackBar = new snackbar_1.MDCSnackbar(this.snackBarEl);
        this.message = this.snackBarEl.querySelector('.mdc-snackbar__text').innerHTML;
        this.actionText = this.snackBarEl
            .querySelector('.mdc-snackbar__action-button').innerHTML;
    }
    SnackBar.prototype.defaultHandler = function () {
        return false;
    };
    SnackBar.prototype.snackBarTrigger = function (message, actionText, callback, timeout) {
        this.snackBar.show({
            message: message || this.message,
            actionText: actionText || this.actionText,
            actionHandler: callback || this.defaultHandler,
            timeout: timeout,
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], SnackBar.prototype, "defaultHandler", null);
    __decorate([
        core_decorators_1.autobind
    ], SnackBar.prototype, "snackBarTrigger", null);
    return SnackBar;
}());
exports.default = SnackBar;


/***/ }),

/***/ "./static/js/components/StepNav.ts":
/*!*****************************************!*\
  !*** ./static/js/components/StepNav.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var menu_1 = __webpack_require__(/*! @material/menu */ "./node_modules/@material/menu/index.js");
var SELECTORS = {
    MDC_NAV: '.js-mdc-select-nav',
    MDC_NAV_TOGGLE: '.js-mdc-nav-toggle',
};
var StepNav = (function () {
    function StepNav(core, snackBarEl) {
        this.core = core;
        this.mdcSelect = document.querySelector(SELECTORS.MDC_NAV);
        if (this.mdcSelect) {
            this.menu = new menu_1.MDCMenu(this.mdcSelect);
            this.menuToggle = document.querySelector(SELECTORS.MDC_NAV_TOGGLE);
        }
        this.init();
    }
    StepNav.prototype.init = function () {
        if (!this.menu || !this.menuToggle) {
            return;
        }
        this.menuToggle.addEventListener('click', this.handleMenuToggle);
    };
    StepNav.prototype.handleMenuToggle = function (e) {
        e.preventDefault();
        this.menu.open = !this.menu.open;
    };
    __decorate([
        core_decorators_1.autobind
    ], StepNav.prototype, "handleMenuToggle", null);
    return StepNav;
}());
exports.default = StepNav;


/***/ }),

/***/ "./static/js/components/StickyBar.ts":
/*!*******************************************!*\
  !*** ./static/js/components/StickyBar.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var STICKY_BAR_SELECTOR = '.js-sticky-bar';
var STICKY_BAR_CHILD_SELECTOR = '.js-sticky-bar-child';
var StickyBar = (function () {
    function StickyBar(stickToBottom, selector) {
        if (stickToBottom === void 0) { stickToBottom = false; }
        if (selector === void 0) { selector = STICKY_BAR_SELECTOR; }
        this.stickToBottom = false;
        var elements = util_1.nodeListToArray(document.querySelectorAll(selector));
        this.stickies = elements.map(function (element) {
            var child = element.querySelector(STICKY_BAR_CHILD_SELECTOR);
            element.style.position = 'relative';
            element.style.height = child.offsetHeight + "px";
            return {
                element: element,
                child: child,
                isStuck: false,
            };
        });
        this.stickToBottom = stickToBottom;
        if (this.stickies.length > 0) {
            this.init();
        }
    }
    StickyBar.prototype.init = function () {
        window.addEventListener('scroll', this.onScroll);
        this.onScroll();
    };
    StickyBar.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    StickyBar.prototype.handleScroll = function () {
        for (var i = 0; i < this.stickies.length; i++) {
            var target = this.stickies[i];
            if (!target.child) {
                return;
            }
            var bounds = target.element.getBoundingClientRect();
            var isInView = this.stickToBottom ? bounds.bottom < window.innerHeight : bounds.top > 0;
            if (!target.isStuck && !isInView) {
                target.child.classList.add(util_1.ACTION_CLASSES.ACTIVE);
                target.isStuck = true;
            }
            else if (target.isStuck && isInView) {
                target.child.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
                target.isStuck = false;
            }
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], StickyBar.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], StickyBar.prototype, "handleScroll", null);
    return StickyBar;
}());
exports.StickyBar = StickyBar;


/***/ }),

/***/ "./static/js/components/ThoughtStarter.ts":
/*!************************************************!*\
  !*** ./static/js/components/ThoughtStarter.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var THOUGHT_STARTER_SELECTOR = '.js-thought-starter';
var THOUGHT_STARTER_ITEM_SELECTOR = '.js-thought-starter-item';
var THOUGHT_STARTER_TOOLTIP_SELECTOR = '.js-thought-starter-tooltip';
var THOUGHT_STARTER_ICON_DELAY = 500;
var THOUGHT_STARTER_ICON_OFFSET_DELAY = 20;
var ACTIVATION_DELAY = 360;
var ThoughtStarter = (function () {
    function ThoughtStarter(core) {
        this.hasActivated = false;
        this.readyForTouchInteraction = true;
        this.core = core;
        this.activationDelay = this.core && this.core.prefersReducedMotion ? 0 : ACTIVATION_DELAY;
        this.parent =
            document.querySelector(THOUGHT_STARTER_SELECTOR);
        var thoughtStarterItemElements = util_1.nodeListToArray(this.parent.querySelectorAll(THOUGHT_STARTER_ITEM_SELECTOR));
        this.items = thoughtStarterItemElements.map(function (item) {
            return {
                element: item,
                tooltip: item.querySelector(THOUGHT_STARTER_TOOLTIP_SELECTOR),
                isActive: false,
                hoverTimeout: null,
                activateTimeout: null,
            };
        });
    }
    ThoughtStarter.prototype.getIsInView = function () {
        var bounds = this.parent.getBoundingClientRect();
        return bounds.top < (window.innerHeight * 0.25);
    };
    ThoughtStarter.prototype.activate = function () {
        if (this.hasActivated) {
            return;
        }
        this.hasActivated = true;
        this.bindEvents();
        if (this.core && this.core.prefersReducedMotion) {
            return;
        }
        var _loop_1 = function (i) {
            var item = this_1.items[i];
            setTimeout(function () {
                item.element.classList.add(util_1.ACTION_CLASSES.ACTIVE);
            }, (i * THOUGHT_STARTER_ICON_OFFSET_DELAY));
            setTimeout(function () {
                item.element.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
            }, THOUGHT_STARTER_ICON_DELAY + (i * THOUGHT_STARTER_ICON_OFFSET_DELAY));
        };
        var this_1 = this;
        for (var i = 0; i < this.items.length; i++) {
            _loop_1(i);
        }
    };
    ThoughtStarter.prototype.bindEvents = function () {
        var _this = this;
        window.addEventListener('touchmove', this.onTouchMove);
        this.items.forEach(function (item) {
            item.element.addEventListener('mouseover', function (e) {
                e.preventDefault();
                _this.activateItem(item);
            });
            item.element.addEventListener('mouseleave', function () {
                _this.deactivateItem(item);
            });
            item.element.addEventListener('touchend', function (e) {
                _this.handleItemTouch(e, item);
            });
        });
    };
    ThoughtStarter.prototype.onTouchMove = function () {
        if (this.touchmoveTimeout) {
            clearTimeout(this.touchmoveTimeout);
        }
        this.readyForTouchInteraction = false;
        this.touchmoveTimeout = setTimeout(this.setReadyForTouchInteraction, this.activationDelay);
    };
    ThoughtStarter.prototype.setReadyForTouchInteraction = function () {
        this.readyForTouchInteraction = true;
        this.deactivateAllItems();
    };
    ThoughtStarter.prototype.handleItemTouch = function (e, item) {
        if (!this.readyForTouchInteraction || !item.isActive) {
            e.preventDefault();
        }
        if (!item.isActive && this.readyForTouchInteraction) {
            this.deactivateAllItems();
            this.activateItem(item);
        }
        else if (item.isActive) {
            this.deactivateItem(item);
        }
    };
    ThoughtStarter.prototype.activateItem = function (item) {
        if (item.isActive) {
            return;
        }
        item.isActive = true;
        if (item.hoverTimeout) {
            clearTimeout(item.hoverTimeout);
            item.hoverTimeout = null;
        }
        this.addHoveredState(item);
        item.activateTimeout = setTimeout(this.addActivatedState.bind(this, item), this.activationDelay);
    };
    ThoughtStarter.prototype.deactivateItem = function (item) {
        if (!item.isActive) {
            return;
        }
        item.isActive = false;
        if (item.activateTimeout) {
            clearTimeout(item.activateTimeout);
            item.activateTimeout = null;
        }
        this.removeActivatedState(item);
        item.element.blur();
        item.hoverTimeout =
            setTimeout(this.removeHoveredState.bind(this, item), this.activationDelay * 0.75);
    };
    ThoughtStarter.prototype.deactivateAllItems = function () {
        var _this = this;
        this.items.forEach(function (item) { return _this.deactivateItem(item); });
    };
    ThoughtStarter.prototype.addHoveredState = function (item) {
        item.element.classList.add(util_1.ACTION_CLASSES.HOVERED);
        item.element.style.zIndex = '99';
        item.hoverTimeout = null;
    };
    ThoughtStarter.prototype.removeHoveredState = function (item) {
        item.element.classList.remove(util_1.ACTION_CLASSES.HOVERED);
        item.element.style.removeProperty('z-index');
        item.hoverTimeout = null;
    };
    ThoughtStarter.prototype.addActivatedState = function (item) {
        item.element.classList.add(util_1.ACTION_CLASSES.ENABLED);
        item.activateTimeout = null;
    };
    ThoughtStarter.prototype.removeActivatedState = function (item) {
        item.element.classList.remove(util_1.ACTION_CLASSES.ENABLED);
        item.activateTimeout = null;
    };
    __decorate([
        core_decorators_1.autobind
    ], ThoughtStarter.prototype, "onTouchMove", null);
    __decorate([
        core_decorators_1.autobind
    ], ThoughtStarter.prototype, "setReadyForTouchInteraction", null);
    return ThoughtStarter;
}());
exports.ThoughtStarter = ThoughtStarter;


/***/ }),

/***/ "./static/js/components/ToolTip.ts":
/*!*****************************************!*\
  !*** ./static/js/components/ToolTip.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var TOOL_TIP_SELECTOR = '.js-tool-tip';
var TOOL_TIP_OFF_CLASS = 'tool-tip-off';
var GUTTER_WIDTH = 48;
var CoreToolTip = (function () {
    function CoreToolTip(core, rootElem) {
        this.coords = { x: 0, y: 0 };
        this.isOpen = false;
        this.core = core;
        this.text = '';
        this.containerElem = rootElem.querySelector(TOOL_TIP_SELECTOR);
    }
    CoreToolTip.prototype.setPosition = function (x, y) {
        this.coords.x = x;
        this.coords.y = y;
        this.containerElem.style.left = this.coords.x + 'px';
        this.containerElem.style.top = this.coords.y + 'px';
    };
    CoreToolTip.prototype.show = function () {
        if (this.isOpen) {
            return;
        }
        this.containerElem.classList.remove(TOOL_TIP_OFF_CLASS);
        this.isOpen = true;
    };
    CoreToolTip.prototype.hide = function () {
        if (!this.isOpen) {
            return;
        }
        this.containerElem.classList.add(TOOL_TIP_OFF_CLASS);
        this.isOpen = false;
    };
    __decorate([
        core_decorators_1.autobind
    ], CoreToolTip.prototype, "show", null);
    __decorate([
        core_decorators_1.autobind
    ], CoreToolTip.prototype, "hide", null);
    return CoreToolTip;
}());
exports.CoreToolTip = CoreToolTip;
var ToolTip = (function (_super) {
    __extends(ToolTip, _super);
    function ToolTip(core, rootElem) {
        var _this = _super.call(this, core, rootElem) || this;
        _this.rootElem = rootElem;
        return _this;
    }
    ToolTip.prototype.domShow = function () {
        if (this.isOpen) {
            return;
        }
        var coords = this.getPosition(this.rootElem);
        this.setPosition(coords.x, coords.y);
        this.containerElem.classList.remove(TOOL_TIP_OFF_CLASS);
        this.containerElem.style.visibility = 'visible';
        this.containerElem.setAttribute('aria-hidden', 'false');
        this.rootElem.setAttribute('aria-pressed', 'true');
        this.isOpen = true;
    };
    ToolTip.prototype.domHide = function () {
        if (!this.isOpen) {
            return;
        }
        this.containerElem.classList.add(TOOL_TIP_OFF_CLASS);
        this.containerElem.style.visibility = 'hidden';
        this.containerElem.setAttribute('aria-hidden', 'true');
        this.rootElem.setAttribute('aria-pressed', 'false');
        this.isOpen = false;
    };
    ToolTip.prototype.getPosition = function (button) {
        var windowW = window.innerWidth;
        var windowH = window.innerHeight;
        var toolTipButtonRect = button.getBoundingClientRect();
        var containerRect = this.containerElem.getBoundingClientRect();
        var smallScreen = window.innerWidth < containerRect.width * 2;
        var top = (toolTipButtonRect.top < windowH / 2) ?
            toolTipButtonRect.top + 40 : toolTipButtonRect.top - 40;
        var left = toolTipButtonRect.left + toolTipButtonRect.width / 2;
        var containerOffsetHeight = containerRect.height;
        if (toolTipButtonRect.top < containerOffsetHeight) {
            top = toolTipButtonRect.bottom;
            left = toolTipButtonRect.left + toolTipButtonRect.width / 2 - containerRect.width / 2;
        }
        else if (toolTipButtonRect.left < windowW / 2) {
            top = toolTipButtonRect.top - containerOffsetHeight;
            left = toolTipButtonRect.left;
        }
        else if (toolTipButtonRect.left > windowW / 2) {
            top = toolTipButtonRect.top - containerOffsetHeight;
            left = toolTipButtonRect.left;
        }
        if ((left) < GUTTER_WIDTH) {
            left = toolTipButtonRect.left;
        }
        if ((left + containerRect.width) > (windowW - GUTTER_WIDTH)) {
            left = windowW - containerRect.width - GUTTER_WIDTH;
        }
        if (smallScreen) {
            left = (windowW - containerRect.width) / 2;
        }
        return new util_1.Point(left, top);
    };
    __decorate([
        core_decorators_1.autobind
    ], ToolTip.prototype, "domShow", null);
    __decorate([
        core_decorators_1.autobind
    ], ToolTip.prototype, "domHide", null);
    __decorate([
        core_decorators_1.autobind
    ], ToolTip.prototype, "getPosition", null);
    return ToolTip;
}(CoreToolTip));
exports.ToolTip = ToolTip;


/***/ }),

/***/ "./static/js/components/VideoPlayer.ts":
/*!*********************************************!*\
  !*** ./static/js/components/VideoPlayer.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var VIDEO_SELECTOR = '.js-video-player';
var VideoPlayer = (function () {
    function VideoPlayer(shouldLoop) {
        this.isReady = false;
        this.player = null;
        this.hasBeenPlayed = false;
        this.shouldLoop = shouldLoop || true;
        this.videoDiv = document.querySelector(VIDEO_SELECTOR);
    }
    VideoPlayer.prototype.loadAPI = function () {
        return new Promise(function (resolve) {
            window.onYouTubeIframeAPIReady = resolve;
            var tag = document.createElement('script');
            tag.src = 'https://web.archive.org/web/20181015183524/https://www.youtube.com/iframe_api';
            var firstScriptTag = document.getElementsByTagName('script')[0];
            if (firstScriptTag && firstScriptTag.parentNode) {
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            }
        });
    };
    VideoPlayer.prototype.initializeVideo = function () {
        if (this.isReady || !this.videoDiv) {
            return;
        }
        this.player = new window.YT.Player(this.videoDiv, {
            height: '100%',
            width: '100%',
            videoId: this.videoDiv.dataset.src,
            playerVars: {
                rel: 0,
                showinfo: 0,
                modestbranding: 1,
                playsinline: 1,
                end: 7,
                cc_lang_pref: document.documentElement.lang,
            },
        });
        this.bindEvents();
    };
    VideoPlayer.prototype.bindEvents = function () {
        this.player.addEventListener('onReady', this.onPlayerReady);
        this.player.addEventListener('onStateChange', this.onPlayerStateChange);
    };
    VideoPlayer.prototype.onPlayerReady = function () {
        this.isReady = true;
    };
    VideoPlayer.prototype.onPlayerStateChange = function (e) {
        if (e.data === 0 && this.shouldLoop) {
            this.player.playVideo();
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], VideoPlayer.prototype, "initializeVideo", null);
    __decorate([
        core_decorators_1.autobind
    ], VideoPlayer.prototype, "onPlayerReady", null);
    __decorate([
        core_decorators_1.autobind
    ], VideoPlayer.prototype, "onPlayerStateChange", null);
    return VideoPlayer;
}());
exports.VideoPlayer = VideoPlayer;


/***/ }),

/***/ "./static/js/components/index.ts":
/*!***************************************!*\
  !*** ./static/js/components/index.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Accordion_1 = __webpack_require__(/*! ./Accordion */ "./static/js/components/Accordion.ts");
exports.Accordion = Accordion_1.Accordion;
var AudioPlayer_1 = __webpack_require__(/*! ./AudioPlayer */ "./static/js/components/AudioPlayer.ts");
exports.AudioPlayer = AudioPlayer_1.AudioPlayer;
var CardStack_1 = __webpack_require__(/*! ./CardStack */ "./static/js/components/CardStack.ts");
exports.CardStack = CardStack_1.default;
var CategoryFilter_1 = __webpack_require__(/*! ./CategoryFilter */ "./static/js/components/CategoryFilter.ts");
exports.CategoryFilter = CategoryFilter_1.CategoryFilter;
var Footer_1 = __webpack_require__(/*! ./Footer */ "./static/js/components/Footer.ts");
exports.Footer = Footer_1.default;
var Header_1 = __webpack_require__(/*! ./Header */ "./static/js/components/Header.ts");
exports.Header = Header_1.default;
var InteractiveLogo_1 = __webpack_require__(/*! ./InteractiveLogo */ "./static/js/components/InteractiveLogo.ts");
exports.InteractiveLogo = InteractiveLogo_1.InteractiveLogo;
var NavInPage_1 = __webpack_require__(/*! ./NavInPage */ "./static/js/components/NavInPage.ts");
exports.NavInPage = NavInPage_1.default;
var ScrollTo_1 = __webpack_require__(/*! ./ScrollTo */ "./static/js/components/ScrollTo.ts");
exports.ScrollTo = ScrollTo_1.ScrollTo;
var Slingshot_1 = __webpack_require__(/*! ./Slingshot */ "./static/js/components/Slingshot.ts");
exports.Slingshot = Slingshot_1.Slingshot;
var SnackBar_1 = __webpack_require__(/*! ./SnackBar */ "./static/js/components/SnackBar.ts");
exports.SnackBar = SnackBar_1.default;
var AjaxModal_1 = __webpack_require__(/*! ./AjaxModal */ "./static/js/components/AjaxModal.ts");
exports.AjaxModal = AjaxModal_1.default;
var ListAccordion_1 = __webpack_require__(/*! ./ListAccordion */ "./static/js/components/ListAccordion.ts");
exports.ListAccordion = ListAccordion_1.ListAccordion;
var Alert_1 = __webpack_require__(/*! ./Alert */ "./static/js/components/Alert.ts");
exports.Alert = Alert_1.default;
var VideoPlayer_1 = __webpack_require__(/*! ./VideoPlayer */ "./static/js/components/VideoPlayer.ts");
exports.VideoPlayer = VideoPlayer_1.VideoPlayer;
var CKEdit_1 = __webpack_require__(/*! ./CKEdit */ "./static/js/components/CKEdit.ts");
exports.CKEdit = CKEdit_1.CKEdit;
var ThoughtStarter_1 = __webpack_require__(/*! ./ThoughtStarter */ "./static/js/components/ThoughtStarter.ts");
exports.ThoughtStarter = ThoughtStarter_1.ThoughtStarter;
var ToolTip_1 = __webpack_require__(/*! ./ToolTip */ "./static/js/components/ToolTip.ts");
exports.ToolTip = ToolTip_1.ToolTip;
var StepNav_1 = __webpack_require__(/*! ./StepNav */ "./static/js/components/StepNav.ts");
exports.StepNav = StepNav_1.default;
var StickyBar_1 = __webpack_require__(/*! ./StickyBar */ "./static/js/components/StickyBar.ts");
exports.StickyBar = StickyBar_1.StickyBar;
var ResourceNav_1 = __webpack_require__(/*! ./ResourceNav */ "./static/js/components/ResourceNav.ts");
exports.ResourceNav = ResourceNav_1.default;
var AnimateShapes_1 = __webpack_require__(/*! ./AnimateShapes */ "./static/js/components/AnimateShapes.ts");
exports.AnimateShapes = AnimateShapes_1.default;
var HomeConclusionShapes_1 = __webpack_require__(/*! ./HomeConclusionShapes */ "./static/js/components/HomeConclusionShapes.ts");
exports.HomeConclusionShapes = HomeConclusionShapes_1.default;
var HomeNumberAnimation_1 = __webpack_require__(/*! ./HomeNumberAnimation */ "./static/js/components/HomeNumberAnimation.ts");
exports.HomeNumberAnimation = HomeNumberAnimation_1.default;
var HomeThoughtStarter_1 = __webpack_require__(/*! ./HomeThoughtStarter */ "./static/js/components/HomeThoughtStarter.ts");
exports.HomeThoughtStarter = HomeThoughtStarter_1.default;
var HomeVideoPlayer_1 = __webpack_require__(/*! ./HomeVideoPlayer */ "./static/js/components/HomeVideoPlayer.ts");
exports.HomeVideoPlayer = HomeVideoPlayer_1.default;


/***/ }),

/***/ "./static/js/forms/CheckList.ts":
/*!**************************************!*\
  !*** ./static/js/forms/CheckList.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    SUBMIT: '.js-submit',
};
var SUBMIT_URL = '/api/projects/submit';
var COMPLETE_URL = '/your-project/submit/complete';
var CheckList = (function () {
    function CheckList(core) {
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        if (this.form) {
            this.submit = document.querySelector(SELECTORS.SUBMIT);
            this.inputs = util_1.nodeListToArray(this.form.querySelectorAll('input'));
        }
        this.init();
    }
    CheckList.prototype.init = function () {
        var _this = this;
        if (!this.submit || !this.inputs) {
            return;
        }
        this.submit.disabled = true;
        this.submit.addEventListener('click', this.handleSubmit);
        this.inputs.forEach(function (input) {
            input.addEventListener('change', _this.handleInput);
        });
    };
    CheckList.prototype.handleInput = function () {
        if (!this.submit || !this.inputs) {
            return;
        }
        if (this.inputs.find(function (input) { return (!input.checked); })) {
            this.submit.disabled = true;
            this.submit.classList.add(util_1.ACTION_CLASSES.DISABLED);
        }
        else {
            this.submit.disabled = false;
            this.submit.classList.remove(util_1.ACTION_CLASSES.DISABLED);
        }
    };
    CheckList.prototype.handleSubmit = function (e) {
        var _this = this;
        e.preventDefault();
        util_1.axiosInstance.post(SUBMIT_URL)
            .then(function (response) {
            if (response.data.errors) {
                _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.href = COMPLETE_URL;
            }
        })
            .catch(function (_error) {
            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], CheckList.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], CheckList.prototype, "handleInput", null);
    __decorate([
        core_decorators_1.autobind
    ], CheckList.prototype, "handleSubmit", null);
    return CheckList;
}());
exports.CheckList = CheckList;


/***/ }),

/***/ "./static/js/forms/ConsentForm.ts":
/*!****************************************!*\
  !*** ./static/js/forms/ConsentForm.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    PROJECT_ID_INPUT: '.js-project-id',
    INPUT: '.js-input',
    SUBMIT: '.js-submit--parental-consent-form',
    EMAIL_CONTAINER: '.js-email-container',
};
var FORM_URL = '/api/members/save_consent';
var ConsentForm = (function () {
    function ConsentForm(core) {
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        if (this.form) {
            this.submit = this.form.querySelector(SELECTORS.SUBMIT);
            this.emailContainer = this.form.querySelector(SELECTORS.EMAIL_CONTAINER);
            this.input = this.form.querySelector(SELECTORS.INPUT);
        }
        this.snackBar = new components_1.SnackBar(this.core);
        this.init();
    }
    ConsentForm.prototype.init = function () {
        document.addEventListener('keydown', this.handleKeyDown);
        if (!this.submit || !this.input) {
            return;
        }
        this.submit.addEventListener('click', this.handleSubmit);
        this.input.addEventListener('input', this.handleInput);
        if (this.input.value === '') {
            this.submit.disabled = true;
        }
    };
    ConsentForm.prototype.handleKeyDown = function (e) {
        var keyName = e.key;
        if (keyName === 'Enter' && this.submit && !this.submit.disabled) {
            this.handleSubmit();
        }
    };
    ConsentForm.prototype.handleInput = function () {
        if (!this.submit || !this.input) {
            return;
        }
        if (this.input.checkValidity()) {
            this.submit.disabled = false;
        }
        else {
            this.submit.disabled = true;
        }
    };
    ConsentForm.prototype.handleSubmit = function () {
        var _this = this;
        if (!this.form || !this.submit) {
            return;
        }
        this.submit.classList.add(util_1.ACTION_CLASSES.SAVING);
        this.form.reportValidity();
        var params = {
            consent_email: this.input && this.input.value,
        };
        util_1.axiosInstance.post(FORM_URL, JSON.stringify(params))
            .then(function (response) {
            if (!_this.form || !_this.emailContainer) {
                return;
            }
            if (response.data.errors) {
                _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                _this.emailContainer.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.snackBar.snackBarTrigger();
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                _this.form.classList.remove(util_1.ACTION_CLASSES.ERROR);
                _this.emailContainer.classList.remove(util_1.ACTION_CLASSES.ERROR);
            }
            _this.submit && _this.submit.classList.remove(util_1.ACTION_CLASSES.SAVING);
        })
            .catch(function (_error) {
            if (_error.response && _error.response.data &&
                _error.response.data.errors === 'Consent has already been granted') {
                window.location.reload();
                return;
            }
            if (!_this.form || !_this.emailContainer) {
                return;
            }
            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.emailContainer.classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.submit && _this.submit.classList.remove(util_1.ACTION_CLASSES.SAVING);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], ConsentForm.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], ConsentForm.prototype, "handleKeyDown", null);
    __decorate([
        core_decorators_1.autobind
    ], ConsentForm.prototype, "handleInput", null);
    __decorate([
        core_decorators_1.autobind
    ], ConsentForm.prototype, "handleSubmit", null);
    return ConsentForm;
}());
exports.ConsentForm = ConsentForm;


/***/ }),

/***/ "./static/js/forms/Forms.ts":
/*!**********************************!*\
  !*** ./static/js/forms/Forms.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    INPUT_SELECTOR: '.form--text-input-wrap',
    RADIO_GROUP: '.js-radio-group',
};
var Forms = (function () {
    function Forms(core) {
        this.core = core;
        var inputs = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.INPUT_SELECTOR));
        this.textInputs = inputs.map(function (item) {
            return {
                wrapper: item,
                input: item.querySelector('input'),
            };
        });
        var radioGroupWrapper = document.querySelector(SELECTORS.RADIO_GROUP);
        if (radioGroupWrapper) {
            var radioGroupLabels = util_1.nodeListToArray(radioGroupWrapper
                .querySelectorAll('label'));
            this.radioGroup = {
                wrapper: radioGroupWrapper,
                inputs: radioGroupLabels.map(function (label) {
                    return {
                        input: document.getElementById(label.htmlFor),
                        label: label,
                    };
                }),
            };
        }
        this.init();
    }
    Forms.prototype.init = function () {
        var _this = this;
        this.textInputs.forEach(function (input) {
            if (!input.input) {
                return;
            }
            input.input.addEventListener('focus', _this.onFocus);
            input.input.addEventListener('blur', _this.onBlur);
            if (input.input.value !== '') {
                input.wrapper.classList.add(util_1.ACTION_CLASSES.FOCUSED);
            }
        });
        if (this.radioGroup) {
            this.radioGroup.inputs.forEach(function (group) {
                group.input.addEventListener('change', _this.handleRadioChange
                    .bind(group.input, group.label, _this));
                group.input.addEventListener('focus', _this.handleRadioFocus
                    .bind(group.input, group.label, _this));
                group.input.addEventListener('blur', _this.handleRadioBlur
                    .bind(group.input, group.label, _this));
                group.input.blur();
            });
        }
    };
    Forms.prototype.onBlur = function (e) {
        this.inputBlur(e.target);
    };
    Forms.prototype.inputBlur = function (el) {
        this.textInputs.forEach(function (input) {
            if (input.input === el && el.value === '') {
                input.wrapper.classList.remove(util_1.ACTION_CLASSES.FOCUSED);
            }
        });
    };
    Forms.prototype.onFocus = function (e) {
        this.textInputs.forEach(function (input) {
            if (input.input === e.target) {
                input.wrapper.classList.add(util_1.ACTION_CLASSES.FOCUSED);
            }
        });
    };
    Forms.prototype.handleRadioChange = function (label, input, e) {
        if (!this.radioGroup) {
            return;
        }
        this.radioGroup.inputs.forEach(function (group) {
            group.label.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
        });
        if (e.target.checked) {
            label.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        }
    };
    Forms.prototype.handleRadioFocus = function (label, input, e) {
        label.classList.add(util_1.ACTION_CLASSES.FOCUSED);
    };
    Forms.prototype.handleRadioBlur = function (label, input, e) {
        if (!this.radioGroup) {
            return;
        }
        this.radioGroup.inputs.forEach(function (group) {
            group.label.classList.remove(util_1.ACTION_CLASSES.FOCUSED);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "onBlur", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "inputBlur", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "onFocus", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "handleRadioChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "handleRadioFocus", null);
    __decorate([
        core_decorators_1.autobind
    ], Forms.prototype, "handleRadioBlur", null);
    return Forms;
}());
exports.Forms = Forms;


/***/ }),

/***/ "./static/js/forms/InspiringEducator.ts":
/*!**********************************************!*\
  !*** ./static/js/forms/InspiringEducator.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    PROJECT_ID_INPUT: '.js-project-id',
    PROJECT_SITE_ID_INPUT: '.js-project-site-id',
    MAIN_TEXTAREA: '.js-main-textarea',
    SAVE_BUTTONS: '.js-submit',
    SAVE_BUTTON: '.js-save-button',
    UPDATE_BUTTON: '.js-update-button',
};
var FORM_URL = '/api/members/update';
var InspiringEducator = (function () {
    function InspiringEducator(core) {
        this.name = '';
        this.mainTextArea = '';
        this.hasEdited = false;
        this.core = core;
        this.ckEdit = new components_1.CKEdit(core, this.handleCKEditChange);
        this.form = document.querySelector(SELECTORS.FORM);
        this.saveButtons = util_1.nodeListToArray(this.form.querySelectorAll(SELECTORS.SAVE_BUTTONS));
        this.snackBar = new components_1.SnackBar(this.core);
        this.init();
    }
    InspiringEducator.prototype.init = function () {
        var _this = this;
        this.mainTextArea = CKEDITOR.instances[this.name] && CKEDITOR.instances[this.name].getData();
        this.saveButtons.forEach(function (button) {
            button.addEventListener('click', _this.handleSubmit);
        });
    };
    InspiringEducator.prototype.handleCKEditChange = function (e) {
        this.name = e.editor.name;
        this.mainTextArea = e.editor.getData();
        if (!this.hasEdited) {
            this.saveButtons.forEach(function (button) {
                button.disabled = false;
            });
        }
        this.hasEdited = true;
    };
    InspiringEducator.prototype.handleSubmit = function (e) {
        var _this = this;
        this.form.reportValidity();
        var submitButton = e.currentTarget;
        submitButton.classList.add(util_1.ACTION_CLASSES.SAVING);
        var params = {
            inspiring_educator: this.mainTextArea,
        };
        util_1.axiosInstance.post(FORM_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                _this.form.classList.add('-error');
            }
            else {
                _this.snackBar.snackBarTrigger();
            }
            submitButton.classList.remove(util_1.ACTION_CLASSES.SAVING);
            document.querySelector(SELECTORS.SAVE_BUTTON)
                .classList.add(util_1.ACTION_CLASSES.HIDDEN);
            document.querySelector(SELECTORS.UPDATE_BUTTON)
                .classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        })
            .catch(function (error) {
            _this.form.classList.add('-error');
            submitButton.classList.remove(util_1.ACTION_CLASSES.SAVING);
            document.querySelector(SELECTORS.SAVE_BUTTON)
                .classList.add(util_1.ACTION_CLASSES.HIDDEN);
            document.querySelector(SELECTORS.UPDATE_BUTTON)
                .classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        });
        return;
    };
    __decorate([
        core_decorators_1.autobind
    ], InspiringEducator.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], InspiringEducator.prototype, "handleCKEditChange", null);
    __decorate([
        core_decorators_1.autobind
    ], InspiringEducator.prototype, "handleSubmit", null);
    return InspiringEducator;
}());
exports.InspiringEducator = InspiringEducator;


/***/ }),

/***/ "./static/js/forms/ParentalConsent.ts":
/*!********************************************!*\
  !*** ./static/js/forms/ParentalConsent.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    SUBMIT: '.js-submit--parental-consent-form',
    CODE_INPUT: '.js-code-input',
    STUDENT_INPUT: '.js-student-input',
};
var CONSENT_URL = '/gsfapi/members/grant_consent';
var ParentalConsent = (function () {
    function ParentalConsent(core) {
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        if (this.form) {
            this.submit = this.form.querySelector(SELECTORS.SUBMIT);
            this.code = this.form.querySelector(SELECTORS.CODE_INPUT);
            this.student = this.form.querySelector(SELECTORS.STUDENT_INPUT);
        }
        this.init();
    }
    ParentalConsent.prototype.init = function () {
        if (!this.submit) {
            return;
        }
        this.submit.addEventListener('click', this.handleSubmit);
    };
    ParentalConsent.prototype.handleSubmit = function (e) {
        var _this = this;
        if (!this.form) {
            return;
        }
        e.preventDefault();
        var params = {
            code: this.code && this.code.value,
            student: this.student && this.student.value,
        };
        util_1.axiosInstance.post(CONSENT_URL, JSON.stringify(params))
            .then(function (response) {
            if (!_this.form) {
                return;
            }
            if (response.data.errors) {
                _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.href = '/parental-consent/approve';
            }
        })
            .catch(function (_error) {
            if (!_this.form) {
                return;
            }
            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], ParentalConsent.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], ParentalConsent.prototype, "handleSubmit", null);
    return ParentalConsent;
}());
exports.ParentalConsent = ParentalConsent;


/***/ }),

/***/ "./static/js/forms/Profile.ts":
/*!************************************!*\
  !*** ./static/js/forms/Profile.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var AgeRangeRestriction_1 = __webpack_require__(/*! ../components/AgeRangeRestriction */ "./static/js/components/AgeRangeRestriction.ts");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    FORM: '.js-profile-form',
    FORM_SUBMIT: '.js-form-submit',
    FORM_TEXT_INPUT: '.form--text-input',
    FORM_RADIO: '.js-radio-group',
    FORM_LEGAL: '.js-terms-container',
    FORM_FIRST_NAME: '.js-first-name-container',
    FORM_LAST_NAME: '.js-last-name-container',
    FORM_AGE_RANGE: '#age-range',
    FORM_AGE_CONTAINER: '.js-age-range-container',
    FORM_SUCCESS: '.js-form-success',
    FORM_COUNTRY: '.js-country-input',
    FORM_STATE: '.js-state-input',
    FORM_LANGUAGE: '.js-language-input',
    FORM_TEAM_CODE: '.js-team-input',
    FORM_PHONE_NUMBER: '.js-phone-number',
    FORM_SCHOOL: '.js-school-container',
    FORM_HOME_SCHOOLED: '.js-home-schooled',
    FORM_SCHOOL_CONTAINER: '.js-school-info',
    FORM_SCHOOL_NAME: '.js-school-name',
    FORM_SCHOOL_ADDRESS: '.js-school-address',
    FORM_SCHOOL_ZIP: '.js-school-zip',
    FORM_SCHOOL_CITY: '.js-school-city',
    FORM_SCHOOL_STATE: '.js-school-state',
    FORM_SCHOOL_COUNTRY: '.js-school-country',
    DELETE_BUTTON: '.js-delete-account',
    PROFILE_WIDGETS: '.js-profile-widget',
    STATUS_COMPLETE_INDICATOR: '.js-account-status-complete-indicator',
    STATUS_INCOMPLETE_INDICATOR: '.js-account-status-incomplete-indicator',
};
var PROFILE_FORM_URL = '/api/members/update';
var DELETE_ACTION_URL = '/api/members/delete_me';
var LOGOUT_URL = '';
var Profile = (function () {
    function Profile(core) {
        this.errorsCleared = true;
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        this.formSubmit = document
            .querySelector(SELECTORS.FORM_SUBMIT);
        this.formSuccess = document.querySelector(SELECTORS.FORM_SUCCESS);
        this.country = this.form.querySelector(SELECTORS.FORM_COUNTRY + " select");
        this.stateContainer = this.form.querySelector(SELECTORS.FORM_STATE);
        this.state = this.stateContainer
            .querySelector(SELECTORS.FORM_STATE + " select");
        this.firstName = this.form
            .querySelector(SELECTORS.FORM_FIRST_NAME + " input");
        this.surname = this.form.querySelector(SELECTORS.FORM_LAST_NAME + " input");
        this.phoneNumber = this.form
            .querySelector(SELECTORS.FORM_PHONE_NUMBER + " input");
        this.schoolForm = document.querySelector(SELECTORS.FORM_SCHOOL);
        this.homeSchooled = this.form
            .querySelector(SELECTORS.FORM_HOME_SCHOOLED + " input");
        this.schoolVisible = !this.homeSchooled.checked;
        this.schoolInfoContainer = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_CONTAINER);
        this.schoolInfoInputs = util_1.nodeListToArray(this.schoolInfoContainer.querySelectorAll('input'));
        this.schoolName = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_NAME + " input");
        this.schoolAddr1 = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_ADDRESS + " input");
        this.schoolPostalCode = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_ZIP + " input");
        this.schoolCity = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_CITY + " input");
        this.schoolState = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_STATE + " select");
        this.schoolCountry = this.form
            .querySelector(SELECTORS.FORM_SCHOOL_COUNTRY + " select");
        this.deleteTrigger = document.querySelector(SELECTORS.DELETE_BUTTON);
        this.profileWidgets = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.PROFILE_WIDGETS));
        this.ageRangeContainer = this.form.querySelector(SELECTORS.FORM_RADIO);
        this.ageRangeRestrictions = new AgeRangeRestriction_1.default(this.country, this.ageRangeContainer);
        this.snackBar = new components_1.SnackBar(this.core);
        this.init();
    }
    Profile.prototype.init = function () {
        var _this = this;
        this.formSubmit.addEventListener('click', this.handleSubmit);
        LOGOUT_URL = this.deleteTrigger.dataset.logoutUrl;
        this.deleteTrigger.addEventListener('click', this.handleDelete);
        this.handleHomeSchoolChange();
        this.homeSchooled.addEventListener('change', this.handleHomeSchoolChange);
        this.country.addEventListener('change', this.handleCountryChange);
        document.querySelectorAll('input').forEach(function (input) {
            return input.addEventListener('input', _this.handleOnInput);
        });
        this.handleCountryChange();
    };
    Profile.prototype.handleOnInput = function () {
        if (!this.errorsCleared) {
            document.querySelectorAll('.-error')
                .forEach(function (errorEl) { return errorEl.classList.remove(util_1.ACTION_CLASSES.ERROR); });
            this.errorsCleared = true;
        }
    };
    Profile.prototype.handleCountryChange = function () {
        if (this.country.value === 'US') {
            this.schoolVisible = true;
            this.stateContainer.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        }
        else {
            this.schoolVisible = false;
            this.stateContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        }
        this.setSchoolVisibility();
    };
    Profile.prototype.setSchoolVisibility = function () {
        if (this.schoolVisible) {
            this.schoolForm.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            this.handleHomeSchoolChange();
        }
        else {
            this.schoolForm.classList.add(util_1.ACTION_CLASSES.HIDDEN);
            this.handleHomeSchoolChange();
        }
    };
    Profile.prototype.handleHomeSchoolChange = function () {
        if (this.homeSchooled.checked) {
            this.schoolInfoContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        }
        else {
            this.schoolInfoContainer.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        }
    };
    Profile.prototype.handleSubmit = function (e) {
        var _this = this;
        e && e.preventDefault();
        this.form.reportValidity();
        this.formSubmit.classList.add(util_1.ACTION_CLASSES.SAVING);
        if (this.form.checkValidity()) {
            var sendSchool = !this.homeSchooled.checked && this.schoolVisible;
            var profileParams = {
                firstname: this.firstName.value,
                surname: this.surname.value,
                locale: document.documentElement.lang,
                age_range: this.ageRangeRestrictions.ageRange !== '' ?
                    this.ageRangeRestrictions.ageRange : null,
                country: this.country.value,
                home_state: this.country.value === 'US' ? this.state.value : null,
                phone_number: this.phoneNumber.value,
                home_schooled: this.schoolVisible ? this.homeSchooled.checked : null,
                school_name: sendSchool ? this.schoolName.value : null,
                school_addr1: sendSchool ? this.schoolAddr1.value : null,
                school_postal_code: sendSchool ? this.schoolPostalCode.value : null,
                school_city: sendSchool ? this.schoolCity.value : null,
                school_state: sendSchool ? this.schoolState.value : null,
                school_country: sendSchool ? this.schoolCountry.value : null,
            };
            util_1.axiosInstance.post(PROFILE_FORM_URL, JSON.stringify(profileParams))
                .then(function (response) {
                _this.formSubmit.classList.remove(util_1.ACTION_CLASSES.SAVING);
                if (response.data.errors) {
                    _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                }
                else {
                    if (response.data.is_profile_complete === true) {
                        _this.setProfileComplete();
                    }
                    else {
                        _this.setProfileIncomplete();
                    }
                    _this.snackBar.snackBarTrigger();
                }
            })
                .catch(function (error) {
                _this.errorsCleared = false;
                if (error.response.data.errors === 'Invalid age range for EU') {
                    document.querySelector(SELECTORS.FORM_AGE_CONTAINER)
                        .classList.add(util_1.ACTION_CLASSES.ERROR);
                }
                _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                _this.formSubmit.classList.remove(util_1.ACTION_CLASSES.SAVING);
            });
            return;
        }
    };
    Profile.prototype.setProfileComplete = function () {
        this.profileWidgets.forEach(function (widget) {
            widget.querySelector(SELECTORS.STATUS_INCOMPLETE_INDICATOR)
                .classList.add(util_1.ACTION_CLASSES.HIDDEN);
            widget.querySelector(SELECTORS.STATUS_COMPLETE_INDICATOR)
                .classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        });
    };
    Profile.prototype.setProfileIncomplete = function () {
        this.profileWidgets.forEach(function (widget) {
            widget.querySelector(SELECTORS.STATUS_INCOMPLETE_INDICATOR)
                .classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            widget.querySelector(SELECTORS.STATUS_COMPLETE_INDICATOR)
                .classList.add(util_1.ACTION_CLASSES.HIDDEN);
        });
    };
    Profile.prototype.handleDelete = function (e) {
        e.preventDefault();
        util_1.axiosInstance.post(DELETE_ACTION_URL)
            .then(function (response) {
            if (response.data.errors) {
            }
            else {
                window.location.href = LOGOUT_URL;
            }
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "handleOnInput", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "handleCountryChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "setSchoolVisibility", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "handleHomeSchoolChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "handleSubmit", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "setProfileComplete", null);
    __decorate([
        core_decorators_1.autobind
    ], Profile.prototype, "setProfileIncomplete", null);
    return Profile;
}());
exports.Profile = Profile;


/***/ }),

/***/ "./static/js/forms/StepForm.ts":
/*!*************************************!*\
  !*** ./static/js/forms/StepForm.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    PROJECT_ID_INPUT: '.js-project-id',
    PROJECT_SITE_ID_INPUT: '.js-project-site-id',
    MAIN_TEXTAREA: '.js-rich-textarea',
    SAVED: '.js-status-bar-saved',
    SAVING: '.js-status-bar-saving',
    EMPTY: '.js-status-bar-empty',
    EDITED_HASH: '.js-last-edited',
    BAD_HASH: '.js-bad-hash',
    RELOAD_CTA: '.js-reload-cta',
};
var FORM_URL = '/api/sites/update';
var AUTOSAVE_TIMEOUT = 2000;
var SNACKBAR_TIMEOUT = 8000;
var StepForm = (function () {
    function StepForm(core) {
        this.name = '';
        this.mainTextArea = '';
        this.core = core;
        this.name = document.querySelector(SELECTORS.MAIN_TEXTAREA).id;
        this.ckEdit = new components_1.CKEdit(core, this.handleCKEditChange);
        this.form = document.querySelector(SELECTORS.FORM);
        this.inputs = util_1.nodeListToArray(this.form.querySelectorAll('input, textarea, select'));
        this.projectSiteId = document
            .querySelector(SELECTORS.PROJECT_SITE_ID_INPUT).value;
        this.stepNav = new components_1.StepNav(this.core);
        this.savedStatus = document.querySelector(SELECTORS.SAVED);
        this.savingStatus = document.querySelector(SELECTORS.SAVING);
        this.emptyStatus = document.querySelector(SELECTORS.EMPTY);
        var editHashInput = document.querySelector(SELECTORS.EDITED_HASH);
        this.badHashWarningEl = document.querySelector(SELECTORS.BAD_HASH);
        this.reloadCTA = document.querySelector(SELECTORS.RELOAD_CTA);
        if (editHashInput && editHashInput.value === '') {
            this.currentEditHash = null;
        }
        else if (editHashInput) {
            this.currentEditHash = editHashInput.value;
        }
        this.isFormSaved = true;
        this.snackBar = new components_1.SnackBar(this.core);
        this.stickyBar = new components_1.StickyBar(true);
        this.init();
    }
    StepForm.prototype.init = function () {
        var _this = this;
        this.mainTextArea = CKEDITOR.instances[this.name] && CKEDITOR.instances[this.name].getData();
        this.reloadCTA.addEventListener('click', this.handleReloadCTA);
        CKEDITOR.on('instanceReady', function (ev) {
            ev.editor.on('focus', _this.checkLastEdited);
        });
        window.addEventListener('beforeunload', this.handleBeforeUnload);
    };
    StepForm.prototype.checkLastEdited = function () {
        var _this = this;
        var projectUrl = "/api/sites/get?hashonly=" + this.name;
        util_1.axiosInstance.get(projectUrl).then(function (response) {
            var sanitizedData = response.data.replace(/^\)]}',/, '');
            var jsonResponse = JSON.parse(sanitizedData);
            var hash = jsonResponse[_this.name + "_hash"];
            if (hash === null) {
                return;
            }
            if (hash !== _this.currentEditHash) {
                _this.ckEdit.editor && _this.ckEdit.editor.setReadOnly();
                _this.badHashWarningEl.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
                TweenMax.to(window, 1, {
                    scrollTo: {
                        y: window.scrollY + _this.badHashWarningEl.getBoundingClientRect().top - 85,
                        autoKill: false,
                    },
                });
            }
        });
    };
    StepForm.prototype.handleCKEditChange = function (e) {
        this.name = e.editor.name;
        this.mainTextArea = e.editor.getData();
        this.checkAutoSave();
        this.emptyStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.savedStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.savingStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
    };
    StepForm.prototype.handleBeforeUnload = function (e) {
        if (!this.isFormSaved) {
            e.preventDefault();
            e.returnValue = 'GSF2018';
            return '';
        }
    };
    StepForm.prototype.handleReloadCTA = function (e) {
        e.preventDefault();
        document.location.reload();
    };
    StepForm.prototype.checkAutoSave = function () {
        var _this = this;
        if (this.timeout) {
            this.isFormSaved = false;
            clearTimeout(this.timeout);
        }
        this.timeout = setTimeout(function () {
            _this.handleSubmit();
        }, AUTOSAVE_TIMEOUT);
    };
    StepForm.prototype.handleSubmit = function () {
        var _this = this;
        var _a;
        this.form.reportValidity();
        var params = (_a = {
                id: this.projectSiteId
            },
            _a[this.name] = this.mainTextArea,
            _a[this.name + "_hash"] = this.currentEditHash,
            _a);
        util_1.axiosInstance.post(FORM_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                _this.checkLastEdited();
                _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                _this.savingStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
                if (_this.mainTextArea === '') {
                    _this.emptyStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
                }
                else {
                    _this.savedStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
                }
                _this.isFormSaved = true;
                _this.currentEditHash = response.data[_this.name + "_hash"];
            }
        })
            .catch(function (error) {
            _this.checkLastEdited();
            if (!error.response.data.errors.startsWith('Edit collision')) {
                _this.snackBar.snackBarTrigger(undefined, undefined, undefined, SNACKBAR_TIMEOUT);
            }
            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "checkLastEdited", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "handleCKEditChange", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "handleBeforeUnload", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "handleReloadCTA", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "checkAutoSave", null);
    __decorate([
        core_decorators_1.autobind
    ], StepForm.prototype, "handleSubmit", null);
    return StepForm;
}());
exports.StepForm = StepForm;


/***/ }),

/***/ "./static/js/forms/StepSummaryForm.ts":
/*!********************************************!*\
  !*** ./static/js/forms/StepSummaryForm.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    FORM: '.js-form',
    PROJECT_ID_INPUT: '.js-project-id',
    PROJECT_SITE_ID_INPUT: '.js-project-site-id',
    MAIN_TEXTAREA: '.js-main-textarea',
    PROJECT_NAME: '.js-project-name',
    PROJECT_CATEGORY: '.js-main-category',
    FORM_SUB_CATEGORY: '.js-secondary-category',
    PROJECT_SUB_CATEGORIES: '.js-sub-categories',
    PROJECT_DESCRIPTION: '.js-description',
    SAVED: '.js-status-bar-saved',
    SAVING: '.js-status-bar-saving',
    EMPTY: '.js-status-bar-empty',
    INCOMPLETE: '.js-status-bar-incomplete',
    EDITED_HASH: '.js-last-edited',
    BAD_HASH: '.js-bad-hash',
    RELOAD_CTA: '.js-reload-cta',
};
var SITES_FORM_URL = '/api/sites/update';
var PROJECT_FORM_URL = '/api/projects/update';
var AUTOSAVE_TIMEOUT = 2000;
var StepSummaryForm = (function () {
    function StepSummaryForm(core) {
        this.summary = '';
        this.name = '';
        this.description = '';
        this.core = core;
        this.ckEdit = new components_1.CKEdit(core, this.handleCKEditChange);
        this.form = document.querySelector(SELECTORS.FORM);
        this.projectSiteId = document
            .querySelector(SELECTORS.PROJECT_SITE_ID_INPUT).value;
        this.projectId = document
            .querySelector(SELECTORS.PROJECT_ID_INPUT).value;
        this.category = this.form.querySelector(SELECTORS.PROJECT_CATEGORY);
        this.subCategories = util_1.nodeListToArray(this.form.querySelectorAll(SELECTORS.PROJECT_SUB_CATEGORIES));
        this.subCategoryForm = document.querySelector(SELECTORS.FORM_SUB_CATEGORY);
        this.stepNav = new components_1.StepNav(this.core);
        this.savedStatus = document.querySelector(SELECTORS.SAVED);
        this.savingStatus = document.querySelector(SELECTORS.SAVING);
        this.emptyStatus = document.querySelector(SELECTORS.EMPTY);
        this.incompleteStatus = document.querySelector(SELECTORS.INCOMPLETE);
        var editHashInput = document.querySelector(SELECTORS.EDITED_HASH);
        this.badHashWarningEl = document.querySelector(SELECTORS.BAD_HASH);
        this.reloadCTA = document.querySelector(SELECTORS.RELOAD_CTA);
        if (editHashInput && editHashInput.value === '') {
            this.currentEditHash = null;
        }
        else if (editHashInput) {
            this.currentEditHash = editHashInput.value;
        }
        this.subCategoriesChecked = 0;
        this.isSitesPostSuccess = true;
        this.isProjectPostSuccess = true;
        this.isFormSaved = this.isSitesPostSuccess && this.isProjectPostSuccess;
        this.snackBar = new components_1.SnackBar(this.core);
        this.stickyBar = new components_1.StickyBar(true);
        this.init();
    }
    StepSummaryForm.prototype.init = function () {
        var _this = this;
        this.description = CKEDITOR.instances.description && CKEDITOR.instances.description.getData();
        this.name = CKEDITOR.instances.project_name && CKEDITOR.instances.project_name.getData();
        this.summary = CKEDITOR.instances.summary && CKEDITOR.instances.summary.getData();
        if (this.category.value) {
            this.subCategoryForm.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        }
        this.category.addEventListener('change', this.handleCategoryChange);
        for (var _i = 0, _a = this.subCategories; _i < _a.length; _i++) {
            var subCategory = _a[_i];
            subCategory.addEventListener('change', this.handleSecondaryCategoryChange);
        }
        this.subCategoriesChecked = this.subCategories.filter(function (c) { return c.checked; }).length;
        this.removeSubCategoryFromList();
        this.disableSubCategories();
        this.reloadCTA.addEventListener('click', this.handleReloadCTA);
        CKEDITOR.on('instanceReady', function (ev) {
            ev.editor.on('focus', _this.checkLastEdited);
        });
        window.addEventListener('beforeunload', this.handleBeforeUnload);
    };
    StepSummaryForm.prototype.checkLastEdited = function () {
        var _this = this;
        var projectUrl = "/api/sites/get?hashonly=summary";
        util_1.axiosInstance.get(projectUrl).then(function (response) {
            var sanitizedData = response.data.replace(/^\)]}',/, '');
            var jsonResponse = JSON.parse(sanitizedData);
            var hash = jsonResponse[_this.name + "_hash"];
            if (hash === null) {
                return;
            }
            if (hash !== _this.currentEditHash) {
                _this.ckEdit.editor && _this.ckEdit.editor.setReadOnly();
                _this.badHashWarningEl.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
                TweenMax.to(window, 1, {
                    scrollTo: {
                        y: window.scrollY + _this.badHashWarningEl.getBoundingClientRect().top - 85,
                        autoKill: false,
                    },
                });
            }
        });
    };
    StepSummaryForm.prototype.handleCKEditChange = function (e) {
        var data = e.editor.getData();
        var name = e.editor.name;
        this.checkAutoSave();
        this.emptyStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.savedStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.savingStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        this.incompleteStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        switch (name) {
            case 'project_name':
                this.name = data;
                break;
            case 'description':
                this.description = data;
                break;
            case 'summary':
                this.summary = data;
                break;
        }
    };
    StepSummaryForm.prototype.handleReloadCTA = function (e) {
        e.preventDefault();
        document.location.reload();
    };
    StepSummaryForm.prototype.handleBeforeUnload = function (e) {
        if (!this.isFormSaved) {
            e.preventDefault();
            e.returnValue = 'GSF2018';
            return '';
        }
    };
    StepSummaryForm.prototype.handleCategoryChange = function (event) {
        this.subCategoryForm.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        this.removeSubCategoryFromList();
        this.checkAutoSave();
    };
    StepSummaryForm.prototype.handleSecondaryCategoryChange = function (event) {
        this.subCategoriesChecked = this.subCategories.filter(function (c) { return c.checked; }).length;
        var category = event.target;
        category.checked ? this.disableSubCategories() : this.enableSubCategories();
        this.checkAutoSave();
    };
    StepSummaryForm.prototype.disableSubCategories = function () {
        if (this.subCategoriesChecked === 2) {
            for (var _i = 0, _a = this.subCategories; _i < _a.length; _i++) {
                var subCategory = _a[_i];
                if (!subCategory.checked) {
                    subCategory.disabled = true;
                }
            }
        }
    };
    StepSummaryForm.prototype.enableSubCategories = function () {
        for (var _i = 0, _a = this.subCategories; _i < _a.length; _i++) {
            var subCategory = _a[_i];
            subCategory.disabled = false;
        }
        this.disableSubCategories();
    };
    StepSummaryForm.prototype.removeSubCategoryFromList = function () {
        for (var _i = 0, _a = this.subCategories; _i < _a.length; _i++) {
            var subCategory = _a[_i];
            var parentDiv = subCategory.parentNode;
            if (subCategory.value === this.category.value) {
                parentDiv.classList.add(util_1.ACTION_CLASSES.HIDDEN);
                if (subCategory.checked) {
                    subCategory.checked = false;
                }
            }
            else {
                parentDiv.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            }
        }
        this.subCategoriesChecked = this.subCategories.filter(function (c) { return c.checked; }).length;
        this.enableSubCategories();
    };
    StepSummaryForm.prototype.checkAutoSave = function () {
        var _this = this;
        if (this.timeout) {
            this.isFormSaved = false;
            clearTimeout(this.timeout);
        }
        this.timeout = setTimeout(function () {
            _this.handleSubmit();
        }, AUTOSAVE_TIMEOUT);
    };
    StepSummaryForm.prototype.checkStatus = function (projectParams, sitesParams) {
        if (this.isFormSaved) {
            this.savingStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
            if (projectParams.project_name && projectParams.description &&
                projectParams.main_category && sitesParams.summary) {
                this.savedStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            }
            else if (!projectParams.project_name || !projectParams.description ||
                !projectParams.main_category || !sitesParams.summary) {
                this.incompleteStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            }
            else {
                this.emptyStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            }
        }
    };
    StepSummaryForm.prototype.sendProjectData = function (projectParams) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2, util_1.axiosInstance.post(PROJECT_FORM_URL, JSON.stringify(projectParams))
                        .then(function (projectResponse) {
                        if (projectResponse.data.errors) {
                            _this.checkLastEdited();
                            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                            _this.isProjectPostSuccess = false;
                        }
                        else {
                            _this.form.classList.remove(util_1.ACTION_CLASSES.ERROR);
                            _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                            _this.isProjectPostSuccess = true;
                        }
                    })
                        .catch(function (error) {
                        _this.checkLastEdited();
                        if (!error.response.data.errors.startsWith('Edit collision')) {
                            _this.snackBar.snackBarTrigger();
                        }
                        _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                        _this.isProjectPostSuccess = false;
                    })];
            });
        });
    };
    StepSummaryForm.prototype.sendSiteData = function (sitesParams) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2, util_1.axiosInstance.post(SITES_FORM_URL, JSON.stringify(sitesParams))
                        .then(function (response) {
                        if (response.data.errors) {
                            _this.checkLastEdited();
                            _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                            _this.isSitesPostSuccess = false;
                        }
                        else {
                            _this.form.classList.remove(util_1.ACTION_CLASSES.ERROR);
                            _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                            _this.isSitesPostSuccess = true;
                        }
                    })
                        .catch(function (error) {
                        _this.checkLastEdited();
                        if (!error.response.data.errors.startsWith('Edit collision')) {
                            _this.snackBar.snackBarTrigger();
                        }
                        _this.form.classList.add(util_1.ACTION_CLASSES.ERROR);
                        _this.isSitesPostSuccess = false;
                    })];
            });
        });
    };
    StepSummaryForm.prototype.handleSubmit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sitesParams, subCatValues, projectParams;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.emptyStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
                        this.savedStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
                        this.incompleteStatus.classList.add(util_1.ACTION_CLASSES.HIDDEN);
                        this.savingStatus.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
                        sitesParams = {
                            id: this.projectSiteId,
                            summary: this.summary,
                            summary_hash: this.currentEditHash,
                        };
                        subCatValues = this.subCategories.reduce(function (acc, cur) {
                            if (cur.checked) {
                                return acc.concat([cur.value]);
                            }
                            return acc;
                        }, []);
                        projectParams = {
                            id: this.projectId,
                            project_name: this.name.trim(),
                            description: this.description.trim(),
                            main_category: this.category.value,
                            secondary_categories: subCatValues,
                        };
                        return [4, this.sendProjectData(projectParams)];
                    case 1:
                        _a.sent();
                        return [4, this.sendSiteData(sitesParams)];
                    case 2:
                        _a.sent();
                        this.isFormSaved = this.isProjectPostSuccess && this.isSitesPostSuccess;
                        this.checkStatus(projectParams, sitesParams);
                        return [2];
                }
            });
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "checkLastEdited", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleCKEditChange", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleReloadCTA", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleBeforeUnload", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleCategoryChange", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleSecondaryCategoryChange", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "disableSubCategories", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "enableSubCategories", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "removeSubCategoryFromList", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "checkAutoSave", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "checkStatus", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "sendProjectData", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "sendSiteData", null);
    __decorate([
        core_decorators_1.autobind
    ], StepSummaryForm.prototype, "handleSubmit", null);
    return StepSummaryForm;
}());
exports.StepSummaryForm = StepSummaryForm;


/***/ }),

/***/ "./static/js/forms/TeamForm.ts":
/*!*************************************!*\
  !*** ./static/js/forms/TeamForm.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var ClipboardJS = __webpack_require__(/*! clipboard */ "./node_modules/clipboard/dist/clipboard.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    CANCEL_INVITE: '.js-cancel-invite',
    CANCEL_SNACKBAR: '.js-cancel-snackbar',
    COPY_SNACKBAR: '.js-copy-snackbar',
    SAVED_SNACKBAR: '.js-saved-snackbar',
    COPY_TEAM_CODE: '.js-copy-team-code',
    TEAM_CODE_CONTAINERS: '.js-team-invite-container',
    CREATE_TEAM_CONTAINER: '.js-create-team-container',
    CREATE_TEAM: '.js-create-team',
    FORM: '.js-form',
    INVITE_CONTAINER: '.js-invite-container',
    INVITE_SENT_CONTAINER: '.js-invite-sent-container',
    TEAM_CODE_DISPLAY: '.js-team-code-display',
    JOIN_TEAM_CONTAINER: '.js-team-code-container',
    JOIN_TEAM: '.js-join-team',
    LEAVE_TEAM: '.js-leave-modal-container',
    PROJECT_ID_INPUT: '.js-project-id',
    RE_SEND_INVITE: '.js-re-send-invite',
    REMOVE_CONTAINERS: '.js-remove-modal-container',
    UPDATE_TEAM_CONTAINTER: '.js-update-team-code-container',
    UPDATE_TEAM_NAME: '.js-submit--team-form',
};
var SNACKBAR_DELAY = 5000;
var JOIN_URL = '/api/members/join_team';
var CREATE_URL = '/api/projects/update';
var INVITE_URL = '/api/projects/invite';
var CANCEL_URL = '/api/projects/remove';
var PROJECT_URL = '/api/projects/get';
var TeamForm = (function () {
    function TeamForm(core) {
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        this.projectId = document.querySelector(SELECTORS.PROJECT_ID_INPUT).value;
        this.inputs = util_1.nodeListToArray(this.form.querySelectorAll('input, textarea, select'));
        this.joinTeamInput = this.form
            .querySelector(SELECTORS.JOIN_TEAM_CONTAINER + " input");
        this.joinTeamButton = this.form
            .querySelector(SELECTORS.JOIN_TEAM);
        this.createTeamInput = this.form
            .querySelector(SELECTORS.CREATE_TEAM_CONTAINER + " input");
        this.createTeamButton = this.form
            .querySelector(SELECTORS.CREATE_TEAM);
        this.updateTeamInput = this.form
            .querySelector(SELECTORS.UPDATE_TEAM_CONTAINTER + " input");
        this.updateTeamButton = this.form
            .querySelector(SELECTORS.UPDATE_TEAM_NAME);
        this.teamCodeContainers = util_1.nodeListToArray(document
            .querySelectorAll(SELECTORS.TEAM_CODE_CONTAINERS));
        this.originalTeamName = this.updateTeamInput && this.updateTeamInput.value;
        this.leaveTeam = document.querySelector(SELECTORS.LEAVE_TEAM);
        this.removeMembers = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.REMOVE_CONTAINERS));
        this.inviteContainer = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.INVITE_CONTAINER));
        this.inviteSentContainer = util_1.nodeListToArray(document
            .querySelectorAll(SELECTORS.INVITE_SENT_CONTAINER));
        this.cancelSnackBar = new components_1.SnackBar(this.core, document.querySelector(SELECTORS.CANCEL_SNACKBAR));
        this.snackBar = new components_1.SnackBar(this.core, document.querySelector(SELECTORS.COPY_SNACKBAR));
        this.savedSnackBar = new components_1.SnackBar(this.core, document.querySelector(SELECTORS.SAVED_SNACKBAR));
        if (document.querySelector(SELECTORS.COPY_TEAM_CODE)) {
            this.clipBoard = new ClipboardJS(SELECTORS.COPY_TEAM_CODE);
            this.clipBoard.on('success', this.snackBar.snackBarTrigger.
                bind(undefined, undefined, undefined));
        }
        this.init();
    }
    TeamForm.prototype.init = function () {
        var _this = this;
        if (this.joinTeamButton && this.joinTeamInput) {
            this.joinTeamInput.addEventListener('keydown', this.handleKeyDown);
            this.joinTeamButton.addEventListener('click', this.handleJoinTeamButton);
            if (this.joinTeamInput.value === '') {
                this.joinTeamButton.disabled = true;
            }
            this.joinTeamInput.addEventListener('input', this.handleJoinInput);
        }
        if (this.updateTeamButton && this.updateTeamInput) {
            this.updateTeamInput.addEventListener('input', this.handleUpdateTeamInput);
            this.updateTeamInput.addEventListener('keydown', this.handleKeyDown);
            this.updateTeamButton.disabled = true;
            this.updateTeamButton.addEventListener('click', this.handleUpdateTeam);
        }
        if (this.createTeamButton && this.createTeamInput) {
            this.createTeamInput.addEventListener('keydown', this.handleKeyDown);
            this.createTeamButton.addEventListener('click', this.handleCreateTeamButton);
            this.createTeamInput.addEventListener('input', this.handleCreateInput);
            if (this.createTeamInput.value === '') {
                this.createTeamButton.disabled = true;
            }
        }
        if (this.inviteContainer) {
            this.inviteContainer.forEach(function (invite) {
                var input = invite.querySelector('input');
                var button = invite.querySelector('button');
                if (input.value === '') {
                    button.disabled = true;
                }
                input.addEventListener('input', _this.handleInviteInput.bind(_this, button));
                input.addEventListener('keydown', _this.handleKeyDown);
                button.addEventListener('click', function (e) {
                    button.classList.add(util_1.ACTION_CLASSES.SAVING);
                    _this.handleInviteButton(input, invite, e);
                });
            });
        }
        if (this.inviteSentContainer) {
            this.inviteSentContainer.forEach(function (invite) {
                var input = invite.querySelector('input');
                var sendButton = invite.querySelector(SELECTORS.RE_SEND_INVITE);
                var cancelButton = invite.querySelector(SELECTORS.CANCEL_INVITE);
                sendButton.addEventListener('click', function () {
                    sendButton.classList.add(util_1.ACTION_CLASSES.SAVING);
                    _this.sendInvite(input, invite);
                });
                cancelButton.addEventListener('click', function () {
                    _this.cancelSnackBar
                        .snackBarTrigger(undefined, undefined, _this.cancelInvite.bind(_this, input, invite), SNACKBAR_DELAY);
                });
            });
        }
        if (this.removeMembers) {
            this.removeMembers.forEach(function (container) {
                var input = container.querySelector('input');
                var removeButton = container.querySelector('button');
                removeButton.addEventListener('click', _this.removeMember
                    .bind(_this, input, container));
            });
        }
        if (this.leaveTeam) {
            var input = this.leaveTeam.querySelector('input');
            var removeButton = this.leaveTeam.querySelector('button');
            removeButton.addEventListener('click', this.removeMember
                .bind(this, input, this.leaveTeam));
        }
        if (this.teamCodeContainers) {
            this.teamCodeContainers.forEach(function (container) {
                var button = container.querySelector(SELECTORS.COPY_TEAM_CODE);
                var span = container.querySelector(SELECTORS.TEAM_CODE_DISPLAY);
                if (button.dataset.clipboardText === 'None' || span.innerText === 'None') {
                    _this.pollCode(button, span);
                }
            });
        }
    };
    TeamForm.prototype.pollCode = function (button, span) {
        var _this = this;
        clearTimeout();
        util_1.axiosInstance.get(PROJECT_URL)
            .then(function (response) {
            if (!response.data.errors) {
                var sanitizedData = response.data.replace(/^\)]}',/, '');
                var jsonResponse = JSON.parse(sanitizedData);
                var text = jsonResponse[button.dataset.slotname];
                if (text === null) {
                    setTimeout(_this.pollCode.bind(_this, button, span), 2000);
                    return;
                }
                span.innerText = text;
                button.dataset.clipboardText = text;
                button.disabled = false;
                if (_this.clipBoard) {
                    _this.clipBoard.destroy();
                }
                _this.clipBoard = new ClipboardJS(SELECTORS.COPY_TEAM_CODE);
                _this.clipBoard.on('success', _this.snackBar.snackBarTrigger
                    .bind(undefined, undefined, undefined));
            }
        })
            .catch(function (_error) {
            console.log('error');
        });
    };
    TeamForm.prototype.handleKeyDown = function (e) {
        var keyName = e.key;
        if (keyName === 'Enter') {
            var target = e.currentTarget;
            switch (target.id) {
                case 'team-code':
                    this.joinTeam();
                    break;
                case 'team-name':
                    this.handleUpdateTeam();
                    break;
                case 'create-name':
                    this.handleCreateTeamButton();
                    break;
                case 'team-member2':
                case 'team-member3':
                    this.handleInviteButton(target, target.closest('.js-invite-container'), e);
                    break;
            }
        }
    };
    TeamForm.prototype.handleInviteInput = function (button, e) {
        if (e.currentTarget.checkValidity()) {
            button.disabled = false;
        }
        else {
            button.disabled = true;
        }
    };
    TeamForm.prototype.handleInviteButton = function (input, container, e) {
        e.preventDefault();
        this.sendInvite(input, container);
    };
    TeamForm.prototype.handleJoinInput = function () {
        if (!this.joinTeamButton || !this.joinTeamInput) {
            return;
        }
        if (this.joinTeamInput.value !== '') {
            this.joinTeamButton.disabled = false;
        }
        else {
            this.joinTeamButton.disabled = true;
        }
    };
    TeamForm.prototype.handleCreateInput = function () {
        if (!this.createTeamButton || !this.createTeamInput) {
            return;
        }
        if (this.createTeamInput.value !== '') {
            this.createTeamButton.disabled = false;
        }
        else {
            this.createTeamButton.disabled = true;
        }
    };
    TeamForm.prototype.handleUpdateTeamInput = function () {
        if (!this.updateTeamInput || !this.updateTeamButton) {
            return;
        }
        if (this.updateTeamInput.value === this.originalTeamName || this.updateTeamInput.value === '') {
            this.updateTeamButton.disabled = true;
        }
        else {
            this.updateTeamButton.disabled = false;
        }
    };
    TeamForm.prototype.handleUpdateTeam = function () {
        if (this.updateTeamInput && this.updateTeamButton) {
            this.updateTeamButton.classList.add(util_1.ACTION_CLASSES.SAVING);
            this.createTeam(this.updateTeamInput.value, true);
        }
    };
    TeamForm.prototype.handleJoinTeamButton = function (e) {
        e.preventDefault();
        this.joinTeam();
    };
    TeamForm.prototype.handleCreateTeamButton = function (e) {
        e && e.preventDefault();
        if (this.createTeamInput) {
            this.createTeam(this.createTeamInput.value);
        }
    };
    TeamForm.prototype.joinTeam = function () {
        var _this = this;
        this.joinTeamButton && this.joinTeamButton.classList.add(util_1.ACTION_CLASSES.SAVING);
        var params = {
            invite_code: this.joinTeamInput && this.joinTeamInput.value,
        };
        util_1.axiosInstance.post(JOIN_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                _this.form.querySelector(SELECTORS.JOIN_TEAM_CONTAINER)
                    .classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.reload();
            }
        })
            .catch(function (_error) {
            _this.form.querySelector(SELECTORS.JOIN_TEAM_CONTAINER)
                .classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.resetActiveButtons();
        });
    };
    TeamForm.prototype.createTeam = function (teamName, isExistingTeam) {
        var _this = this;
        this.createTeamButton && this.createTeamButton.classList.add(util_1.ACTION_CLASSES.SAVING);
        var params = {
            id: parseInt(this.projectId, 10),
            team_name: teamName,
        };
        util_1.axiosInstance.post(CREATE_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                _this.form.querySelector(SELECTORS.CREATE_TEAM_CONTAINER)
                    .classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                if (isExistingTeam) {
                    _this.savedSnackBar.snackBarTrigger();
                    _this.resetActiveButtons();
                    return;
                }
                window.location.reload();
            }
            _this.resetActiveButtons();
        })
            .catch(function (_error) {
            _this.form.querySelector(SELECTORS.CREATE_TEAM_CONTAINER)
                .classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.resetActiveButtons();
        });
    };
    TeamForm.prototype.sendInvite = function (input, container) {
        var _this = this;
        var _a;
        var params = (_a = {
                locale: document.documentElement.lang
            },
            _a[input.name] = input.value,
            _a);
        util_1.axiosInstance.post(INVITE_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                container.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.reload();
            }
            _this.resetActiveButtons();
        })
            .catch(function (_error) {
            container.classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.resetActiveButtons();
        });
    };
    TeamForm.prototype.cancelInvite = function (input, container) {
        var _this = this;
        var _a;
        var params = (_a = {},
            _a[input.name] = input.value,
            _a);
        util_1.axiosInstance.post(CANCEL_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                container.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.reload();
            }
            _this.resetActiveButtons();
        })
            .catch(function (_error) {
            container.classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.resetActiveButtons();
        });
    };
    TeamForm.prototype.removeMember = function (input, container) {
        var _this = this;
        var _a;
        var params = (_a = {},
            _a[input.name] = input.value,
            _a);
        util_1.axiosInstance.post(CANCEL_URL, JSON.stringify(params))
            .then(function (response) {
            if (response.data.errors) {
                container.classList.add(util_1.ACTION_CLASSES.ERROR);
            }
            else {
                _this.form.classList.add(util_1.ACTION_CLASSES.SUBMITTED);
                window.location.reload();
            }
            _this.resetActiveButtons();
        })
            .catch(function (_error) {
            container.classList.add(util_1.ACTION_CLASSES.ERROR);
            _this.resetActiveButtons();
        });
    };
    TeamForm.prototype.resetActiveButtons = function () {
        util_1.nodeListToArray(document.querySelectorAll('button')).forEach(function (button) {
            button.classList.remove(util_1.ACTION_CLASSES.SAVING);
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "pollCode", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleKeyDown", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleInviteInput", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleInviteButton", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleJoinInput", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleCreateInput", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleUpdateTeamInput", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleUpdateTeam", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleJoinTeamButton", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "handleCreateTeamButton", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "joinTeam", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "createTeam", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "sendInvite", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "cancelInvite", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "removeMember", null);
    __decorate([
        core_decorators_1.autobind
    ], TeamForm.prototype, "resetActiveButtons", null);
    return TeamForm;
}());
exports.TeamForm = TeamForm;


/***/ }),

/***/ "./static/js/forms/TeaserForm.ts":
/*!***************************************!*\
  !*** ./static/js/forms/TeaserForm.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var axios_1 = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    TEASER_FORM: '.js-teaser-form',
    TEASER_FORM_SUBMIT: '.js-teaser-form-submit',
    TEASER_FORM_TEXT_INPUT: '.form--text-input',
    TEASER_FORM_EMAIL: '.js-email-container',
    TEASER_FORM_RADIO: '.js-radio-container',
    TEASER_FORM_LEGAL: '.js-terms-container',
    TEASER_FORM_SUCCESS: '.js-teaser-form-success',
    TEASER_FORM_CONTAINER: '.js-teaser-form-container',
    TEASER_FORM_COUNTRY: '.js-country-input',
    TEASER_FORM_LANGUAGE: '.js-language-input',
};
var TEASER_FORM_URL = 'https://web.archive.org/web/20181015183524/https://services.google.com/fb/submissions/googlesciencefair-teaser/';
var TeaserForm = (function () {
    function TeaserForm(core) {
        this.core = core;
        this.teaserFormContainer = document
            .querySelector(SELECTORS.TEASER_FORM_CONTAINER);
        this.teaserForm = this.teaserFormContainer
            .querySelector(SELECTORS.TEASER_FORM);
        this.teaserFormSubmit = this.teaserFormContainer
            .querySelector(SELECTORS.TEASER_FORM_SUBMIT);
        this.teaserFormSuccess = document
            .querySelector(SELECTORS.TEASER_FORM_SUCCESS);
        this.init();
    }
    TeaserForm.prototype.init = function () {
        var _this = this;
        this.teaserForm.addEventListener('change', this.handleFormChange);
        this.teaserFormSubmit.addEventListener('click', this.handleSubmit);
        this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL + " input")
            .addEventListener('blur', this.handleEmailBlur);
        this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL + " input")
            .addEventListener('change', this.handleLegalBlur);
        util_1.nodeListToArray(this.teaserForm
            .querySelectorAll('.js-modal-link'))
            .forEach(function (link) { return link.addEventListener('click', _this.resetModal); });
    };
    TeaserForm.prototype.resetModal = function (e) {
        this.teaserForm.querySelector('.glue-app-ready .glue-c-modal__overlay')
            .style.display = 'block';
    };
    TeaserForm.prototype.handleSubmit = function (e) {
        var _this = this;
        e.preventDefault();
        if (this.isFormValid()) {
            var params_1 = {
                'gsf-country': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_COUNTRY).value,
                'gsf-email': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_TEXT_INPUT).value,
                'gsf-i-am-a': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO + " input:checked").value,
                'gsf-is-legal-checked': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL + " input").value,
                'gsf-language': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LANGUAGE).value,
            };
            axios_1.default.defaults.headers.post['Content-Type'] =
                'application/x-www-form-urlencoded';
            axios_1.default.post(TEASER_FORM_URL, Object.keys(params_1)
                .map(function (key) { return key + "=" + encodeURIComponent((params_1[key])); }).join('&'))
                .then(function (response) {
                if (response.data.errors) {
                    if (response.data.errors['gsf-email']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                            .classList.add('-error');
                    }
                    if (response.data.errors['gsf-i-am-a']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO)
                            .classList.add('-error');
                    }
                    if (response.data.errors['gsf-is-legal-checked']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                            .classList.add('-error');
                    }
                }
                else {
                    _this.teaserFormContainer.classList.add('-submitted');
                    _this.teaserFormSuccess.style.display = 'flex';
                    setTimeout(function () {
                        TweenMax.to(window, .15, {
                            scrollTo: {
                                y: 0,
                                autoKill: false,
                            },
                        });
                        _this.teaserFormSuccess.classList.add('-active');
                        _this.teaserFormContainer.style.overflow = 'hidden';
                        _this.teaserFormContainer.style.display = 'none';
                    }, 500);
                }
            })
                .catch(function (error) {
                _this.teaserForm.classList.add('-error');
            });
            return;
        }
        this.setFormStates();
    };
    TeaserForm.prototype.isEmailValid = function () {
        var emailField = this.teaserForm
            .querySelector(SELECTORS.TEASER_FORM_TEXT_INPUT);
        return emailField.validity.valid;
    };
    TeaserForm.prototype.isCategoryValid = function () {
        var categoryFields = util_1.nodeListToArray(this.teaserForm
            .querySelectorAll('.form--radio-group input'));
        return categoryFields.find(function (field) { return field.checked === true; }) !== undefined;
    };
    TeaserForm.prototype.isLegalChecked = function () {
        var legalCheck = this.teaserForm.querySelector('#isLegalChecked');
        return legalCheck.checked === true;
    };
    TeaserForm.prototype.isFormValid = function () {
        return this.isEmailValid() && this.isCategoryValid() && this.isLegalChecked();
    };
    TeaserForm.prototype.setFormStates = function () {
        if (!this.isEmailValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.add('-error');
        }
        if (!this.isCategoryValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO)
                .classList.add('-error');
        }
        if (!this.isLegalChecked()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.add('-error');
        }
    };
    TeaserForm.prototype.handleFormChange = function () {
        this.teaserFormSubmit.disabled = !this.isFormValid();
    };
    TeaserForm.prototype.handleEmailBlur = function () {
        if (!this.isEmailValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.add('-error');
        }
        else {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.remove('-error');
        }
    };
    TeaserForm.prototype.handleLegalBlur = function () {
        if (!this.isLegalChecked()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.add('-error');
        }
        else {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.remove('-error');
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "resetModal", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "handleSubmit", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "isEmailValid", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "isCategoryValid", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "isLegalChecked", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "isFormValid", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "setFormStates", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "handleFormChange", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "handleEmailBlur", null);
    __decorate([
        core_decorators_1.autobind
    ], TeaserForm.prototype, "handleLegalBlur", null);
    return TeaserForm;
}());
exports.default = TeaserForm;


/***/ }),

/***/ "./static/js/forms/index.ts":
/*!**********************************!*\
  !*** ./static/js/forms/index.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Forms_1 = __webpack_require__(/*! ./Forms */ "./static/js/forms/Forms.ts");
exports.Forms = Forms_1.Forms;
var StepForm_1 = __webpack_require__(/*! ./StepForm */ "./static/js/forms/StepForm.ts");
exports.StepForm = StepForm_1.StepForm;
var StepSummaryForm_1 = __webpack_require__(/*! ./StepSummaryForm */ "./static/js/forms/StepSummaryForm.ts");
exports.StepSummaryForm = StepSummaryForm_1.StepSummaryForm;
var TeamForm_1 = __webpack_require__(/*! ./TeamForm */ "./static/js/forms/TeamForm.ts");
exports.TeamForm = TeamForm_1.TeamForm;
var ConsentForm_1 = __webpack_require__(/*! ./ConsentForm */ "./static/js/forms/ConsentForm.ts");
exports.ConsentForm = ConsentForm_1.ConsentForm;
var CheckList_1 = __webpack_require__(/*! ./CheckList */ "./static/js/forms/CheckList.ts");
exports.CheckList = CheckList_1.CheckList;
var ParentalConsent_1 = __webpack_require__(/*! ./ParentalConsent */ "./static/js/forms/ParentalConsent.ts");
exports.ParentalConsent = ParentalConsent_1.ParentalConsent;
var Profile_1 = __webpack_require__(/*! ./Profile */ "./static/js/forms/Profile.ts");
exports.Profile = Profile_1.Profile;
var InspiringEducator_1 = __webpack_require__(/*! ./InspiringEducator */ "./static/js/forms/InspiringEducator.ts");
exports.InspiringEducator = InspiringEducator_1.InspiringEducator;
var TeaserForm_1 = __webpack_require__(/*! ./TeaserForm */ "./static/js/forms/TeaserForm.ts");
exports.TeaserForm = TeaserForm_1.default;


/***/ }),

/***/ "./static/js/pages/Dashboard.ts":
/*!**************************************!*\
  !*** ./static/js/pages/Dashboard.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var SELECTORS = {
    MODAL_LINK: '.js-modal-link',
};
var Dashboard = (function () {
    function Dashboard(core) {
        this.core = core;
        this.modalLink = document.querySelector(SELECTORS.MODAL_LINK);
        this.init();
    }
    Dashboard.prototype.init = function () {
        if (window.location.hash === '#top-tips') {
            this.modalLink && this.modalLink.click();
        }
    };
    return Dashboard;
}());
exports.default = Dashboard;


/***/ }),

/***/ "./static/js/pages/Home.ts":
/*!*********************************!*\
  !*** ./static/js/pages/Home.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    PARENT_LOGO_CONTAINER: '.js-parent-logo-container',
    LOGO_CONTAINER: '.js-logo-container',
    INTERACTIVE_LOGO_CONTAINER: '.js-interactive-logo-container',
    COMPASS_CONTAINER: '.js-animate-compass',
    LOGO_WHEN_SCROLLED: '.js-logo-when-scrolled',
    MODAL_LINK: '.js-error-modal-link',
};
var HEADER_HEIGHT = 80;
var SCROLL_HEADER_INTERACTION_CLASS = '-will-transition-on-scroll';
var SCROLL_HEADER_VISIBLE_CLASS = '-should-show';
var SCROLL_HEADER_INVISIBLE_CLASS = '-should-hide';
var Home = (function () {
    function Home(core) {
        this.headerIsScrolled = false;
        this.compassHasPlayed = false;
        this.core = core;
        this.medScreen = window.matchMedia('(min-width: 600px)').matches;
        this.logoAnimationContainer = document.querySelector(SELECTORS.LOGO_CONTAINER);
        if (this.logoAnimationContainer) {
            this.logoAnimationContainer.classList.add(util_1.ACTION_CLASSES.ACTIVE);
        }
        this.interactiveLogoAnimationContainer =
            document.querySelector(SELECTORS.INTERACTIVE_LOGO_CONTAINER);
        this.logoAnimationData = {
            container: this.logoAnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: true,
            path: this.medScreen ?
                '/static/data/GSF_logo7.json' : '/static/data/GSF_logo_mobile.json',
        };
        this.interactiveLogoAnimationData = {
            container: this.interactiveLogoAnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/GSF_interactive_logo.json',
        };
        this.parentLogoContainer =
            document.querySelector(SELECTORS.PARENT_LOGO_CONTAINER);
        this.headerLogo = document.querySelector(SELECTORS.LOGO_WHEN_SCROLLED);
        this.compassAnimationContainer =
            document.querySelector(SELECTORS.COMPASS_CONTAINER);
        this.compassAnimationData = {
            container: this.compassAnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/data/compass.json',
        };
        this.errorModalLink = document.querySelector(SELECTORS.MODAL_LINK);
        this.init();
    }
    Home.prototype.init = function () {
        this.interactiveLogoAnimationObject =
            bodymovin.loadAnimation(this.interactiveLogoAnimationData);
        this.interactiveLogo = new components_1.InteractiveLogo(this.interactiveLogoAnimationContainer, this.interactiveLogoAnimationObject);
        if (this.core.prefersReducedMotion) {
            this.logoAnimationContainer.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
            if (this.interactiveLogo) {
                this.interactiveLogo.init();
            }
        }
        else {
            this.logoAnimationObject = bodymovin.loadAnimation(this.logoAnimationData);
            this.animateLogo();
        }
        if (this.headerLogo && this.parentLogoContainer) {
            this.parentLogoContainer.classList.add(SCROLL_HEADER_INTERACTION_CLASS);
            this.headerLogo.classList.add(SCROLL_HEADER_INTERACTION_CLASS);
            window.addEventListener('scroll', this.onScroll);
            this.onScroll();
            window.addEventListener('resize', this.onResize);
            this.onResize();
        }
        if (this.compassAnimationContainer) {
            this.compassAnimationObject = bodymovin.loadAnimation(this.compassAnimationData);
        }
        if (window.location.hash === '#sign-in') {
            this.errorModalLink && this.errorModalLink.click();
            window.location.hash = '';
        }
    };
    Home.prototype.animateLogo = function () {
        var _this = this;
        this.logoAnimationObject.play();
        this.logoAnimationObject.addEventListener('complete', function () {
            _this.logoAnimationContainer.classList.remove(util_1.ACTION_CLASSES.ACTIVE);
            if (_this.interactiveLogo) {
                _this.interactiveLogo.init();
            }
        });
    };
    Home.prototype.onScroll = function () {
        requestAnimationFrame(this.handleScroll);
    };
    Home.prototype.handleScroll = function () {
        if (this.core.prefersReducedMotion && !this.compassHasPlayed) {
            this.compassAnimationObject.goToAndStop(this.compassAnimationObject.totalFrames, true);
            this.compassHasPlayed = true;
        }
        else {
            if (this.compassAnimationContainer && !this.compassHasPlayed) {
                var compassTop = this.compassAnimationContainer.getBoundingClientRect().top;
                if (compassTop < window.innerHeight) {
                    this.compassAnimationObject.play();
                    this.compassHasPlayed = true;
                }
            }
        }
        if (!this.medScreen) {
            return;
        }
        var top = this.interactiveLogoAnimationContainer
            .getBoundingClientRect().top + window.innerHeight;
        if (top < HEADER_HEIGHT && !this.headerIsScrolled) {
            this.headerLogo.classList.add(SCROLL_HEADER_VISIBLE_CLASS);
            this.headerIsScrolled = true;
        }
        else if (top >= HEADER_HEIGHT && this.headerIsScrolled) {
            this.parentLogoContainer.classList.remove(SCROLL_HEADER_INVISIBLE_CLASS);
            this.headerLogo.classList.remove(SCROLL_HEADER_VISIBLE_CLASS);
            this.headerIsScrolled = false;
        }
    };
    Home.prototype.onResize = function () {
        requestAnimationFrame(this.handleResize);
    };
    Home.prototype.handleResize = function () {
        this.medScreen = window.matchMedia('(min-width: 600px)').matches;
    };
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "animateLogo", null);
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "onScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "handleScroll", null);
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], Home.prototype, "handleResize", null);
    return Home;
}());
exports.default = Home;


/***/ }),

/***/ "./static/js/pages/ProjectPreview.ts":
/*!*******************************************!*\
  !*** ./static/js/pages/ProjectPreview.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ClipboardJS = __webpack_require__(/*! clipboard */ "./node_modules/clipboard/dist/clipboard.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var SELECTORS = {
    COPY_SNACKBAR: '.js-copy-snackbar',
    COPY_URL: '.js-copy-url',
};
var ProjectPreview = (function () {
    function ProjectPreview(core) {
        this.core = core;
        var snackBarContainer = document.querySelector(SELECTORS.COPY_SNACKBAR);
        if (!snackBarContainer) {
            return;
        }
        this.snackBar = new components_1.SnackBar(this.core, snackBarContainer);
        this.clipBoard = new ClipboardJS(SELECTORS.COPY_URL);
        this.clipBoard.on('success', this.snackBar.snackBarTrigger
            .bind(undefined, undefined, undefined));
    }
    return ProjectPreview;
}());
exports.default = ProjectPreview;


/***/ }),

/***/ "./static/js/pages/Register.ts":
/*!*************************************!*\
  !*** ./static/js/pages/Register.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var AgeRangeRestriction_1 = __webpack_require__(/*! ../components/AgeRangeRestriction */ "./static/js/components/AgeRangeRestriction.ts");
var SELECTORS = {
    FORM: '.js-register-form',
    FORM_SUBMIT: '.js-form-submit',
    FORM_TEXT_INPUT: '.form--text-input',
    FORM_RADIO: '.js-radio-group',
    FORM_LEGAL: '.js-terms-container',
    FORM_FIRST_NAME: '.js-first-name-container',
    FORM_LAST_NAME: '.js-last-name-container',
    FORM_SUCCESS: '.js-form-success',
    FORM_CONTAINER: '.js-form-container',
    FORM_COUNTRY: '.js-country-input',
    FORM_STATE: '.js-state-input',
    FORM_LANGUAGE: '.js-language-input',
    FORM_TEAM_CODE: '.js-team-input',
    FORM_PICTURE_URL: '#pictureUrl',
    DATA_TIP_SELECTOR: '.js-tooltip-trigger',
    REGISTER_TERMS: '.js-register-terms',
    RECEIVED_TEAM_CODE: '.js-received-team-code',
    STEP_1: '.js-step-1',
    STEP_2: '.js-step-2',
    CONTINUE_BUTTON: '.js-continue',
};
var FORM_URL = '/api/members/create';
var Register = (function () {
    function Register(core) {
        this.core = core;
        this.form = document.querySelector(SELECTORS.FORM);
        this.formSubmit = this.form
            .querySelector(SELECTORS.FORM_SUBMIT);
        this.formSuccess = document.querySelector(SELECTORS.FORM_SUCCESS);
        this.formContainer = document
            .querySelector(SELECTORS.FORM_CONTAINER);
        this.country = this.form.querySelector(SELECTORS.FORM_COUNTRY + " select");
        this.stateContainer = this.form.querySelector(SELECTORS.FORM_STATE);
        this.state = this.stateContainer
            .querySelector(SELECTORS.FORM_STATE + " select");
        this.firstName = this.form
            .querySelector(SELECTORS.FORM_FIRST_NAME + " input");
        this.surname = this.form.querySelector(SELECTORS.FORM_LAST_NAME + " input");
        this.teamCodeContainer = this.form.querySelector(SELECTORS.FORM_TEAM_CODE);
        this.teamCode = this.teamCodeContainer
            .querySelector('input');
        this.acceptPrivacy = this.form
            .querySelector(SELECTORS.FORM_LEGAL + " input");
        this.pictureUrl = this.form
            .querySelector("input" + SELECTORS.FORM_PICTURE_URL);
        this.registerTerms = this.form.querySelector(SELECTORS.REGISTER_TERMS);
        this.receivedTeamCode = this.form
            .querySelector(SELECTORS.RECEIVED_TEAM_CODE + " input");
        this.stepOneContainer = this.form.querySelector(SELECTORS.STEP_1);
        this.stepTwoContainer = this.form.querySelector(SELECTORS.STEP_2);
        this.continueButton = this.form.querySelector(SELECTORS.CONTINUE_BUTTON);
        this.ageRangeContainer = this.form.querySelector(SELECTORS.FORM_RADIO);
        this.ageRangeRestrictions = new AgeRangeRestriction_1.default(this.country, this.ageRangeContainer, this.registerTerms);
        this.init();
    }
    Register.prototype.init = function () {
        var _this = this;
        document.addEventListener('keydown', this.handleKeyDown);
        this.formSubmit.disabled = true;
        this.continueButton.disabled = true;
        this.stepTwoContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.formSubmit.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.form.addEventListener('change', this.handleFormChange);
        this.formSubmit.addEventListener('click', this.handleSubmit);
        this.continueButton.addEventListener('click', this.handleContinue);
        var toolTipElements = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.DATA_TIP_SELECTOR));
        toolTipElements.forEach(function (el) {
            var tooltip = new components_1.ToolTip(_this.core, el);
            el.addEventListener('mouseover', tooltip.domShow);
            el.addEventListener('mouseleave', tooltip.domHide);
            el.addEventListener('click', tooltip.domShow);
            el.addEventListener('keydown', function (e) {
                if (e.code === 'Enter' || e.code === 'Space') {
                    if (tooltip.isOpen) {
                        tooltip.domHide();
                    }
                    else {
                        tooltip.domShow();
                    }
                }
                if (e.code === 'Escape') {
                    tooltip.domHide();
                }
            });
        });
        this.country.addEventListener('change', this.handleCountryChange);
        this.state.addEventListener('change', this.handleFormChange);
        this.receivedTeamCode.addEventListener('change', this.setTeamCodeVisibility);
        this.firstName.addEventListener('input', this.handleFormChange);
        this.surname.addEventListener('input', this.handleFormChange);
        this.teamCode.addEventListener('input', this.handleFormChange);
        this.setStateVisibility();
        this.setTeamCodeVisibility();
    };
    Register.prototype.handleKeyDown = function (e) {
        var keyName = e.key;
        if (keyName === 'Enter') {
            if (this.isStepOneValid() && !this.isStepTwoValid()) {
                this.handleContinue();
            }
            else if (this.isStepOneValid() && this.isStepTwoValid()) {
                this.handleSubmit();
            }
        }
    };
    Register.prototype.setStateVisibility = function () {
        if (this.country.value === 'US') {
            this.stateContainer.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            this.state.required = true;
        }
        else {
            this.stateContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
            this.state.required = false;
        }
    };
    Register.prototype.setTeamCodeVisibility = function () {
        if (this.receivedTeamCode.checked) {
            this.teamCodeContainer.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
            this.teamCode.required = true;
        }
        else {
            this.teamCodeContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
            this.teamCode.required = false;
        }
        this.handleFormChange();
    };
    Register.prototype.handleCountryChange = function () {
        this.setStateVisibility();
        this.handleFormChange();
    };
    Register.prototype.handleFormChange = function () {
        this.continueButton.disabled = !this.isStepOneValid();
        this.formSubmit.disabled = !this.isStepTwoValid();
    };
    Register.prototype.handleContinue = function () {
        this.stepOneContainer.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.stepTwoContainer.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        this.continueButton.classList.add(util_1.ACTION_CLASSES.HIDDEN);
        this.formSubmit.classList.remove(util_1.ACTION_CLASSES.HIDDEN);
        this.firstName.focus();
    };
    Register.prototype.isStepOneValid = function () {
        var countryIsValid = this.country.checkValidity();
        var stateIsValid = this.state.required ? this.state.checkValidity() : true;
        var ageIsValid = this.ageRangeRestrictions.ageRange !== '';
        return countryIsValid && stateIsValid && ageIsValid;
    };
    Register.prototype.isStepTwoValid = function () {
        var firstNameIsValid = this.firstName.checkValidity();
        var surNameIsValid = this.surname.checkValidity();
        var isTeamCodeValid = this.receivedTeamCode.checked ? this.teamCode.checkValidity() : true;
        var isTermsValid = this.acceptPrivacy.checked;
        return firstNameIsValid && surNameIsValid && isTeamCodeValid && isTermsValid;
    };
    Register.prototype.isFormValid = function () {
        return this.isStepOneValid() && this.isStepTwoValid();
    };
    Register.prototype.handleSubmit = function () {
        var _this = this;
        this.form.reportValidity();
        if (this.form.checkValidity()) {
            var params = {
                country: this.country.value,
                home_state: this.state.value,
                firstname: this.firstName.value,
                surname: this.surname.value,
                invite_code: this.receivedTeamCode.checked ? this.teamCode.value : null,
                locale: document.documentElement.lang,
                accept_privacy: this.acceptPrivacy.checked,
                age_range: this.ageRangeRestrictions.ageRange,
                picture_url: this.pictureUrl.value,
            };
            util_1.axiosInstance.post(FORM_URL, JSON.stringify(params))
                .then(function (response) {
                if (response.data.errors) {
                    _this.form.classList.add('-error');
                }
                else {
                    _this.formContainer.classList.add('-submitted');
                    window.location.href = '/your-project#top-tips';
                }
            })
                .catch(function (error) {
                _this.form.classList.add('-error');
                if (error.response.data.errors === 'Code not found') {
                    _this.teamCodeContainer.querySelector('.form--input-container')
                        .classList.add(util_1.ACTION_CLASSES.ERROR);
                }
            });
            return;
        }
    };
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "handleKeyDown", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "setStateVisibility", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "setTeamCodeVisibility", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "handleCountryChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "handleFormChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "handleContinue", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "isStepOneValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "isStepTwoValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "isFormValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Register.prototype, "handleSubmit", null);
    return Register;
}());
exports.default = Register;


/***/ }),

/***/ "./static/js/pages/Styleguide.ts":
/*!***************************************!*\
  !*** ./static/js/pages/Styleguide.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var SELECTORS = {
    SNACKBAR: '.js-launch-snackbar',
};
var Styleguide = (function () {
    function Styleguide(core) {
        this.core = core;
        this.textareas = util_1.nodeListToArray(document.querySelectorAll(util_1.GLOBAL_SELECTORS.RICH_TEXTAREA));
        this.snackBarTrigger = document.querySelector(SELECTORS.SNACKBAR);
        this.snackBar = new components_1.SnackBar(this.core);
        this.init();
    }
    Styleguide.prototype.init = function () {
        this.snackBarTrigger.addEventListener('click', this.handleSnackBarTrigger);
    };
    Styleguide.prototype.handleSnackBarTrigger = function () {
        this.snackBar.snackBarTrigger();
    };
    __decorate([
        core_decorators_1.autobind
    ], Styleguide.prototype, "handleSnackBarTrigger", null);
    return Styleguide;
}());
exports.default = Styleguide;


/***/ }),

/***/ "./static/js/pages/Teaser.ts":
/*!***********************************!*\
  !*** ./static/js/pages/Teaser.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_decorators_1 = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");
var axios_1 = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
var components_1 = __webpack_require__(/*! ../components */ "./static/js/components/index.ts");
var util_1 = __webpack_require__(/*! ../util */ "./static/js/util/index.ts");
var SELECTORS = {
    ILLUSTRATION: '.js-scroll-illustration',
    SCROLL_CONTAINER: '.js-scroll-container',
    SCROLL_END: '.js-scroll-end',
    SCROLL_START: '.js-first-scroll',
    LOGO_CONTAINER: '.js-logo-container',
    SUBMISSIONS_OPEN: '.js-submissions-open',
    RESOURCE_CARD_CONTAINER: '.js-resource-card-container',
    RESOURCE_CARD: '.js-resource-card-alt',
    TEASER_FORM: '.js-teaser-form',
    TEASER_FORM_SUBMIT: '.js-teaser-form-submit',
    TEASER_FORM_TEXT_INPUT: '.form--text-input',
    TEASER_FORM_EMAIL: '.js-email-container',
    TEASER_FORM_RADIO: '.js-radio-container',
    TEASER_FORM_LEGAL: '.js-terms-container',
    TEASER_FORM_SUCCESS: '.js-teaser-form-success',
    TEASER_FORM_CONTAINER: '.js-teaser-form-container',
    TEASER_FORM_COUNTRY: '.js-country-input',
    TEASER_FORM_LANGUAGE: '.js-language-input',
    HEADER: '.js-header',
    ELS_WITH_VH: '.js-vh',
};
var TEASER_FORM_URL = 'https://web.archive.org/web/20181015183524/https://services.google.com/fb/submissions/googlesciencefair-teaser/';
var Teaser = (function () {
    function Teaser(core) {
        this.core = core;
        this.windowHeight = window.innerHeight;
        this.medScreen = window.matchMedia('(min-width: 600px)').matches;
        this.largeScreen = window.matchMedia('(min-width: 1024px)').matches;
        this.smallScreen = !this.medScreen;
        this.windowWidth = window.innerWidth;
        this.headerHasShadow = false;
        this.isIOS = false;
        this.illustrationContainer = document.querySelector(SELECTORS.ILLUSTRATION);
        this.logoAnimationContainer = document.querySelector(SELECTORS.LOGO_CONTAINER);
        this.scrollContainer = document.querySelector(SELECTORS.SCROLL_CONTAINER);
        this.teaserForm = document.querySelector(SELECTORS.TEASER_FORM);
        this.teaserFormSubmit = this.teaserForm
            .querySelector(SELECTORS.TEASER_FORM_SUBMIT);
        this.submissionsOpenElement = document.querySelector(SELECTORS.SUBMISSIONS_OPEN);
        this.teaserFormSuccess = document.querySelector(SELECTORS.TEASER_FORM_SUCCESS);
        this.teaserFormContainer = document
            .querySelector(SELECTORS.TEASER_FORM_CONTAINER);
        this.elsWithVh = util_1.nodeListToArray(document.querySelectorAll(SELECTORS.ELS_WITH_VH));
        this.resourceCard = document.querySelector(SELECTORS.RESOURCE_CARD);
        this.resourceCardContainer = document
            .querySelector(SELECTORS.RESOURCE_CARD_CONTAINER);
        this.navInPage = new components_1.NavInPage(core);
        this.scrollContainerTop = this.scrollContainer.getBoundingClientRect().top;
        this.scrollEnd = document.querySelector(SELECTORS.SCROLL_END + " > p");
        this.scrollContainerHeight = document.querySelector(SELECTORS.SCROLL_END)
            .getBoundingClientRect().top;
        this.header = document.querySelector(SELECTORS.HEADER);
        this.headerHeight = document.querySelector('.teaserpage--header')
            .getBoundingClientRect().height;
        this.animationDuration = this.scrollContainerHeight + (this.headerHeight / 4);
        this.animationData = {
            container: this.illustrationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: '/static/images/GSF_test13.json',
        };
        this.animationObject = bodymovin.loadAnimation(this.animationData);
        this.logoAnimationData = {
            container: this.logoAnimationContainer,
            renderer: 'svg',
            loop: false,
            autoplay: true,
            path: this.medScreen ?
                '/static/images/GSF_logo6.json' : '/static/images/GSF_logo_mobile.json',
        };
        this.logoAnimationObject = bodymovin.loadAnimation(this.logoAnimationData);
        this.isLockedTop = false;
        this.isLockedBottom = false;
        this.isResourceCardSet = false;
        this.svgHeight = 0;
        this.init();
    }
    Teaser.prototype.init = function () {
        var _this = this;
        this.isIOS = /(iPad|iPhone|iPod)/.test(navigator.userAgent);
        this.animateLogo();
        this.illustrationContainer.style.width = "" + window.innerWidth;
        this.illustrationContainer.style.height = "" + window.innerHeight;
        window.addEventListener('scroll', this.animate);
        window.onbeforeunload = function () {
            _this.illustrationContainer.style.display = 'none';
            window.scrollTo(0, 0);
        };
        this.teaserForm.addEventListener('change', this.handleFormChange);
        this.teaserFormSubmit.addEventListener('click', this.handleSubmit);
        this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL + " input")
            .addEventListener('blur', this.handleEmailBlur);
        this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL + " input")
            .addEventListener('change', this.handleLegalBlur);
        this.animationObject.addEventListener('DOMLoaded', this.setIllustrationReady);
        util_1.nodeListToArray(document.querySelectorAll('.js-modal-link'))
            .forEach(function (link) { return link.addEventListener('click', _this.resetModal); });
        window.addEventListener('orientationchange', this.handleOrientationChange);
        window.addEventListener('resize', this.handleResize);
        if (this.medScreen) {
            this.setResourceCard();
        }
        this.setHeightsForVh();
        if (/(educator-resources)/.test(window.location.hash)) {
            TweenMax.to(window, 1, {
                scrollTo: {
                    y: document.querySelector('#educator-resources')
                        .getBoundingClientRect().top,
                    autoKill: false,
                },
            });
        }
    };
    Teaser.prototype.setResourceCard = function () {
        if (this.isResourceCardSet) {
            return;
        }
        var innerHtml = this.resourceCard.innerHTML;
        var newLi = document.createElement('li');
        newLi.classList.add('h-c-carousel__item', 'resource-card', 'resource-card-alt');
        newLi.innerHTML = innerHtml;
        this.resourceCardContainer.appendChild(newLi);
        this.resourceCard.remove();
        this.isResourceCardSet = true;
    };
    Teaser.prototype.handleResize = function () {
        this.windowHeight = window.innerHeight;
        this.medScreen = window.matchMedia('(min-width: 600px)').matches;
        this.largeScreen = window.matchMedia('(min-width: 1024px)').matches;
        if (this.smallScreen) {
            if (this.medScreen) {
                this.smallScreen = false;
                this.logoAnimationObject.destroy();
                this.logoAnimationData.path = '/static/images/GSF_logo6.json';
                this.logoAnimationObject = bodymovin.loadAnimation(this.logoAnimationData);
                this.logoAnimationObject.play();
                this.setResourceCard();
            }
        }
        else {
            if (!this.medScreen) {
                this.smallScreen = true;
                this.logoAnimationObject.destroy();
                this.logoAnimationData.path = '/static/images/GSF_logo_mobile.json';
                this.logoAnimationObject = bodymovin.loadAnimation(this.logoAnimationData);
                this.logoAnimationObject.play();
            }
        }
        if (this.windowWidth !== window.innerWidth) {
            this.windowWidth = window.innerWidth;
            window.requestAnimationFrame(this.onResize);
        }
    };
    Teaser.prototype.resetModal = function (e) {
        document.querySelector('.glue-app-ready .glue-c-modal__overlay')
            .style.display = 'block';
    };
    Teaser.prototype.handleOrientationChange = function () {
        window.requestAnimationFrame(this.onResize);
    };
    Teaser.prototype.setIllustrationReady = function () {
        var svg = this.illustrationContainer.querySelector('svg');
        this.svgHeight = this.windowHeight;
        svg.style.height = "" + this.windowHeight;
    };
    Teaser.prototype.onResize = function () {
        this.medScreen = window.matchMedia('(min-width: 600px)').matches;
        this.largeScreen = window.matchMedia('(min-width: 1024px)').matches;
        this.windowHeight = window.innerHeight;
        this.setIllustrationReady();
        this.setHeightsForVh();
        this.scrollContainerTop = this.scrollContainer.getBoundingClientRect().top + window.pageYOffset;
        this.headerHeight = document.querySelector('.teaserpage--header')
            .getBoundingClientRect().height;
        this.scrollContainerHeight = document.querySelector(SELECTORS.SCROLL_END)
            .getBoundingClientRect().top + window.pageYOffset;
        this.animate();
    };
    Teaser.prototype.animate = function () {
        if (window.scrollY > 200 && !this.headerHasShadow) {
            this.header.classList.add(util_1.ACTION_CLASSES.HAS_SHADOW);
            this.headerHasShadow = true;
        }
        else if (window.scrollY < 200 && this.headerHasShadow) {
            this.header.classList.remove(util_1.ACTION_CLASSES.HAS_SHADOW);
            this.headerHasShadow = false;
        }
        var scrollPosition = window.scrollY - (this.headerHeight / 2);
        var scrolledInContainer = this.scrollContainerHeight - (this.headerHeight / 2)
            - (this.windowHeight / 4);
        var maxFrames = this.animationObject.totalFrames;
        var frame = (maxFrames / 100) *
            (scrollPosition / (scrolledInContainer / 100));
        this.animationObject.goToAndStop(frame, true);
        var navHeight = this.medScreen ? 80 : 64;
        var illustrationTop = this.scrollContainer.getBoundingClientRect().top
            - (window.innerHeight * .5) - navHeight;
        if (this.scrollEnd.getBoundingClientRect().top <
            (this.windowHeight * (this.largeScreen ? .8 : .7)) + navHeight) {
            if (this.isLockedBottom) {
                return;
            }
            this.illustrationContainer.classList.add('-locked');
            this.illustrationContainer.classList.remove('-fixed');
            var bottom = document.querySelector(SELECTORS.SCROLL_END)
                .getBoundingClientRect().height - (this.windowHeight / 2);
            this.illustrationContainer.style.top = 'auto';
            this.illustrationContainer.style.bottom = bottom + navHeight + "px";
            this.isLockedBottom = true;
        }
        else {
            if (!this.isLockedBottom) {
                if (illustrationTop < 1) {
                    if (this.isLockedTop) {
                        return;
                    }
                    this.illustrationContainer.classList.add('-fixed');
                    this.illustrationContainer.style.bottom = '0';
                    this.isLockedTop = true;
                }
                else {
                    if (!this.isLockedTop) {
                        return;
                    }
                    this.illustrationContainer.classList.remove('-fixed');
                    this.illustrationContainer.style.removeProperty('bottom');
                    this.isLockedTop = false;
                }
                return;
            }
            this.illustrationContainer.classList.remove('-locked');
            this.illustrationContainer.classList.add('-fixed');
            this.illustrationContainer.style.removeProperty('top');
            this.illustrationContainer.style.bottom = '0';
            this.isLockedBottom = false;
        }
    };
    Teaser.prototype.animateLogo = function () {
        this.logoAnimationObject.play();
        this.logoAnimationObject.addEventListener('complete', this.onLogoAnimationComplete);
    };
    Teaser.prototype.onLogoAnimationComplete = function () {
        this.submissionsOpenElement.classList.add('-active');
    };
    Teaser.prototype.handleSubmit = function (e) {
        var _this = this;
        e.preventDefault();
        if (this.isFormValid()) {
            var params_1 = {
                'gsf-country': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_COUNTRY).value,
                'gsf-email': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_TEXT_INPUT).value,
                'gsf-i-am-a': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO + " input:checked").value,
                'gsf-is-legal-checked': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL + " input").value,
                'gsf-language': this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LANGUAGE).value,
            };
            axios_1.default.defaults.headers.post['Content-Type'] =
                'application/x-www-form-urlencoded';
            axios_1.default.post(TEASER_FORM_URL, Object.keys(params_1)
                .map(function (key) { return key + "=" + encodeURIComponent((params_1[key])); }).join('&'))
                .then(function (response) {
                if (response.data.errors) {
                    if (response.data.errors['gsf-email']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                            .classList.add('-error');
                    }
                    if (response.data.errors['gsf-i-am-a']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO)
                            .classList.add('-error');
                    }
                    if (response.data.errors['gsf-is-legal-checked']) {
                        _this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                            .classList.add('-error');
                    }
                }
                else {
                    _this.teaserFormContainer.classList.add('-submitted');
                    _this.teaserFormSuccess.style.display = 'flex';
                    setTimeout(function () {
                        TweenMax.to(window, .15, {
                            scrollTo: {
                                y: 0,
                                autoKill: false,
                            },
                        });
                        _this.teaserFormSuccess.classList.add('-active');
                        _this.teaserFormContainer.style.overflow = 'hidden';
                        _this.teaserFormContainer.style.display = 'none';
                    }, 500);
                }
            })
                .catch(function (error) {
                _this.teaserForm.classList.add('-error');
            });
            return;
        }
        this.setFormStates();
    };
    Teaser.prototype.isEmailValid = function () {
        var emailField = this.teaserForm
            .querySelector(SELECTORS.TEASER_FORM_TEXT_INPUT);
        return emailField.validity.valid;
    };
    Teaser.prototype.isCategoryValid = function () {
        var categoryFields = util_1.nodeListToArray(this.teaserForm
            .querySelectorAll('.form--radio-group input'));
        return categoryFields.find(function (field) { return field.checked === true; }) !== undefined;
    };
    Teaser.prototype.isLegalChecked = function () {
        var legalCheck = this.teaserForm.querySelector('#isLegalChecked');
        return legalCheck.checked === true;
    };
    Teaser.prototype.isFormValid = function () {
        return this.isEmailValid() && this.isCategoryValid() && this.isLegalChecked();
    };
    Teaser.prototype.setFormStates = function () {
        if (!this.isEmailValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.add('-error');
        }
        if (!this.isCategoryValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_RADIO)
                .classList.add('-error');
        }
        if (!this.isLegalChecked()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.add('-error');
        }
    };
    Teaser.prototype.handleFormChange = function () {
        this.teaserFormSubmit.disabled = !this.isFormValid();
    };
    Teaser.prototype.handleEmailBlur = function () {
        if (!this.isEmailValid()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.add('-error');
        }
        else {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_EMAIL)
                .classList.remove('-error');
        }
    };
    Teaser.prototype.handleLegalBlur = function () {
        if (!this.isLegalChecked()) {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.add('-error');
        }
        else {
            this.teaserForm.querySelector(SELECTORS.TEASER_FORM_LEGAL)
                .classList.remove('-error');
        }
    };
    Teaser.prototype.setHeightsForVh = function () {
        var _this = this;
        this.elsWithVh.forEach(function (el) {
            el.style.removeProperty('height');
            if (_this.largeScreen) {
                return;
            }
            if (el.classList.contains('teaserpage--scroll--content')) {
                el.style.padding = _this.windowHeight * (_this.largeScreen ? .3 : .2) + "px 0";
            }
            if (el.classList.contains('js-scroll-illustration')) {
                el.style.height = _this.windowHeight + "px";
            }
            if (el.classList.contains('js-first-scroll')) {
                el.style.paddingTop = _this.windowHeight * (_this.largeScreen ? .5 : .3) + "px";
            }
            el.style.height = window.getComputedStyle(el).height;
        });
    };
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "init", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "setResourceCard", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleResize", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "resetModal", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleOrientationChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "setIllustrationReady", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "onResize", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "animate", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "animateLogo", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "onLogoAnimationComplete", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleSubmit", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "isEmailValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "isCategoryValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "isLegalChecked", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "isFormValid", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "setFormStates", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleFormChange", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleEmailBlur", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "handleLegalBlur", null);
    __decorate([
        core_decorators_1.autobind
    ], Teaser.prototype, "setHeightsForVh", null);
    return Teaser;
}());
exports.default = Teaser;


/***/ }),

/***/ "./static/js/pages/index.ts":
/*!**********************************!*\
  !*** ./static/js/pages/index.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Home_1 = __webpack_require__(/*! ./Home */ "./static/js/pages/Home.ts");
exports.Home = Home_1.default;
var ProjectPreview_1 = __webpack_require__(/*! ./ProjectPreview */ "./static/js/pages/ProjectPreview.ts");
exports.ProjectPreview = ProjectPreview_1.default;
var Register_1 = __webpack_require__(/*! ./Register */ "./static/js/pages/Register.ts");
exports.Register = Register_1.default;
var Styleguide_1 = __webpack_require__(/*! ./Styleguide */ "./static/js/pages/Styleguide.ts");
exports.Styleguide = Styleguide_1.default;
var Teaser_1 = __webpack_require__(/*! ./Teaser */ "./static/js/pages/Teaser.ts");
exports.Teaser = Teaser_1.default;
var Dashboard_1 = __webpack_require__(/*! ./Dashboard */ "./static/js/pages/Dashboard.ts");
exports.Dashboard = Dashboard_1.default;


/***/ }),

/***/ "./static/js/util/AxiosInstance.ts":
/*!*****************************************!*\
  !*** ./static/js/util/AxiosInstance.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var axios_1 = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
var axiosInstance = axios_1.default.create({
    headers: {
        'Content-Type': 'application/json;charset=UTF-8',
    },
});
exports.default = axiosInstance;


/***/ }),

/***/ "./static/js/util/Point.ts":
/*!*********************************!*\
  !*** ./static/js/util/Point.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var sqrt = Math.sqrt;
var Point = (function () {
    function Point(x, y) {
        this.x = x;
        this.y = y;
    }
    Point.prototype.distance = function (p) {
        return Point.distance(this.x, this.y, p.x, p.y);
    };
    Point.prototype.distanceToCoords = function (x, y) {
        return Point.distance(this.x, this.y, x, y);
    };
    Point.prototype.normalize = function (length) {
        if (length === void 0) { length = 1.0; }
        var x = this.x;
        var y = this.y;
        var d = sqrt(x * x + y * y);
        this.x = length * x / d;
        this.y = length * y / d;
    };
    Point.prototype.scale = function (scale) {
        this.x *= scale;
        this.y *= scale;
    };
    Point.prototype.clone = function () {
        return new Point(this.x, this.y);
    };
    Point.distance = function (x1, y1, x2, y2) {
        var dx = x1 - x2;
        var dy = y1 - y2;
        return sqrt(dx * dx + dy * dy);
    };
    Point.lerp = function (pt1, pt2, coef) {
        var ip = 1 - coef;
        return new Point(pt1.x * ip + pt2.x * coef, pt1.y * ip + pt2.y * coef);
    };
    return Point;
}());
exports.default = Point;


/***/ }),

/***/ "./static/js/util/constants.ts":
/*!*************************************!*\
  !*** ./static/js/util/constants.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CKEDITOR_SETTINGS = {
    language: document.documentElement.lang,
    uploadUrl: '/api/upload',
    removeButtons: 'Cut,Copy,Paste,Strike,About,Anchor',
};
exports.CKEDITOR_SETTINGS = CKEDITOR_SETTINGS;
var GLOBAL_SELECTORS = {
    RICH_TEXTAREA: '.js-rich-textarea',
};
exports.GLOBAL_SELECTORS = GLOBAL_SELECTORS;
var MEDIA_QUERIES = {
    SMALL: '(min-width: 600px)',
    MEDIUM: '(min-width: 900px)',
    LARGE: '(min-width: 1024px)',
    XL: '(min-width: 1440px)',
};
exports.MEDIA_QUERIES = MEDIA_QUERIES;
var ACTION_CLASSES = {
    ACTIVE: '-active',
    ENABLED: '-enabled',
    DISABLED: '-disabled',
    ERROR: '-error',
    FOCUSED: '-focused',
    NEEDS_FOCUS_RING: '-needs-focus',
    SUBMITTED: '-submitted',
    INACTIVE: '-inactive',
    HIDDEN: '-hidden',
    HAS_SHADOW: '-has-shadow',
    SAVING: '-saving',
    HOVERED: '-hovered',
    REDUCE_MOTION: '-reduced-motion',
};
exports.ACTION_CLASSES = ACTION_CLASSES;
exports.DEFAULT_AUDIO_LEVEL = 0.5;


/***/ }),

/***/ "./static/js/util/cookies.ts":
/*!***********************************!*\
  !*** ./static/js/util/cookies.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function readCookie(name) {
    var result = new RegExp("(?:^|; )" + encodeURIComponent(name) + "=([^;]*)").exec(document.cookie);
    return result ? result[1] : null;
}
exports.readCookie = readCookie;
function writeCookie(name, value, days) {
    if (days === void 0) { days = 365; }
    var date = new Date();
    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
    document.cookie = name + "=\"" + value + "\"; expires=" + date.toUTCString() + "; path=/";
}
exports.writeCookie = writeCookie;


/***/ }),

/***/ "./static/js/util/index.ts":
/*!*********************************!*\
  !*** ./static/js/util/index.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ripple_1 = __webpack_require__(/*! @material/ripple */ "./node_modules/@material/ripple/index.js");
var nodeListToArray_1 = __webpack_require__(/*! ./nodeListToArray */ "./static/js/util/nodeListToArray.ts");
exports.nodeListToArray = nodeListToArray_1.default;
var cookies_1 = __webpack_require__(/*! ./cookies */ "./static/js/util/cookies.ts");
exports.readCookie = cookies_1.readCookie;
exports.writeCookie = cookies_1.writeCookie;
var constants_1 = __webpack_require__(/*! ./constants */ "./static/js/util/constants.ts");
exports.CKEDITOR_SETTINGS = constants_1.CKEDITOR_SETTINGS;
exports.GLOBAL_SELECTORS = constants_1.GLOBAL_SELECTORS;
exports.ACTION_CLASSES = constants_1.ACTION_CLASSES;
exports.MEDIA_QUERIES = constants_1.MEDIA_QUERIES;
exports.DEFAULT_AUDIO_LEVEL = constants_1.DEFAULT_AUDIO_LEVEL;
var AxiosInstance_1 = __webpack_require__(/*! ./AxiosInstance */ "./static/js/util/AxiosInstance.ts");
exports.axiosInstance = AxiosInstance_1.default;
var Point_1 = __webpack_require__(/*! ./Point */ "./static/js/util/Point.ts");
exports.Point = Point_1.default;
var isInViewport_1 = __webpack_require__(/*! ./isInViewport */ "./static/js/util/isInViewport.ts");
exports.isInViewport = isInViewport_1.isInViewport;
var isIOS = navigator.userAgent.match(/iPhone|iPod|iPad/);
var shouldLoadMDC = true;
if (isIOS) {
    var version = (navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/) || [''])[0].replace(/_/g, '.');
    shouldLoadMDC = parseInt(version, 10) > 10;
}
var Ripple = shouldLoadMDC ? ripple_1.MDCRipple : null;
exports.Ripple = Ripple;


/***/ }),

/***/ "./static/js/util/isInViewport.ts":
/*!****************************************!*\
  !*** ./static/js/util/isInViewport.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isInViewport(element) {
    var bounding = element.getBoundingClientRect();
    return (bounding.top <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.left >= 0 &&
        bounding.bottom >= 0 &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth));
}
exports.isInViewport = isInViewport;


/***/ }),

/***/ "./static/js/util/nodeListToArray.ts":
/*!*******************************************!*\
  !*** ./static/js/util/nodeListToArray.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function nodeListToArray(nodeList) {
    var arrayFromNodeList = [];
    for (var i = 0; i < nodeList.length; i++) {
        arrayFromNodeList.push(nodeList[i]);
    }
    return arrayFromNodeList;
}
exports.default = nodeListToArray;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9hbmltYXRpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2Jhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51L2FkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9tZW51L3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9yaXBwbGUvYWRhcHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9yaXBwbGUvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvc25hY2tiYXIvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvc25hY2tiYXIvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3NuYWNrYmFyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NsaXBib2FyZC9kaXN0L2NsaXBib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL2FwcGx5RGVjb3JhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL2F1dG9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvY29yZS1kZWNvcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtZGVjb3JhdG9ycy9lcy9kZWNvcmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL2RlcHJlY2F0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL2VudW1lcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtZGVjb3JhdG9ycy9lcy9leHRlbmREZXNjcmlwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvbGF6eS1pbml0aWFsaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvbWVtb2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL21peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvbm9uY29uZmlndXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvbm9uZW51bWVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL292ZXJyaWRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvcHJpdmF0ZS91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL3Byb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtZGVjb3JhdG9ycy9lcy9yZWFkb25seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1kZWNvcmF0b3JzL2VzL3N1cHByZXNzLXdhcm5pbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWRlY29yYXRvcnMvZXMvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtZGVjb3JhdG9ycy9lcy90aW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9Db3JlLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvQWNjb3JkaW9uLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0FnZVJhbmdlUmVzdHJpY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvQWpheE1vZGFsLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0FsZXJ0LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0FuaW1hdGVTaGFwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvQ0tFZGl0LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0NhcmRTdGFjay50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvY29tcG9uZW50cy9DYXRlZ29yeUZpbHRlci50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvY29tcG9uZW50cy9Gb290ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvSGVhZGVyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0hvbWVDb25jbHVzaW9uU2hhcGVzLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0hvbWVOdW1iZXJBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvSG9tZVRob3VnaHRTdGFydGVyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL0hvbWVWaWRlb1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvY29tcG9uZW50cy9JbnRlcmFjdGl2ZUxvZ28udHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvTGlzdEFjY29yZGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvY29tcG9uZW50cy9OYXZJblBhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvUmVzb3VyY2VOYXYudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvU2Nyb2xsVG8udHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvU2xpbmdzaG90LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL1NuYWNrQmFyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL1N0ZXBOYXYudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvU3RpY2t5QmFyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL1Rob3VnaHRTdGFydGVyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9jb21wb25lbnRzL1Rvb2xUaXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvVmlkZW9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2NvbXBvbmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2Zvcm1zL0NoZWNrTGlzdC50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvZm9ybXMvQ29uc2VudEZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL2Zvcm1zL0Zvcm1zLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9mb3Jtcy9JbnNwaXJpbmdFZHVjYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvZm9ybXMvUGFyZW50YWxDb25zZW50LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9mb3Jtcy9Qcm9maWxlLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9mb3Jtcy9TdGVwRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvZm9ybXMvU3RlcFN1bW1hcnlGb3JtLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9mb3Jtcy9UZWFtRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvZm9ybXMvVGVhc2VyRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvZm9ybXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3BhZ2VzL0Rhc2hib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvcGFnZXMvSG9tZS50cyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvanMvcGFnZXMvUHJvamVjdFByZXZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3BhZ2VzL1JlZ2lzdGVyLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9wYWdlcy9TdHlsZWd1aWRlLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy9wYWdlcy9UZWFzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3BhZ2VzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy91dGlsL0F4aW9zSW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3V0aWwvUG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy91dGlsL2Nvb2tpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3V0aWwvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2pzL3V0aWwvaXNJblZpZXdwb3J0LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy9qcy91dGlsL25vZGVMaXN0VG9BcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLHVDQUF1QztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxXQUFXLG9DQUFvQzs7QUFFL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLG9DQUFvQzs7QUFFakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDclBBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQjtBQUNyQjtBQUM0Qjs7QUFFcEI7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzQ0FBc0M7QUFDdEUsaUNBQWlDLDhCQUE4QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUM3RUEsNkY7Ozs7Ozs7Ozs7OztBQ0FBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7QUNuTEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDbkRBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7Ozs7Ozs7Ozs7OztBQ2xCQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUN4REE7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDSkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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LENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkIsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDJDQUEyQztBQUM5RCxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7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Ozs7Ozs7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFVBQVU7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFVBQVU7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FB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QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsbUdBQW1HLEdBQUc7QUFDdEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUFBO0FBQ0wsQ0FBQyxRQUlEOztBQUVBLENBQUM7Ozs7Ozs7Ozs7OztBQ2xsRkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNwQkE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFD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Q0FBQztRQUNGLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUlyQixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQzFFLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsRUFDM0UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUM1QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQzdCLENBQUM7UUFHRixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUUzRCxJQUFJLFVBQVUsR0FBRyxDQUFDLEVBQUU7WUFDbEIsVUFBVSxHQUFHLEdBQUcsR0FBRyxVQUFVLENBQUM7U0FDL0I7UUFJRCxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FDVixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsYUFBYSxFQUNsRCxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxhQUFhLEVBQzFGLHFCQUFxQixHQUFH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LENBQUM7QUFSRCxvQ0FRQzs7Ozs7Ozs7Ozs7Ozs7O0FDUkQsU0FBd0IsZUFBZSxDQUFDLFFBQWtCO0lBQ3hELElBQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDO0lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3hDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFnQixDQUFDLENBQUM7S0FDcEQ7SUFDRCxPQUFPLGlCQUFpQixDQUFDO0FBQzNCLENBQUM7QUFORCxrQ0FNQyIsImZpbGUiOiJzaXRlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3RhdGljL2pzL2FwcC50c1wiKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG5vUHJlZml4OiBzdHJpbmcsXG4gKiAgIHdlYmtpdFByZWZpeDogc3RyaW5nLFxuICogICBzdHlsZVByb3BlcnR5OiBzdHJpbmdcbiAqIH19XG4gKi9cbmxldCBWZW5kb3JQcm9wZXJ0eU1hcFR5cGU7XG5cbi8qKiBAY29uc3Qge09iamVjdDxzdHJpbmcsICFWZW5kb3JQcm9wZXJ0eU1hcFR5cGU+fSAqL1xuY29uc3QgZXZlbnRUeXBlTWFwID0ge1xuICAnYW5pbWF0aW9uc3RhcnQnOiB7XG4gICAgbm9QcmVmaXg6ICdhbmltYXRpb25zdGFydCcsXG4gICAgd2Via2l0UHJlZml4OiAnd2Via2l0QW5pbWF0aW9uU3RhcnQnLFxuICAgIHN0eWxlUHJvcGVydHk6ICdhbmltYXRpb24nLFxuICB9LFxuICAnYW5pbWF0aW9uZW5kJzoge1xuICAgIG5vUHJlZml4OiAnYW5pbWF0aW9uZW5kJyxcbiAgICB3ZWJraXRQcmVmaXg6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgIHN0eWxlUHJvcGVydHk6ICdhbmltYXRpb24nLFxuICB9LFxuICAnYW5pbWF0aW9uaXRlcmF0aW9uJzoge1xuICAgIG5vUHJlZml4OiAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICB3ZWJraXRQcmVmaXg6ICd3ZWJraXRBbmltYXRpb25JdGVyYXRpb24nLFxuICAgIHN0eWxlUHJvcGVydHk6ICdhbmltYXRpb24nLFxuICB9LFxuICAndHJhbnNpdGlvbmVuZCc6IHtcbiAgICBub1ByZWZpeDogJ3RyYW5zaXRpb25lbmQnLFxuICAgIHdlYmtpdFByZWZpeDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgIHN0eWxlUHJvcGVydHk6ICd0cmFuc2l0aW9uJyxcbiAgfSxcbn07XG5cbi8qKiBAY29uc3Qge09iamVjdDxzdHJpbmcsICFWZW5kb3JQcm9wZXJ0eU1hcFR5cGU+fSAqL1xuY29uc3QgY3NzUHJvcGVydHlNYXAgPSB7XG4gICdhbmltYXRpb24nOiB7XG4gICAgbm9QcmVmaXg6ICdhbmltYXRpb24nLFxuICAgIHdlYmtpdFByZWZpeDogJy13ZWJraXQtYW5pbWF0aW9uJyxcbiAgfSxcbiAgJ3RyYW5zZm9ybSc6IHtcbiAgICBub1ByZWZpeDogJ3RyYW5zZm9ybScsXG4gICAgd2Via2l0UHJlZml4OiAnLXdlYmtpdC10cmFuc2Zvcm0nLFxuICB9LFxuICAndHJhbnNpdGlvbic6IHtcbiAgICBub1ByZWZpeDogJ3RyYW5zaXRpb24nLFxuICAgIHdlYmtpdFByZWZpeDogJy13ZWJraXQtdHJhbnNpdGlvbicsXG4gIH0sXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gd2luZG93T2JqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBoYXNQcm9wZXJTaGFwZSh3aW5kb3dPYmopIHtcbiAgcmV0dXJuICh3aW5kb3dPYmpbJ2RvY3VtZW50J10gIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygd2luZG93T2JqWydkb2N1bWVudCddWydjcmVhdGVFbGVtZW50J10gPT09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGV2ZW50Rm91bmRJbk1hcHMoZXZlbnRUeXBlKSB7XG4gIHJldHVybiAoZXZlbnRUeXBlIGluIGV2ZW50VHlwZU1hcCB8fCBldmVudFR5cGUgaW4gY3NzUHJvcGVydHlNYXApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFWZW5kb3JQcm9wZXJ0eU1hcFR5cGU+fSBtYXBcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldEphdmFTY3JpcHRFdmVudE5hbWUoZXZlbnRUeXBlLCBtYXAsIGVsKSB7XG4gIHJldHVybiBtYXBbZXZlbnRUeXBlXS5zdHlsZVByb3BlcnR5IGluIGVsLnN0eWxlID8gbWFwW2V2ZW50VHlwZV0ubm9QcmVmaXggOiBtYXBbZXZlbnRUeXBlXS53ZWJraXRQcmVmaXg7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBicm93c2VyIHByZWZpeCBmb3IgQ1NTMyBhbmltYXRpb24gZXZlbnRzXG4gKiBhbmQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcGFyYW0geyFPYmplY3R9IHdpbmRvd09ialxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRBbmltYXRpb25OYW1lKHdpbmRvd09iaiwgZXZlbnRUeXBlKSB7XG4gIGlmICghaGFzUHJvcGVyU2hhcGUod2luZG93T2JqKSB8fCAhZXZlbnRGb3VuZEluTWFwcyhldmVudFR5cGUpKSB7XG4gICAgcmV0dXJuIGV2ZW50VHlwZTtcbiAgfVxuXG4gIGNvbnN0IG1hcCA9IC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFWZW5kb3JQcm9wZXJ0eU1hcFR5cGU+fSAqLyAoXG4gICAgZXZlbnRUeXBlIGluIGV2ZW50VHlwZU1hcCA/IGV2ZW50VHlwZU1hcCA6IGNzc1Byb3BlcnR5TWFwXG4gICk7XG4gIGNvbnN0IGVsID0gd2luZG93T2JqWydkb2N1bWVudCddWydjcmVhdGVFbGVtZW50J10oJ2RpdicpO1xuICBsZXQgZXZlbnROYW1lID0gJyc7XG5cbiAgaWYgKG1hcCA9PT0gZXZlbnRUeXBlTWFwKSB7XG4gICAgZXZlbnROYW1lID0gZ2V0SmF2YVNjcmlwdEV2ZW50TmFtZShldmVudFR5cGUsIG1hcCwgZWwpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50TmFtZSA9IG1hcFtldmVudFR5cGVdLm5vUHJlZml4IGluIGVsLnN0eWxlID8gbWFwW2V2ZW50VHlwZV0ubm9QcmVmaXggOiBtYXBbZXZlbnRUeXBlXS53ZWJraXRQcmVmaXg7XG4gIH1cblxuICByZXR1cm4gZXZlbnROYW1lO1xufVxuXG4vLyBQdWJsaWMgZnVuY3Rpb25zIHRvIGFjY2VzcyBnZXRBbmltYXRpb25OYW1lKCkgZm9yIEphdmFTY3JpcHQgZXZlbnRzIG9yIENTU1xuLy8gcHJvcGVydHkgbmFtZXMuXG5cbmNvbnN0IHRyYW5zZm9ybVN0eWxlUHJvcGVydGllcyA9IFsndHJhbnNmb3JtJywgJ1dlYmtpdFRyYW5zZm9ybScsICdNb3pUcmFuc2Zvcm0nLCAnT1RyYW5zZm9ybScsICdNU1RyYW5zZm9ybSddO1xuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gd2luZG93T2JqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENvcnJlY3RFdmVudE5hbWUod2luZG93T2JqLCBldmVudFR5cGUpIHtcbiAgcmV0dXJuIGdldEFuaW1hdGlvbk5hbWUod2luZG93T2JqLCBldmVudFR5cGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gd2luZG93T2JqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENvcnJlY3RQcm9wZXJ0eU5hbWUod2luZG93T2JqLCBldmVudFR5cGUpIHtcbiAgcmV0dXJuIGdldEFuaW1hdGlvbk5hbWUod2luZG93T2JqLCBldmVudFR5cGUpO1xufVxuXG5leHBvcnQge3RyYW5zZm9ybVN0eWxlUHJvcGVydGllcywgZ2V0Q29ycmVjdEV2ZW50TmFtZSwgZ2V0Q29ycmVjdFByb3BlcnR5TmFtZX07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IE1EQ0ZvdW5kYXRpb24gZnJvbSAnLi9mb3VuZGF0aW9uJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgRlxuICovXG5jbGFzcyBNRENDb21wb25lbnQge1xuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICAgKiBAcmV0dXJuIHshTURDQ29tcG9uZW50fVxuICAgKi9cbiAgc3RhdGljIGF0dGFjaFRvKHJvb3QpIHtcbiAgICAvLyBTdWJjbGFzc2VzIHdoaWNoIGV4dGVuZCBNRENCYXNlIHNob3VsZCBwcm92aWRlIGFuIGF0dGFjaFRvKCkgbWV0aG9kIHRoYXQgdGFrZXMgYSByb290IGVsZW1lbnQgYW5kXG4gICAgLy8gcmV0dXJucyBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50IHdpdGggaXRzIHJvb3Qgc2V0IHRvIHRoYXQgZWxlbWVudC4gQWxzbyBub3RlIHRoYXQgaW4gdGhlIGNhc2VzIG9mXG4gICAgLy8gc3ViY2xhc3NlcywgYW4gZXhwbGljaXQgZm91bmRhdGlvbiBjbGFzcyB3aWxsIG5vdCBoYXZlIHRvIGJlIHBhc3NlZCBpbjsgaXQgd2lsbCBzaW1wbHkgYmUgaW5pdGlhbGl6ZWRcbiAgICAvLyBmcm9tIGdldERlZmF1bHRGb3VuZGF0aW9uKCkuXG4gICAgcmV0dXJuIG5ldyBNRENDb21wb25lbnQocm9vdCwgbmV3IE1EQ0ZvdW5kYXRpb24oKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICAgKiBAcGFyYW0ge0Y9fSBmb3VuZGF0aW9uXG4gICAqIEBwYXJhbSB7Li4uP30gYXJnc1xuICAgKi9cbiAgY29uc3RydWN0b3Iocm9vdCwgZm91bmRhdGlvbiA9IHVuZGVmaW5lZCwgLi4uYXJncykge1xuICAgIC8qKiBAcHJvdGVjdGVkIHshRWxlbWVudH0gKi9cbiAgICB0aGlzLnJvb3RfID0gcm9vdDtcbiAgICB0aGlzLmluaXRpYWxpemUoLi4uYXJncyk7XG4gICAgLy8gTm90ZSB0aGF0IHdlIGluaXRpYWxpemUgZm91bmRhdGlvbiBoZXJlIGFuZCBub3Qgd2l0aGluIHRoZSBjb25zdHJ1Y3RvcidzIGRlZmF1bHQgcGFyYW0gc28gdGhhdFxuICAgIC8vIHRoaXMucm9vdF8gaXMgZGVmaW5lZCBhbmQgY2FuIGJlIHVzZWQgd2l0aGluIHRoZSBmb3VuZGF0aW9uIGNsYXNzLlxuICAgIC8qKiBAcHJvdGVjdGVkIHshRn0gKi9cbiAgICB0aGlzLmZvdW5kYXRpb25fID0gZm91bmRhdGlvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5nZXREZWZhdWx0Rm91bmRhdGlvbigpIDogZm91bmRhdGlvbjtcbiAgICB0aGlzLmZvdW5kYXRpb25fLmluaXQoKTtcbiAgICB0aGlzLmluaXRpYWxTeW5jV2l0aERPTSgpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgvKiAuLi5hcmdzICovKSB7XG4gICAgLy8gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyB0byBkbyBhbnkgYWRkaXRpb25hbCBzZXR1cCB3b3JrIHRoYXQgd291bGQgYmUgY29uc2lkZXJlZCBwYXJ0IG9mIGFcbiAgICAvLyBcImNvbnN0cnVjdG9yXCIuIEVzc2VudGlhbGx5LCBpdCBpcyBhIGhvb2sgaW50byB0aGUgcGFyZW50IGNvbnN0cnVjdG9yIGJlZm9yZSB0aGUgZm91bmRhdGlvbiBpc1xuICAgIC8vIGluaXRpYWxpemVkLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYmVzaWRlcyByb290IGFuZCBmb3VuZGF0aW9uIHdpbGwgYmUgcGFzc2VkIGluIGhlcmUuXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUZ9IGZvdW5kYXRpb25cbiAgICovXG4gIGdldERlZmF1bHRGb3VuZGF0aW9uKCkge1xuICAgIC8vIFN1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byByZXR1cm4gYSBwcm9wZXJseSBjb25maWd1cmVkIGZvdW5kYXRpb24gY2xhc3MgZm9yIHRoZVxuICAgIC8vIGNvbXBvbmVudC5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSBnZXREZWZhdWx0Rm91bmRhdGlvbiB0byByZXR1cm4gYSBwcm9wZXJseSBjb25maWd1cmVkICcgK1xuICAgICAgJ2ZvdW5kYXRpb24gY2xhc3MnKTtcbiAgfVxuXG4gIGluaXRpYWxTeW5jV2l0aERPTSgpIHtcbiAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IG5lZWQgdG8gcGVyZm9ybSB3b3JrIHRvIHN5bmNocm9uaXplIHdpdGggYSBob3N0IERPTVxuICAgIC8vIG9iamVjdC4gQW4gZXhhbXBsZSBvZiB0aGlzIHdvdWxkIGJlIGEgZm9ybSBjb250cm9sIHdyYXBwZXIgdGhhdCBuZWVkcyB0byBzeW5jaHJvbml6ZSBpdHMgaW50ZXJuYWwgc3RhdGVcbiAgICAvLyB0byBzb21lIHByb3BlcnR5IG9yIGF0dHJpYnV0ZSBvZiB0aGUgaG9zdCBET00uIFBsZWFzZSBub3RlOiB0aGlzIGlzICpub3QqIHRoZSBwbGFjZSB0byBwZXJmb3JtIERPTVxuICAgIC8vIHJlYWRzL3dyaXRlcyB0aGF0IHdvdWxkIGNhdXNlIGxheW91dCAvIHBhaW50LCBhcyB0aGlzIGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5IGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gU3ViY2xhc3NlcyBtYXkgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJlbGVhc2UgYW55IHJlc291cmNlcyAvIGRlcmVnaXN0ZXIgYW55IGxpc3RlbmVycyB0aGV5IGhhdmVcbiAgICAvLyBhdHRhY2hlZC4gQW4gZXhhbXBsZSBvZiB0aGlzIG1pZ2h0IGJlIGRlcmVnaXN0ZXJpbmcgYSByZXNpemUgZXZlbnQgZnJvbSB0aGUgd2luZG93IG9iamVjdC5cbiAgICB0aGlzLmZvdW5kYXRpb25fLmRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcGVyIG1ldGhvZCB0byBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNvbXBvbmVudCdzIHJvb3QgZWxlbWVudC4gVGhpcyBpcyBtb3N0IHVzZWZ1bCB3aGVuXG4gICAqIGxpc3RlbmluZyBmb3IgY3VzdG9tIGV2ZW50cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGxpc3RlbihldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5yb290Xy5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBwZXIgbWV0aG9kIHRvIHJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgY29tcG9uZW50J3Mgcm9vdCBlbGVtZW50LiBUaGlzIGlzIG1vc3QgdXNlZnVsIHdoZW5cbiAgICogdW5saXN0ZW5pbmcgZm9yIGN1c3RvbSBldmVudHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldnRUeXBlXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICB1bmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5yb290Xy5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGEgY3Jvc3MtYnJvd3Nlci1jb21wYXRpYmxlIGN1c3RvbSBldmVudCBmcm9tIHRoZSBjb21wb25lbnQgcm9vdCBvZiB0aGUgZ2l2ZW4gdHlwZSxcbiAgICogd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICogQHBhcmFtIHshT2JqZWN0fSBldnREYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHNob3VsZEJ1YmJsZVxuICAgKi9cbiAgZW1pdChldnRUeXBlLCBldnREYXRhLCBzaG91bGRCdWJibGUgPSBmYWxzZSkge1xuICAgIGxldCBldnQ7XG4gICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGV2dFR5cGUsIHtcbiAgICAgICAgZGV0YWlsOiBldnREYXRhLFxuICAgICAgICBidWJibGVzOiBzaG91bGRCdWJibGUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2dFR5cGUsIHNob3VsZEJ1YmJsZSwgZmFsc2UsIGV2dERhdGEpO1xuICAgIH1cblxuICAgIHRoaXMucm9vdF8uZGlzcGF0Y2hFdmVudChldnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1EQ0NvbXBvbmVudDtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBBXG4gKi9cbmNsYXNzIE1EQ0ZvdW5kYXRpb24ge1xuICAvKiogQHJldHVybiBlbnVte2Nzc0NsYXNzZXN9ICovXG4gIHN0YXRpYyBnZXQgY3NzQ2xhc3NlcygpIHtcbiAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGV2ZXJ5XG4gICAgLy8gQ1NTIGNsYXNzIHRoZSBmb3VuZGF0aW9uIGNsYXNzIG5lZWRzIGFzIGEgcHJvcGVydHkuIGUuZy4ge0FDVElWRTogJ21kYy1jb21wb25lbnQtLWFjdGl2ZSd9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqIEByZXR1cm4gZW51bXtzdHJpbmdzfSAqL1xuICBzdGF0aWMgZ2V0IHN0cmluZ3MoKSB7XG4gICAgLy8gQ2xhc3NlcyBleHRlbmRpbmcgTURDRm91bmRhdGlvbiBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJldHVybiBhbiBvYmplY3Qgd2hpY2ggZXhwb3J0cyBhbGxcbiAgICAvLyBzZW1hbnRpYyBzdHJpbmdzIGFzIGNvbnN0YW50cy4gZS5nLiB7QVJJQV9ST0xFOiAndGFibGlzdCd9XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLyoqIEByZXR1cm4gZW51bXtudW1iZXJzfSAqL1xuICBzdGF0aWMgZ2V0IG51bWJlcnMoKSB7XG4gICAgLy8gQ2xhc3NlcyBleHRlbmRpbmcgTURDRm91bmRhdGlvbiBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJldHVybiBhbiBvYmplY3Qgd2hpY2ggZXhwb3J0cyBhbGxcbiAgICAvLyBvZiBpdHMgc2VtYW50aWMgbnVtYmVycyBhcyBjb25zdGFudHMuIGUuZy4ge0FOSU1BVElPTl9ERUxBWV9NUzogMzUwfVxuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHshT2JqZWN0fSAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRBZGFwdGVyKCkge1xuICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gbWF5IGNob29zZSB0byBpbXBsZW1lbnQgdGhpcyBnZXR0ZXIgaW4gb3JkZXIgdG8gcHJvdmlkZSBhIGNvbnZlbmllbnRcbiAgICAvLyB3YXkgb2Ygdmlld2luZyB0aGUgbmVjZXNzYXJ5IG1ldGhvZHMgb2YgYW4gYWRhcHRlci4gSW4gdGhlIGZ1dHVyZSwgdGhpcyBjb3VsZCBhbHNvIGJlIHVzZWQgZm9yIGFkYXB0ZXJcbiAgICAvLyB2YWxpZGF0aW9uLlxuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0E9fSBhZGFwdGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGFwdGVyID0ge30pIHtcbiAgICAvKiogQHByb3RlY3RlZCB7IUF9ICovXG4gICAgdGhpcy5hZGFwdGVyXyA9IGFkYXB0ZXI7XG4gIH1cblxuICBpbml0KCkge1xuICAgIC8vIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHBlcmZvcm0gaW5pdGlhbGl6YXRpb24gcm91dGluZXMgKHJlZ2lzdGVyaW5nIGV2ZW50cywgZXRjLilcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBkZS1pbml0aWFsaXphdGlvbiByb3V0aW5lcyAoZGUtcmVnaXN0ZXJpbmcgZXZlbnRzLCBldGMuKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1EQ0ZvdW5kYXRpb247XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IE1EQ0ZvdW5kYXRpb24gZnJvbSAnLi9mb3VuZGF0aW9uJztcbmltcG9ydCBNRENDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5leHBvcnQge01EQ0ZvdW5kYXRpb24sIE1EQ0NvbXBvbmVudH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBbMiwge1wiYXJnc1wiOiBcIm5vbmVcIn1dICovXG5cbi8qKlxuICogQWRhcHRlciBmb3IgTURDIE1lbnUuIFByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgbWFuYWdpbmdcbiAqIC0gY2xhc3Nlc1xuICogLSBkb21cbiAqIC0gZm9jdXNcbiAqIC0gcG9zaXRpb25cbiAqIC0gZGltZW5zaW9uc1xuICogLSBldmVudCBoYW5kbGVyc1xuICpcbiAqIEFkZGl0aW9uYWxseSwgcHJvdmlkZXMgdHlwZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGFkYXB0ZXIgdG8gdGhlIENsb3N1cmVcbiAqIGNvbXBpbGVyLlxuICpcbiAqIEltcGxlbWVudCB0aGlzIGFkYXB0ZXIgZm9yIHlvdXIgZnJhbWV3b3JrIG9mIGNob2ljZSB0byBkZWxlZ2F0ZSB1cGRhdGVzIHRvXG4gKiB0aGUgY29tcG9uZW50IGluIHlvdXIgZnJhbWV3b3JrIG9mIGNob2ljZS4gU2VlIGFyY2hpdGVjdHVyZSBkb2N1bWVudGF0aW9uXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICogaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsLWNvbXBvbmVudHMvbWF0ZXJpYWwtY29tcG9uZW50cy13ZWIvYmxvYi9tYXN0ZXIvZG9jcy9jb2RlL2FyY2hpdGVjdHVyZS5tZFxuICpcbiAqIEByZWNvcmRcbiAqL1xuY2xhc3MgTURDTWVudUFkYXB0ZXIge1xuICAvKiogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAqL1xuICBhZGRDbGFzcyhjbGFzc05hbWUpIHt9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgKi9cbiAgcmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNDbGFzcyhjbGFzc05hbWUpIHt9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGhhc05lY2Vzc2FyeURvbSgpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlTmFtZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBnZXRBdHRyaWJ1dGVGb3JFdmVudFRhcmdldCh0YXJnZXQsIGF0dHJpYnV0ZU5hbWUpIHt9XG5cbiAgLyoqIEByZXR1cm4ge3sgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIgfX0gKi9cbiAgZ2V0SW5uZXJEaW1lbnNpb25zKCkge31cblxuICAvKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cbiAgaGFzQW5jaG9yKCkge31cblxuICAvKiogQHJldHVybiB7e3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGxlZnQ6IG51bWJlcn19ICovXG4gIGdldEFuY2hvckRpbWVuc2lvbnMoKSB7fVxuXG4gIC8qKiBAcmV0dXJuIHt7IHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH19ICovXG4gIGdldFdpbmRvd0RpbWVuc2lvbnMoKSB7fVxuXG4gIC8qKiBAcmV0dXJuIHtudW1iZXJ9ICovXG4gIGdldE51bWJlck9mSXRlbXMoKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGhhbmRsZXJcbiAgICovXG4gIHJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKHR5cGUsIGhhbmRsZXIpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KX0gaGFuZGxlclxuICAgKi9cbiAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcih0eXBlLCBoYW5kbGVyKSB7fVxuXG4gIC8qKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGhhbmRsZXIgKi9cbiAgcmVnaXN0ZXJCb2R5Q2xpY2tIYW5kbGVyKGhhbmRsZXIpIHt9XG5cbiAgLyoqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KX0gaGFuZGxlciAqL1xuICBkZXJlZ2lzdGVyQm9keUNsaWNrSGFuZGxlcihoYW5kbGVyKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0SW5kZXhGb3JFdmVudFRhcmdldCh0YXJnZXQpIHt9XG5cbiAgLyoqIEBwYXJhbSB7e2luZGV4OiBudW1iZXJ9fSBldnREYXRhICovXG4gIG5vdGlmeVNlbGVjdGVkKGV2dERhdGEpIHt9XG5cbiAgbm90aWZ5Q2FuY2VsKCkge31cblxuICBzYXZlRm9jdXMoKSB7fVxuXG4gIHJlc3RvcmVGb2N1cygpIHt9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGlzRm9jdXNlZCgpIHt9XG5cbiAgZm9jdXMoKSB7fVxuXG4gIC8qKiBAcmV0dXJuIHtudW1iZXJ9ICovXG4gIGdldEZvY3VzZWRJdGVtSW5kZXgoKSAvKiBudW1iZXIgKi8ge31cblxuICAvKiogQHBhcmFtIHtudW1iZXJ9IGluZGV4ICovXG4gIGZvY3VzSXRlbUF0SW5kZXgoaW5kZXgpIHt9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGlzUnRsKCkge31cblxuICAvKiogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbiAqL1xuICBzZXRUcmFuc2Zvcm1PcmlnaW4ob3JpZ2luKSB7fVxuXG4gIC8qKiBAcGFyYW0ge3tcbiAgKiAgIHRvcDogKHN0cmluZ3x1bmRlZmluZWQpLFxuICAqICAgcmlnaHQ6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAgKiAgIGJvdHRvbTogKHN0cmluZ3x1bmRlZmluZWQpLFxuICAqICAgbGVmdDogKHN0cmluZ3x1bmRlZmluZWQpXG4gICogfX0gcG9zaXRpb24gKi9cbiAgc2V0UG9zaXRpb24ocG9zaXRpb24pIHt9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSBoZWlnaHQgKi9cbiAgc2V0TWF4SGVpZ2h0KGhlaWdodCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0QXR0ckZvck9wdGlvbkF0SW5kZXgoaW5kZXgsIGF0dHIsIHZhbHVlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJcbiAgICovXG4gIHJtQXR0ckZvck9wdGlvbkF0SW5kZXgoaW5kZXgsIGF0dHIpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqL1xuICBhZGRDbGFzc0Zvck9wdGlvbkF0SW5kZXgoaW5kZXgsIGNsYXNzTmFtZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICovXG4gIHJtQ2xhc3NGb3JPcHRpb25BdEluZGV4KGluZGV4LCBjbGFzc05hbWUpIHt9XG59XG5cbmV4cG9ydCB7TURDTWVudUFkYXB0ZXJ9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBAZW51bSB7c3RyaW5nfSAqL1xuY29uc3QgY3NzQ2xhc3NlcyA9IHtcbiAgUk9PVDogJ21kYy1tZW51JyxcbiAgT1BFTjogJ21kYy1tZW51LS1vcGVuJyxcbiAgQU5JTUFUSU5HX09QRU46ICdtZGMtbWVudS0tYW5pbWF0aW5nLW9wZW4nLFxuICBBTklNQVRJTkdfQ0xPU0VEOiAnbWRjLW1lbnUtLWFuaW1hdGluZy1jbG9zZWQnLFxuICBTRUxFQ1RFRF9MSVNUX0lURU06ICdtZGMtbGlzdC1pdGVtLS1zZWxlY3RlZCcsXG59O1xuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmNvbnN0IHN0cmluZ3MgPSB7XG4gIElURU1TX1NFTEVDVE9SOiAnLm1kYy1tZW51X19pdGVtcycsXG4gIFNFTEVDVEVEX0VWRU5UOiAnTURDTWVudTpzZWxlY3RlZCcsXG4gIENBTkNFTF9FVkVOVDogJ01EQ01lbnU6Y2FuY2VsJyxcbiAgQVJJQV9ESVNBQkxFRF9BVFRSOiAnYXJpYS1kaXNhYmxlZCcsXG59O1xuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmNvbnN0IG51bWJlcnMgPSB7XG4gIC8vIEFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIHRyaWdnZXJpbmcgYSBzZWxlY3RlZCBldmVudCBvbiB0aGUgbWVudS4gTm90ZSB0aGF0IHRoaXMgdGltZVxuICAvLyB3aWxsIG1vc3QgbGlrZWx5IGJlIGJ1bXBlZCB1cCBvbmNlIGludGVyYWN0aXZlIGxpc3RzIGFyZSBzdXBwb3J0ZWQgdG8gYWxsb3cgZm9yIHRoZSByaXBwbGUgdG9cbiAgLy8gYW5pbWF0ZSBiZWZvcmUgY2xvc2luZyB0aGUgbWVudVxuICBTRUxFQ1RFRF9UUklHR0VSX0RFTEFZOiA1MCxcbiAgLy8gVG90YWwgZHVyYXRpb24gb2YgbWVudSBvcGVuIGFuaW1hdGlvbi5cbiAgVFJBTlNJVElPTl9PUEVOX0RVUkFUSU9OOiAxMjAsXG4gIC8vIFRvdGFsIGR1cmF0aW9uIG9mIG1lbnUgY2xvc2UgYW5pbWF0aW9uLlxuICBUUkFOU0lUSU9OX0NMT1NFX0RVUkFUSU9OOiA3NSxcbiAgLy8gTWFyZ2luIGxlZnQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0IHdoZW4gbWVudSBpcyBhdCBtYXhpbXVtIHBvc3NpYmxlIGhlaWdodC5cbiAgTUFSR0lOX1RPX0VER0U6IDMyLFxuICAvLyBSYXRpbyBvZiBhbmNob3Igd2lkdGggdG8gbWVudSB3aWR0aCBmb3Igc3dpdGNoaW5nIGZyb20gY29ybmVyIHBvc2l0aW9uaW5nIHRvIGNlbnRlciBwb3NpdGlvbmluZy5cbiAgQU5DSE9SX1RPX01FTlVfV0lEVEhfUkFUSU86IDAuNjcsXG4gIC8vIFJhdGlvIG9mIHZlcnRpY2FsIG9mZnNldCB0byBtZW51IGhlaWdodCBmb3Igc3dpdGNoaW5nIGZyb20gY29ybmVyIHRvIG1pZC13YXkgb3JpZ2luIHBvc2l0aW9uaW5nLlxuICBPRkZTRVRfVE9fTUVOVV9IRUlHSFRfUkFUSU86IDAuMSxcbn07XG5cbi8qKlxuICogRW51bSBmb3IgYml0cyBpbiB0aGUge0BzZWUgQ29ybmVyKSBiaXRtYXAuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBDb3JuZXJCaXQgPSB7XG4gIEJPVFRPTTogMSxcbiAgQ0VOVEVSOiAyLFxuICBSSUdIVDogNCxcbiAgRkxJUF9SVEw6IDgsXG59O1xuXG4vKipcbiAqIEVudW0gZm9yIHJlcHJlc2VudGluZyBhbiBlbGVtZW50IGNvcm5lciBmb3IgcG9zaXRpb25pbmcgdGhlIG1lbnUuXG4gKlxuICogVGhlIFNUQVJUIGNvbnN0YW50cyBtYXAgdG8gTEVGVCBpZiBlbGVtZW50IGRpcmVjdGlvbmFsaXR5IGlzIGxlZnRcbiAqIHRvIHJpZ2h0IGFuZCBSSUdIVCBpZiB0aGUgZGlyZWN0aW9uYWxpdHkgaXMgcmlnaHQgdG8gbGVmdC5cbiAqIExpa2V3aXNlIEVORCBtYXBzIHRvIFJJR0hUIG9yIExFRlQgZGVwZW5kaW5nIG9uIHRoZSBkaXJlY3Rpb25hbGl0eS5cbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBDb3JuZXIgPSB7XG4gIFRPUF9MRUZUOiAwLFxuICBUT1BfUklHSFQ6IENvcm5lckJpdC5SSUdIVCxcbiAgQk9UVE9NX0xFRlQ6IENvcm5lckJpdC5CT1RUT00sXG4gIEJPVFRPTV9SSUdIVDogQ29ybmVyQml0LkJPVFRPTSB8IENvcm5lckJpdC5SSUdIVCxcbiAgVE9QX1NUQVJUOiBDb3JuZXJCaXQuRkxJUF9SVEwsXG4gIFRPUF9FTkQ6IENvcm5lckJpdC5GTElQX1JUTCB8IENvcm5lckJpdC5SSUdIVCxcbiAgQk9UVE9NX1NUQVJUOiBDb3JuZXJCaXQuQk9UVE9NIHwgQ29ybmVyQml0LkZMSVBfUlRMLFxuICBCT1RUT01fRU5EOiBDb3JuZXJCaXQuQk9UVE9NIHwgQ29ybmVyQml0LlJJR0hUIHwgQ29ybmVyQml0LkZMSVBfUlRMLFxufTtcblxuXG5leHBvcnQge2Nzc0NsYXNzZXMsIHN0cmluZ3MsIG51bWJlcnMsIENvcm5lckJpdCwgQ29ybmVyfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRvcDogbnVtYmVyLFxuICogICByaWdodDogbnVtYmVyLFxuICogICBib3R0b206IG51bWJlcixcbiAqICAgbGVmdDogbnVtYmVyXG4gKiB9fVxuICovXG5sZXQgQW5jaG9yTWFyZ2luO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICB2aWV3cG9ydDogeyB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9LFxuICogICB2aWV3cG9ydERpc3RhbmNlOiB7dG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9LFxuICogICBhbmNob3JIZWlnaHQ6IG51bWJlcixcbiAqICAgYW5jaG9yV2lkdGg6IG51bWJlcixcbiAqICAgbWVudUhlaWdodDogbnVtYmVyLFxuICogICBtZW51V2lkdGg6IG51bWJlcixcbiAqIH19XG4gKi9cbmxldCBBdXRvTGF5b3V0TWVhc3VyZW1lbnRzO1xuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5pbXBvcnQgTURDRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7TURDTWVudUFkYXB0ZXJ9IGZyb20gJy4vYWRhcHRlcic7XG5pbXBvcnQge2Nzc0NsYXNzZXMsIHN0cmluZ3MsIG51bWJlcnMsIENvcm5lciwgQ29ybmVyQml0fSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbi8qKlxuICogQGV4dGVuZHMge01EQ0ZvdW5kYXRpb248IU1EQ01lbnVBZGFwdGVyPn1cbiAqL1xuY2xhc3MgTURDTWVudUZvdW5kYXRpb24gZXh0ZW5kcyBNRENGb3VuZGF0aW9uIHtcbiAgLyoqIEByZXR1cm4gZW51bXtjc3NDbGFzc2VzfSAqL1xuICBzdGF0aWMgZ2V0IGNzc0NsYXNzZXMoKSB7XG4gICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gIH1cblxuICAvKiogQHJldHVybiBlbnVte3N0cmluZ3N9ICovXG4gIHN0YXRpYyBnZXQgc3RyaW5ncygpIHtcbiAgICByZXR1cm4gc3RyaW5ncztcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIGVudW17bnVtYmVyc30gKi9cbiAgc3RhdGljIGdldCBudW1iZXJzKCkge1xuICAgIHJldHVybiBudW1iZXJzO1xuICB9XG5cbiAgLyoqIEByZXR1cm4gZW51bXtudW1iZXJ9ICovXG4gIHN0YXRpYyBnZXQgQ29ybmVyKCkge1xuICAgIHJldHVybiBDb3JuZXI7XG4gIH1cblxuICAvKipcbiAgICoge0BzZWUgTURDTWVudUFkYXB0ZXJ9IGZvciB0eXBpbmcgaW5mb3JtYXRpb24gb24gcGFyYW1ldGVycyBhbmQgcmV0dXJuXG4gICAqIHR5cGVzLlxuICAgKiBAcmV0dXJuIHshTURDTWVudUFkYXB0ZXJ9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRBZGFwdGVyKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFNRENNZW51QWRhcHRlcn0gKi8gKHtcbiAgICAgIGFkZENsYXNzOiAoKSA9PiB7fSxcbiAgICAgIHJlbW92ZUNsYXNzOiAoKSA9PiB7fSxcbiAgICAgIGhhc0NsYXNzOiAoKSA9PiBmYWxzZSxcbiAgICAgIGhhc05lY2Vzc2FyeURvbTogKCkgPT4gZmFsc2UsXG4gICAgICBnZXRBdHRyaWJ1dGVGb3JFdmVudFRhcmdldDogKCkgPT4ge30sXG4gICAgICBnZXRJbm5lckRpbWVuc2lvbnM6ICgpID0+ICh7fSksXG4gICAgICBoYXNBbmNob3I6ICgpID0+IGZhbHNlLFxuICAgICAgZ2V0QW5jaG9yRGltZW5zaW9uczogKCkgPT4gKHt9KSxcbiAgICAgIGdldFdpbmRvd0RpbWVuc2lvbnM6ICgpID0+ICh7fSksXG4gICAgICBnZXROdW1iZXJPZkl0ZW1zOiAoKSA9PiAwLFxuICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6ICgpID0+IHt9LFxuICAgICAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogKCkgPT4ge30sXG4gICAgICByZWdpc3RlckJvZHlDbGlja0hhbmRsZXI6ICgpID0+IHt9LFxuICAgICAgZGVyZWdpc3RlckJvZHlDbGlja0hhbmRsZXI6ICgpID0+IHt9LFxuICAgICAgZ2V0SW5kZXhGb3JFdmVudFRhcmdldDogKCkgPT4gMCxcbiAgICAgIG5vdGlmeVNlbGVjdGVkOiAoKSA9PiB7fSxcbiAgICAgIG5vdGlmeUNhbmNlbDogKCkgPT4ge30sXG4gICAgICBzYXZlRm9jdXM6ICgpID0+IHt9LFxuICAgICAgcmVzdG9yZUZvY3VzOiAoKSA9PiB7fSxcbiAgICAgIGlzRm9jdXNlZDogKCkgPT4gZmFsc2UsXG4gICAgICBmb2N1czogKCkgPT4ge30sXG4gICAgICBnZXRGb2N1c2VkSXRlbUluZGV4OiAoKSA9PiAtMSxcbiAgICAgIGZvY3VzSXRlbUF0SW5kZXg6ICgpID0+IHt9LFxuICAgICAgaXNSdGw6ICgpID0+IGZhbHNlLFxuICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luOiAoKSA9PiB7fSxcbiAgICAgIHNldFBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICAgIHNldE1heEhlaWdodDogKCkgPT4ge30sXG4gICAgICBzZXRBdHRyRm9yT3B0aW9uQXRJbmRleDogKCkgPT4ge30sXG4gICAgICBybUF0dHJGb3JPcHRpb25BdEluZGV4OiAoKSA9PiB7fSxcbiAgICAgIGFkZENsYXNzRm9yT3B0aW9uQXRJbmRleDogKCkgPT4ge30sXG4gICAgICBybUNsYXNzRm9yT3B0aW9uQXRJbmRleDogKCkgPT4ge30sXG4gICAgfSk7XG4gIH1cblxuICAvKiogQHBhcmFtIHshTURDTWVudUFkYXB0ZXJ9IGFkYXB0ZXIgKi9cbiAgY29uc3RydWN0b3IoYWRhcHRlcikge1xuICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oTURDTWVudUZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIsIGFkYXB0ZXIpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7ZnVuY3Rpb24oIUV2ZW50KX0gKi9cbiAgICB0aGlzLmNsaWNrSGFuZGxlcl8gPSAoZXZ0KSA9PiB0aGlzLmhhbmRsZVBvc3NpYmxlU2VsZWN0ZWRfKGV2dCk7XG4gICAgLyoqIEBwcml2YXRlIHtmdW5jdGlvbighRXZlbnQpfSAqL1xuICAgIHRoaXMua2V5ZG93bkhhbmRsZXJfID0gKGV2dCkgPT4gdGhpcy5oYW5kbGVLZXlib2FyZERvd25fKGV2dCk7XG4gICAgLyoqIEBwcml2YXRlIHtmdW5jdGlvbighRXZlbnQpfSAqL1xuICAgIHRoaXMua2V5dXBIYW5kbGVyXyA9IChldnQpID0+IHRoaXMuaGFuZGxlS2V5Ym9hcmRVcF8oZXZ0KTtcbiAgICAvKiogQHByaXZhdGUge2Z1bmN0aW9uKCFFdmVudCl9ICovXG4gICAgdGhpcy5kb2N1bWVudENsaWNrSGFuZGxlcl8gPSAoZXZ0KSA9PiB0aGlzLmhhbmRsZURvY3VtZW50Q2xpY2tfKGV2dCk7XG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNPcGVuXyA9IGZhbHNlO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWRfID0gMDtcbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc2VsZWN0ZWRUcmlnZ2VyVGltZXJJZF8gPSAwO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkXyA9IDA7XG4gICAgLyoqIEBwcml2YXRlIHsheyB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9fSAqL1xuICAgIHRoaXMuZGltZW5zaW9uc187XG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5pdGVtSGVpZ2h0XztcbiAgICAvKiogQHByaXZhdGUge0Nvcm5lcn0gKi9cbiAgICB0aGlzLmFuY2hvckNvcm5lcl8gPSBDb3JuZXIuVE9QX1NUQVJUO1xuICAgIC8qKiBAcHJpdmF0ZSB7QW5jaG9yTWFyZ2lufSAqL1xuICAgIHRoaXMuYW5jaG9yTWFyZ2luXyA9IHt0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDB9O1xuICAgIC8qKiBAcHJpdmF0ZSB7P0F1dG9MYXlvdXRNZWFzdXJlbWVudHN9ICovXG4gICAgdGhpcy5tZWFzdXJlc18gPSBudWxsO1xuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuc2VsZWN0ZWRJbmRleF8gPSAtMTtcbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbl8gPSBmYWxzZTtcbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5xdWlja09wZW5fID0gZmFsc2U7XG5cbiAgICAvLyBBIGtleXVwIGV2ZW50IG9uIHRoZSBtZW51IG5lZWRzIHRvIGhhdmUgYSBjb3JyZXNwb25kaW5nIGtleWRvd25cbiAgICAvLyBldmVudCBvbiB0aGUgbWVudS4gSWYgdGhlIHVzZXIgb3BlbnMgdGhlIG1lbnUgd2l0aCBhIGtleWRvd24gZXZlbnQgb24gYVxuICAgIC8vIGJ1dHRvbiwgdGhlIG1lbnUgd2lsbCBvbmx5IGdldCB0aGUga2V5IHVwIGV2ZW50IGNhdXNpbmcgYnVnZ3kgYmVoYXZpb3Igd2l0aCBzZWxlY3RlZCBlbGVtZW50cy5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5rZXlEb3duV2l0aGluTWVudV8gPSBmYWxzZTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgY29uc3Qge1JPT1QsIE9QRU59ID0gTURDTWVudUZvdW5kYXRpb24uY3NzQ2xhc3NlcztcblxuICAgIGlmICghdGhpcy5hZGFwdGVyXy5oYXNDbGFzcyhST09UKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke1JPT1R9IGNsYXNzIHJlcXVpcmVkIGluIHJvb3QgZWxlbWVudC5gKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWRhcHRlcl8uaGFzTmVjZXNzYXJ5RG9tKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgRE9NIG5vZGVzIG1pc3NpbmcgaW4gJHtST09UfSBjb21wb25lbnQuYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoT1BFTikpIHtcbiAgICAgIHRoaXMuaXNPcGVuXyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcl8pO1xuICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleXVwJywgdGhpcy5rZXl1cEhhbmRsZXJfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duSGFuZGxlcl8pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5zZWxlY3RlZFRyaWdnZXJUaW1lcklkXyk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWRfKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWRfKTtcbiAgICAvLyBDYW5jZWwgYW55IGN1cnJlbnRseSBydW5uaW5nIGFuaW1hdGlvbnMuXG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25SZXF1ZXN0SWRfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXJfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleXVwJywgdGhpcy5rZXl1cEhhbmRsZXJfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25IYW5kbGVyXyk7XG4gICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyQm9keUNsaWNrSGFuZGxlcih0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyXyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQ29ybmVyfSBjb3JuZXIgRGVmYXVsdCBhbmNob3IgY29ybmVyIGFsaWdubWVudCBvZiB0b3AtbGVmdCBtZW51IGNvcm5lci5cbiAgICovXG4gIHNldEFuY2hvckNvcm5lcihjb3JuZXIpIHtcbiAgICB0aGlzLmFuY2hvckNvcm5lcl8gPSBjb3JuZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQW5jaG9yTWFyZ2lufSBtYXJnaW4gNC1wbGV0IG9mIG1hcmdpbnMgZnJvbSBhbmNob3IuXG4gICAqL1xuICBzZXRBbmNob3JNYXJnaW4obWFyZ2luKSB7XG4gICAgdGhpcy5hbmNob3JNYXJnaW5fLnRvcCA9IHR5cGVvZiBtYXJnaW4udG9wID09PSAnbnVtYmVyJyA/IG1hcmdpbi50b3AgOiAwO1xuICAgIHRoaXMuYW5jaG9yTWFyZ2luXy5yaWdodCA9IHR5cGVvZiBtYXJnaW4ucmlnaHQgPT09ICdudW1iZXInID8gbWFyZ2luLnJpZ2h0IDogMDtcbiAgICB0aGlzLmFuY2hvck1hcmdpbl8uYm90dG9tID0gdHlwZW9mIG1hcmdpbi5ib3R0b20gPT09ICdudW1iZXInID8gbWFyZ2luLmJvdHRvbSA6IDA7XG4gICAgdGhpcy5hbmNob3JNYXJnaW5fLmxlZnQgPSB0eXBlb2YgbWFyZ2luLmxlZnQgPT09ICdudW1iZXInID8gbWFyZ2luLmxlZnQgOiAwO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtZW1iZXJTZWxlY3Rpb24gKi9cbiAgc2V0UmVtZW1iZXJTZWxlY3Rpb24ocmVtZW1iZXJTZWxlY3Rpb24pIHtcbiAgICB0aGlzLnJlbWVtYmVyU2VsZWN0aW9uXyA9IHJlbWVtYmVyU2VsZWN0aW9uO1xuICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleCgtMSk7XG4gIH1cblxuICAvKiogQHBhcmFtIHtib29sZWFufSBxdWlja09wZW4gKi9cbiAgc2V0UXVpY2tPcGVuKHF1aWNrT3Blbikge1xuICAgIHRoaXMucXVpY2tPcGVuXyA9IHF1aWNrT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9udW1iZXJ9IGZvY3VzSW5kZXhcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZvY3VzT25PcGVuXyhmb2N1c0luZGV4KSB7XG4gICAgaWYgKGZvY3VzSW5kZXggPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHRoaXMgaW5zdGFuY2Ugb2YgTURDTWVudSByZW1lbWJlcnMgc2VsZWN0aW9ucywgYW5kIHRoZSB1c2VyIGhhc1xuICAgICAgLy8gbWFkZSBhIHNlbGVjdGlvbiwgdGhlbiBmb2N1cyB0aGUgbGFzdCBzZWxlY3RlZCBpdGVtXG4gICAgICBpZiAodGhpcy5yZW1lbWJlclNlbGVjdGlvbl8gJiYgdGhpcy5zZWxlY3RlZEluZGV4XyA+PSAwKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCh0aGlzLnNlbGVjdGVkSW5kZXhfKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzKCk7XG4gICAgICAvLyBJZiB0aGF0IGRvZXNuJ3Qgd29yaywgZm9jdXMgZmlyc3QgaXRlbSBpbnN0ZWFkLlxuICAgICAgaWYgKCF0aGlzLmFkYXB0ZXJfLmlzRm9jdXNlZCgpKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGFwdGVyXy5mb2N1c0l0ZW1BdEluZGV4KGZvY3VzSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2tzIGFuZCBjYW5jZWwgdGhlIG1lbnUgaWYgbm90IGEgY2hpbGQgbGlzdC1pdGVtXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZURvY3VtZW50Q2xpY2tfKGV2dCkge1xuICAgIGxldCBlbCA9IGV2dC50YXJnZXQ7XG5cbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uZ2V0SW5kZXhGb3JFdmVudFRhcmdldChlbCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeUNhbmNlbCgpO1xuICAgIHRoaXMuY2xvc2UoZXZ0KTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIGtleXMgdGhhdCB3ZSB3YW50IHRvIHJlcGVhdCBvbiBob2xkICh0YWIgYW5kIGFycm93cykuXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBldnRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUtleWJvYXJkRG93bl8oZXZ0KSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBBbHQsIEN0cmwgb3IgTWV0YSBhcmUgcHJlc3NlZC5cbiAgICBpZiAoZXZ0LmFsdEtleSB8fCBldnQuY3RybEtleSB8fCBldnQubWV0YUtleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qge2tleUNvZGUsIGtleSwgc2hpZnRLZXl9ID0gZXZ0O1xuICAgIGNvbnN0IGlzVGFiID0ga2V5ID09PSAnVGFiJyB8fCBrZXlDb2RlID09PSA5O1xuICAgIGNvbnN0IGlzQXJyb3dVcCA9IGtleSA9PT0gJ0Fycm93VXAnIHx8IGtleUNvZGUgPT09IDM4O1xuICAgIGNvbnN0IGlzQXJyb3dEb3duID0ga2V5ID09PSAnQXJyb3dEb3duJyB8fCBrZXlDb2RlID09PSA0MDtcbiAgICBjb25zdCBpc1NwYWNlID0ga2V5ID09PSAnU3BhY2UnIHx8IGtleUNvZGUgPT09IDMyO1xuICAgIGNvbnN0IGlzRW50ZXIgPSBrZXkgPT09ICdFbnRlcicgfHwga2V5Q29kZSA9PT0gMTM7XG4gICAgLy8gVGhlIG1lbnUgbmVlZHMgdG8ga25vdyBpZiB0aGUga2V5ZG93biBldmVudCB3YXMgdHJpZ2dlcmVkIG9uIHRoZSBtZW51XG4gICAgdGhpcy5rZXlEb3duV2l0aGluTWVudV8gPSBpc0VudGVyIHx8IGlzU3BhY2U7XG5cbiAgICBjb25zdCBmb2N1c2VkSXRlbUluZGV4ID0gdGhpcy5hZGFwdGVyXy5nZXRGb2N1c2VkSXRlbUluZGV4KCk7XG4gICAgY29uc3QgbGFzdEl0ZW1JbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0TnVtYmVyT2ZJdGVtcygpIC0gMTtcblxuICAgIGlmIChzaGlmdEtleSAmJiBpc1RhYiAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSAwKSB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzSXRlbUF0SW5kZXgobGFzdEl0ZW1JbmRleCk7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXNoaWZ0S2V5ICYmIGlzVGFiICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IGxhc3RJdGVtSW5kZXgpIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNJdGVtQXRJbmRleCgwKTtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBBcnJvd3tVcCxEb3dufSBhbmQgc3BhY2UgZG8gbm90IGNhdXNlIGluYWR2ZXJ0ZW50IHNjcm9sbGluZ1xuICAgIGlmIChpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24gfHwgaXNTcGFjZSkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyb3dVcCkge1xuICAgICAgaWYgKGZvY3VzZWRJdGVtSW5kZXggPT09IDAgfHwgdGhpcy5hZGFwdGVyXy5pc0ZvY3VzZWQoKSkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzSXRlbUF0SW5kZXgobGFzdEl0ZW1JbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzSXRlbUF0SW5kZXgoZm9jdXNlZEl0ZW1JbmRleCAtIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBcnJvd0Rvd24pIHtcbiAgICAgIGlmIChmb2N1c2VkSXRlbUluZGV4ID09PSBsYXN0SXRlbUluZGV4IHx8IHRoaXMuYWRhcHRlcl8uaXNGb2N1c2VkKCkpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5mb2N1c0l0ZW1BdEluZGV4KDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5mb2N1c0l0ZW1BdEluZGV4KGZvY3VzZWRJdGVtSW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUga2V5cyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gcmVwZWF0IG9uIGhvbGQgKEVudGVyLCBTcGFjZSwgRXNjYXBlKS5cbiAgICogQHBhcmFtIHshRXZlbnR9IGV2dFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlS2V5Ym9hcmRVcF8oZXZ0KSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBBbHQsIEN0cmwgb3IgTWV0YSBhcmUgcHJlc3NlZC5cbiAgICBpZiAoZXZ0LmFsdEtleSB8fCBldnQuY3RybEtleSB8fCBldnQubWV0YUtleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qge2tleUNvZGUsIGtleX0gPSBldnQ7XG4gICAgY29uc3QgaXNFbnRlciA9IGtleSA9PT0gJ0VudGVyJyB8fCBrZXlDb2RlID09PSAxMztcbiAgICBjb25zdCBpc1NwYWNlID0ga2V5ID09PSAnU3BhY2UnIHx8IGtleUNvZGUgPT09IDMyO1xuICAgIGNvbnN0IGlzRXNjYXBlID0ga2V5ID09PSAnRXNjYXBlJyB8fCBrZXlDb2RlID09PSAyNztcblxuICAgIGlmIChpc0VudGVyIHx8IGlzU3BhY2UpIHtcbiAgICAgIC8vIElmIHRoZSBrZXlkb3duIGV2ZW50IGRpZG4ndCBvY2N1ciBvbiB0aGUgbWVudSwgdGhlbiBpdCBzaG91bGRcbiAgICAgIC8vIGRpc3JlZ2FyZCB0aGUgcG9zc2libGUgc2VsZWN0ZWQgZXZlbnQuXG4gICAgICBpZiAodGhpcy5rZXlEb3duV2l0aGluTWVudV8pIHtcbiAgICAgICAgdGhpcy5oYW5kbGVQb3NzaWJsZVNlbGVjdGVkXyhldnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5rZXlEb3duV2l0aGluTWVudV8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNFc2NhcGUpIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5Q2FuY2VsKCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXZlbnR9IGV2dFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlUG9zc2libGVTZWxlY3RlZF8oZXZ0KSB7XG4gICAgaWYgKHRoaXMuYWRhcHRlcl8uZ2V0QXR0cmlidXRlRm9yRXZlbnRUYXJnZXQoZXZ0LnRhcmdldCwgc3RyaW5ncy5BUklBX0RJU0FCTEVEX0FUVFIpID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldEluZGV4Rm9yRXZlbnRUYXJnZXQoZXZ0LnRhcmdldCk7XG4gICAgaWYgKHRhcmdldEluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZWJvdW5jZSBtdWx0aXBsZSBzZWxlY3Rpb25zXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRUcmlnZ2VyVGltZXJJZF8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZFRyaWdnZXJUaW1lcklkXyA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3RlZFRyaWdnZXJUaW1lcklkXyA9IDA7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICBpZiAodGhpcy5yZW1lbWJlclNlbGVjdGlvbl8pIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEluZGV4KHRhcmdldEluZGV4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5U2VsZWN0ZWQoe2luZGV4OiB0YXJnZXRJbmRleH0pO1xuICAgIH0sIG51bWJlcnMuU0VMRUNURURfVFJJR0dFUl9ERUxBWSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXV0b0xheW91dE1lYXN1cmVtZW50c30gTWVhc3VyZW1lbnRzIHVzZWQgdG8gcG9zaXRpb24gbWVudSBwb3B1cC5cbiAgICovXG4gIGdldEF1dG9MYXlvdXRNZWFzdXJlbWVudHNfKCkge1xuICAgIGNvbnN0IGFuY2hvclJlY3QgPSB0aGlzLmFkYXB0ZXJfLmdldEFuY2hvckRpbWVuc2lvbnMoKTtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuYWRhcHRlcl8uZ2V0V2luZG93RGltZW5zaW9ucygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgIHZpZXdwb3J0RGlzdGFuY2U6IHtcbiAgICAgICAgdG9wOiBhbmNob3JSZWN0LnRvcCxcbiAgICAgICAgcmlnaHQ6IHZpZXdwb3J0LndpZHRoIC0gYW5jaG9yUmVjdC5yaWdodCxcbiAgICAgICAgbGVmdDogYW5jaG9yUmVjdC5sZWZ0LFxuICAgICAgICBib3R0b206IHZpZXdwb3J0LmhlaWdodCAtIGFuY2hvclJlY3QuYm90dG9tLFxuICAgICAgfSxcbiAgICAgIGFuY2hvckhlaWdodDogYW5jaG9yUmVjdC5oZWlnaHQsXG4gICAgICBhbmNob3JXaWR0aDogYW5jaG9yUmVjdC53aWR0aCxcbiAgICAgIG1lbnVIZWlnaHQ6IHRoaXMuZGltZW5zaW9uc18uaGVpZ2h0LFxuICAgICAgbWVudVdpZHRoOiB0aGlzLmRpbWVuc2lvbnNfLndpZHRoLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZXMgdGhlIGNvcm5lciBvZiB0aGUgYW5jaG9yIGZyb20gd2hpY2ggdG8gYW5pbWF0ZSBhbmQgcG9zaXRpb24gdGhlIG1lbnUuXG4gICAqIEByZXR1cm4ge0Nvcm5lcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE9yaWdpbkNvcm5lcl8oKSB7XG4gICAgLy8gRGVmYXVsdHM6IG9wZW4gZnJvbSB0aGUgdG9wIGxlZnQuXG4gICAgbGV0IGNvcm5lciA9IENvcm5lci5UT1BfTEVGVDtcblxuICAgIGNvbnN0IHt2aWV3cG9ydERpc3RhbmNlLCBhbmNob3JIZWlnaHQsIGFuY2hvcldpZHRoLCBtZW51SGVpZ2h0LCBtZW51V2lkdGh9ID0gdGhpcy5tZWFzdXJlc187XG4gICAgY29uc3QgaXNCb3R0b21BbGlnbmVkID0gQm9vbGVhbih0aGlzLmFuY2hvckNvcm5lcl8gJiBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICBjb25zdCBhdmFpbGFibGVUb3AgPSBpc0JvdHRvbUFsaWduZWQgPyB2aWV3cG9ydERpc3RhbmNlLnRvcCArIGFuY2hvckhlaWdodCArIHRoaXMuYW5jaG9yTWFyZ2luXy5ib3R0b21cbiAgICAgIDogdmlld3BvcnREaXN0YW5jZS50b3AgKyB0aGlzLmFuY2hvck1hcmdpbl8udG9wO1xuICAgIGNvbnN0IGF2YWlsYWJsZUJvdHRvbSA9IGlzQm90dG9tQWxpZ25lZCA/IHZpZXdwb3J0RGlzdGFuY2UuYm90dG9tIC0gdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbVxuICAgICAgOiB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSArIGFuY2hvckhlaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luXy50b3A7XG5cbiAgICBjb25zdCB0b3BPdmVyZmxvdyA9IG1lbnVIZWlnaHQgLSBhdmFpbGFibGVUb3A7XG4gICAgY29uc3QgYm90dG9tT3ZlcmZsb3cgPSBtZW51SGVpZ2h0IC0gYXZhaWxhYmxlQm90dG9tO1xuICAgIGlmIChib3R0b21PdmVyZmxvdyA+IDAgJiYgdG9wT3ZlcmZsb3cgPCBib3R0b21PdmVyZmxvdykge1xuICAgICAgY29ybmVyIHw9IENvcm5lckJpdC5CT1RUT007XG4gICAgfVxuXG4gICAgY29uc3QgaXNSdGwgPSB0aGlzLmFkYXB0ZXJfLmlzUnRsKCk7XG4gICAgY29uc3QgaXNGbGlwUnRsID0gQm9vbGVhbih0aGlzLmFuY2hvckNvcm5lcl8gJiBDb3JuZXJCaXQuRkxJUF9SVEwpO1xuICAgIGNvbnN0IGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgPSBCb29sZWFuKHRoaXMuYW5jaG9yQ29ybmVyXyAmIENvcm5lckJpdC5SSUdIVCk7XG4gICAgY29uc3QgaXNBbGlnbmVkUmlnaHQgPSAoYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCAmJiAhaXNSdGwpIHx8XG4gICAgICAoIWF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgJiYgaXNGbGlwUnRsICYmIGlzUnRsKTtcbiAgICBjb25zdCBhdmFpbGFibGVMZWZ0ID0gaXNBbGlnbmVkUmlnaHQgPyB2aWV3cG9ydERpc3RhbmNlLmxlZnQgKyBhbmNob3JXaWR0aCArIHRoaXMuYW5jaG9yTWFyZ2luXy5yaWdodCA6XG4gICAgICB2aWV3cG9ydERpc3RhbmNlLmxlZnQgKyB0aGlzLmFuY2hvck1hcmdpbl8ubGVmdDtcbiAgICBjb25zdCBhdmFpbGFibGVSaWdodCA9IGlzQWxpZ25lZFJpZ2h0ID8gdmlld3BvcnREaXN0YW5jZS5yaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luXy5yaWdodCA6XG4gICAgICB2aWV3cG9ydERpc3RhbmNlLnJpZ2h0ICsgYW5jaG9yV2lkdGggLSB0aGlzLmFuY2hvck1hcmdpbl8ubGVmdDtcblxuICAgIGNvbnN0IGxlZnRPdmVyZmxvdyA9IG1lbnVXaWR0aCAtIGF2YWlsYWJsZUxlZnQ7XG4gICAgY29uc3QgcmlnaHRPdmVyZmxvdyA9IG1lbnVXaWR0aCAtIGF2YWlsYWJsZVJpZ2h0O1xuXG4gICAgaWYgKChsZWZ0T3ZlcmZsb3cgPCAwICYmIGlzQWxpZ25lZFJpZ2h0ICYmIGlzUnRsKSB8fFxuICAgICAgICAoYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCAmJiAhaXNBbGlnbmVkUmlnaHQgJiYgbGVmdE92ZXJmbG93IDwgMCkgfHxcbiAgICAgICAgKHJpZ2h0T3ZlcmZsb3cgPiAwICYmIGxlZnRPdmVyZmxvdyA8IHJpZ2h0T3ZlcmZsb3cpKSB7XG4gICAgICBjb3JuZXIgfD0gQ29ybmVyQml0LlJJR0hUO1xuICAgIH1cblxuICAgIHJldHVybiBjb3JuZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb3JuZXJ9IGNvcm5lciBPcmlnaW4gY29ybmVyIG9mIHRoZSBtZW51LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhvcml6b250YWwgb2Zmc2V0IG9mIG1lbnUgb3JpZ2luIGNvcm5lciBmcm9tIGNvcnJlc3BvbmRpbmcgYW5jaG9yIGNvcm5lci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEhvcml6b250YWxPcmlnaW5PZmZzZXRfKGNvcm5lcikge1xuICAgIGNvbnN0IHthbmNob3JXaWR0aH0gPSB0aGlzLm1lYXN1cmVzXztcbiAgICBjb25zdCBpc1JpZ2h0QWxpZ25lZCA9IEJvb2xlYW4oY29ybmVyICYgQ29ybmVyQml0LlJJR0hUKTtcbiAgICBjb25zdCBhdm9pZEhvcml6b250YWxPdmVybGFwID0gQm9vbGVhbih0aGlzLmFuY2hvckNvcm5lcl8gJiBDb3JuZXJCaXQuUklHSFQpO1xuICAgIGxldCB4ID0gMDtcbiAgICBpZiAoaXNSaWdodEFsaWduZWQpIHtcbiAgICAgIGNvbnN0IHJpZ2h0T2Zmc2V0ID0gYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCA/IGFuY2hvcldpZHRoIC0gdGhpcy5hbmNob3JNYXJnaW5fLmxlZnQgOiB0aGlzLmFuY2hvck1hcmdpbl8ucmlnaHQ7XG4gICAgICB4ID0gcmlnaHRPZmZzZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxlZnRPZmZzZXQgPSBhdm9pZEhvcml6b250YWxPdmVybGFwID8gYW5jaG9yV2lkdGggLSB0aGlzLmFuY2hvck1hcmdpbl8ucmlnaHQgOiB0aGlzLmFuY2hvck1hcmdpbl8ubGVmdDtcbiAgICAgIHggPSBsZWZ0T2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Nvcm5lcn0gY29ybmVyIE9yaWdpbiBjb3JuZXIgb2YgdGhlIG1lbnUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVmVydGljYWwgb2Zmc2V0IG9mIG1lbnUgb3JpZ2luIGNvcm5lciBmcm9tIGNvcnJlc3BvbmRpbmcgYW5jaG9yIGNvcm5lci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFZlcnRpY2FsT3JpZ2luT2Zmc2V0Xyhjb3JuZXIpIHtcbiAgICBjb25zdCB7dmlld3BvcnQsIHZpZXdwb3J0RGlzdGFuY2UsIGFuY2hvckhlaWdodCwgbWVudUhlaWdodH0gPSB0aGlzLm1lYXN1cmVzXztcbiAgICBjb25zdCBpc0JvdHRvbUFsaWduZWQgPSBCb29sZWFuKGNvcm5lciAmIENvcm5lckJpdC5CT1RUT00pO1xuICAgIGNvbnN0IHtNQVJHSU5fVE9fRURHRX0gPSBNRENNZW51Rm91bmRhdGlvbi5udW1iZXJzO1xuICAgIGNvbnN0IGF2b2lkVmVydGljYWxPdmVybGFwID0gQm9vbGVhbih0aGlzLmFuY2hvckNvcm5lcl8gJiBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICBjb25zdCBjYW5PdmVybGFwVmVydGljYWxseSA9ICFhdm9pZFZlcnRpY2FsT3ZlcmxhcDtcbiAgICBsZXQgeSA9IDA7XG5cbiAgICBpZiAoaXNCb3R0b21BbGlnbmVkKSB7XG4gICAgICB5ID0gYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPyBhbmNob3JIZWlnaHQgLSB0aGlzLmFuY2hvck1hcmdpbl8udG9wIDogLXRoaXMuYW5jaG9yTWFyZ2luXy5ib3R0b207XG4gICAgICAvLyBhZGp1c3QgZm9yIHdoZW4gbWVudSBjYW4gb3ZlcmxhcCBhbmNob3IsIGJ1dCB0b28gdGFsbCB0byBiZSBhbGlnbmVkIHRvIGJvdHRvbVxuICAgICAgLy8gYW5jaG9yIGNvcm5lci4gQm90dG9tIG1hcmdpbiBpcyBpZ25vcmVkIGluIHN1Y2ggY2FzZXMuXG4gICAgICBpZiAoY2FuT3ZlcmxhcFZlcnRpY2FsbHkgJiYgbWVudUhlaWdodCA+IHZpZXdwb3J0RGlzdGFuY2UudG9wICsgYW5jaG9ySGVpZ2h0KSB7XG4gICAgICAgIHkgPSAtKE1hdGgubWluKG1lbnVIZWlnaHQsIHZpZXdwb3J0LmhlaWdodCAtIE1BUkdJTl9UT19FREdFKSAtICh2aWV3cG9ydERpc3RhbmNlLnRvcCArIGFuY2hvckhlaWdodCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB5ID0gYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPyAoYW5jaG9ySGVpZ2h0ICsgdGhpcy5hbmNob3JNYXJnaW5fLmJvdHRvbSkgOiB0aGlzLmFuY2hvck1hcmdpbl8udG9wO1xuICAgICAgLy8gYWRqdXN0IGZvciB3aGVuIG1lbnUgY2FuIG92ZXJsYXAgYW5jaG9yLCBidXQgdG9vIHRhbGwgdG8gYmUgYWxpZ25lZCB0byB0b3BcbiAgICAgIC8vIGFuY2hvciBjb3JuZXJzLiBUb3AgbWFyZ2luIGlzIGlnbm9yZWQgaW4gdGhhdCBjYXNlLlxuICAgICAgaWYgKGNhbk92ZXJsYXBWZXJ0aWNhbGx5ICYmIG1lbnVIZWlnaHQgPiB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSArIGFuY2hvckhlaWdodCkge1xuICAgICAgICB5ID0gLShNYXRoLm1pbihtZW51SGVpZ2h0LCB2aWV3cG9ydC5oZWlnaHQgLSBNQVJHSU5fVE9fRURHRSkgLSAodmlld3BvcnREaXN0YW5jZS5ib3R0b20gKyBhbmNob3JIZWlnaHQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb3JuZXJ9IGNvcm5lciBPcmlnaW4gY29ybmVyIG9mIHRoZSBtZW51LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1heGltdW0gaGVpZ2h0IG9mIHRoZSBtZW51LCBiYXNlZCBvbiBhdmFpbGFibGUgc3BhY2UuIDAgaW5kaWNhdGVzIHNob3VsZCBub3QgYmUgc2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0TWVudU1heEhlaWdodF8oY29ybmVyKSB7XG4gICAgbGV0IG1heEhlaWdodCA9IDA7XG4gICAgY29uc3Qge3ZpZXdwb3J0RGlzdGFuY2V9ID0gdGhpcy5tZWFzdXJlc187XG4gICAgY29uc3QgaXNCb3R0b21BbGlnbmVkID0gQm9vbGVhbihjb3JuZXIgJiBDb3JuZXJCaXQuQk9UVE9NKTtcblxuICAgIC8vIFdoZW4gbWF4aW11bSBoZWlnaHQgaXMgbm90IHNwZWNpZmllZCwgaXQgaXMgaGFuZGxlZCBmcm9tIGNzcy5cbiAgICBpZiAodGhpcy5hbmNob3JDb3JuZXJfICYgQ29ybmVyQml0LkJPVFRPTSkge1xuICAgICAgaWYgKGlzQm90dG9tQWxpZ25lZCkge1xuICAgICAgICBtYXhIZWlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLnRvcCArIHRoaXMuYW5jaG9yTWFyZ2luXy50b3A7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhIZWlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSAtIHRoaXMuYW5jaG9yTWFyZ2luXy5ib3R0b207XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heEhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhdXRvUG9zaXRpb25fKCkge1xuICAgIGlmICghdGhpcy5hZGFwdGVyXy5oYXNBbmNob3IoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgbWVhc3VyZW1lbnRzIGZvciBhdXRvcG9zaXRpb24gbWV0aG9kcyByZXVzZS5cbiAgICB0aGlzLm1lYXN1cmVzXyA9IHRoaXMuZ2V0QXV0b0xheW91dE1lYXN1cmVtZW50c18oKTtcblxuICAgIGNvbnN0IGNvcm5lciA9IHRoaXMuZ2V0T3JpZ2luQ29ybmVyXygpO1xuICAgIGNvbnN0IG1heE1lbnVIZWlnaHQgPSB0aGlzLmdldE1lbnVNYXhIZWlnaHRfKGNvcm5lcik7XG4gICAgbGV0IHZlcnRpY2FsQWxpZ25tZW50ID0gKGNvcm5lciAmIENvcm5lckJpdC5CT1RUT00pID8gJ2JvdHRvbScgOiAndG9wJztcbiAgICBsZXQgaG9yaXpvbnRhbEFsaWdubWVudCA9IChjb3JuZXIgJiBDb3JuZXJCaXQuUklHSFQpID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRIb3Jpem9udGFsT3JpZ2luT2Zmc2V0Xyhjb3JuZXIpO1xuICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5nZXRWZXJ0aWNhbE9yaWdpbk9mZnNldF8oY29ybmVyKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHtcbiAgICAgIFtob3Jpem9udGFsQWxpZ25tZW50XTogaG9yaXpvbnRhbE9mZnNldCA/IGhvcml6b250YWxPZmZzZXQgKyAncHgnIDogJzAnLFxuICAgICAgW3ZlcnRpY2FsQWxpZ25tZW50XTogdmVydGljYWxPZmZzZXQgPyB2ZXJ0aWNhbE9mZnNldCArICdweCcgOiAnMCcsXG4gICAgfTtcbiAgICBjb25zdCB7YW5jaG9yV2lkdGgsIG1lbnVIZWlnaHQsIG1lbnVXaWR0aH0gPSB0aGlzLm1lYXN1cmVzXztcbiAgICAvLyBDZW50ZXIgYWxpZ24gd2hlbiBhbmNob3Igd2lkdGggaXMgY29tcGFyYWJsZSBvciBncmVhdGVyIHRoYW4gbWVudSwgb3RoZXJ3aXNlIGtlZXAgY29ybmVyLlxuICAgIGlmIChhbmNob3JXaWR0aCAvIG1lbnVXaWR0aCA+IG51bWJlcnMuQU5DSE9SX1RPX01FTlVfV0lEVEhfUkFUSU8pIHtcbiAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAnY2VudGVyJztcbiAgICB9XG5cbiAgICAvLyBBZGp1c3QgdmVydGljYWwgb3JpZ2luIHdoZW4gbWVudSBpcyBwb3NpdGlvbmVkIHdpdGggc2lnbmlmaWNhbnQgb2Zmc2V0IGZyb20gYW5jaG9yLiBUaGlzIGlzIGRvbmUgc28gdGhhdFxuICAgIC8vIHNjYWxlIGFuaW1hdGlvbiBpcyBcImFuY2hvcmVkXCIgb24gdGhlIGFuY2hvci5cbiAgICBpZiAoISh0aGlzLmFuY2hvckNvcm5lcl8gJiBDb3JuZXJCaXQuQk9UVE9NKSAmJlxuICAgICAgICBNYXRoLmFicyh2ZXJ0aWNhbE9mZnNldCAvIG1lbnVIZWlnaHQpID4gbnVtYmVycy5PRkZTRVRfVE9fTUVOVV9IRUlHSFRfUkFUSU8pIHtcbiAgICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0UGVyY2VudCA9IE1hdGguYWJzKHZlcnRpY2FsT2Zmc2V0IC8gbWVudUhlaWdodCkgKiAxMDA7XG4gICAgICBjb25zdCBvcmlnaW5QZXJjZW50ID0gKGNvcm5lciAmIENvcm5lckJpdC5CT1RUT00pID8gMTAwIC0gdmVydGljYWxPZmZzZXRQZXJjZW50IDogdmVydGljYWxPZmZzZXRQZXJjZW50O1xuICAgICAgdmVydGljYWxBbGlnbm1lbnQgPSBNYXRoLnJvdW5kKG9yaWdpblBlcmNlbnQgKiAxMDApIC8gMTAwICsgJyUnO1xuICAgIH1cblxuICAgIHRoaXMuYWRhcHRlcl8uc2V0VHJhbnNmb3JtT3JpZ2luKGAke2hvcml6b250YWxBbGlnbm1lbnR9ICR7dmVydGljYWxBbGlnbm1lbnR9YCk7XG4gICAgdGhpcy5hZGFwdGVyXy5zZXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgdGhpcy5hZGFwdGVyXy5zZXRNYXhIZWlnaHQobWF4TWVudUhlaWdodCA/IG1heE1lbnVIZWlnaHQgKyAncHgnIDogJycpO1xuXG4gICAgLy8gQ2xlYXIgbWVhc3VyZXMgYWZ0ZXIgcG9zaXRpb25pbmcgaXMgY29tcGxldGUuXG4gICAgdGhpcy5tZWFzdXJlc18gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gdGhlIG1lbnUuXG4gICAqIEBwYXJhbSB7e2ZvY3VzSW5kZXg6ID9udW1iZXJ9PX0gb3B0aW9uc1xuICAgKi9cbiAgb3Blbih7Zm9jdXNJbmRleCA9IG51bGx9ID0ge30pIHtcbiAgICB0aGlzLmFkYXB0ZXJfLnNhdmVGb2N1cygpO1xuXG4gICAgaWYgKCF0aGlzLnF1aWNrT3Blbl8pIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTURDTWVudUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfT1BFTik7XG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRpb25SZXF1ZXN0SWRfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuZGltZW5zaW9uc18gPSB0aGlzLmFkYXB0ZXJfLmdldElubmVyRGltZW5zaW9ucygpO1xuICAgICAgdGhpcy5hdXRvUG9zaXRpb25fKCk7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKE1EQ01lbnVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1BFTik7XG4gICAgICB0aGlzLmZvY3VzT25PcGVuXyhmb2N1c0luZGV4KTtcbiAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJCb2R5Q2xpY2tIYW5kbGVyKHRoaXMuZG9jdW1lbnRDbGlja0hhbmRsZXJfKTtcbiAgICAgIGlmICghdGhpcy5xdWlja09wZW5fKSB7XG4gICAgICAgIHRoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWRfID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vcGVuQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoTURDTWVudUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfT1BFTik7XG4gICAgICAgIH0sIG51bWJlcnMuVFJBTlNJVElPTl9PUEVOX0RVUkFUSU9OKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmlzT3Blbl8gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgbWVudS5cbiAgICogQHBhcmFtIHtFdmVudD19IGV2dFxuICAgKi9cbiAgY2xvc2UoZXZ0ID0gbnVsbCkge1xuICAgIGNvbnN0IHRhcmdldElzRGlzYWJsZWQgPSBldnQgP1xuICAgICAgdGhpcy5hZGFwdGVyXy5nZXRBdHRyaWJ1dGVGb3JFdmVudFRhcmdldChldnQudGFyZ2V0LCBzdHJpbmdzLkFSSUFfRElTQUJMRURfQVRUUikgPT09ICd0cnVlJyA6XG4gICAgICBmYWxzZTtcblxuICAgIGlmICh0YXJnZXRJc0Rpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyQm9keUNsaWNrSGFuZGxlcih0aGlzLmRvY3VtZW50Q2xpY2tIYW5kbGVyXyk7XG5cbiAgICBpZiAoIXRoaXMucXVpY2tPcGVuXykge1xuICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhNRENNZW51Rm91bmRhdGlvbi5jc3NDbGFzc2VzLkFOSU1BVElOR19DTE9TRUQpO1xuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ01lbnVGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1BFTik7XG4gICAgICBpZiAoIXRoaXMucXVpY2tPcGVuXykge1xuICAgICAgICB0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZF8gPSAwO1xuICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoTURDTWVudUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfQ0xPU0VEKTtcbiAgICAgICAgfSwgbnVtYmVycy5UUkFOU0lUSU9OX0NMT1NFX0RVUkFUSU9OKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmlzT3Blbl8gPSBmYWxzZTtcbiAgICB0aGlzLmFkYXB0ZXJfLnJlc3RvcmVGb2N1cygpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGlzT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5pc09wZW5fO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge251bWJlcn0gKi9cbiAgZ2V0U2VsZWN0ZWRJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEluZGV4XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggb2YgdGhlIGl0ZW0gdG8gc2V0IGFzIHNlbGVjdGVkLlxuICAgKi9cbiAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gdGhpcy5zZWxlY3RlZEluZGV4Xykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZTZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4XztcbiAgICBpZiAocHJldlNlbGVjdGVkSW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5hZGFwdGVyXy5ybUF0dHJGb3JPcHRpb25BdEluZGV4KHByZXZTZWxlY3RlZEluZGV4LCAnYXJpYS1zZWxlY3RlZCcpO1xuICAgICAgdGhpcy5hZGFwdGVyXy5ybUNsYXNzRm9yT3B0aW9uQXRJbmRleChwcmV2U2VsZWN0ZWRJbmRleCwgY3NzQ2xhc3Nlcy5TRUxFQ1RFRF9MSVNUX0lURU0pO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWN0ZWRJbmRleF8gPSBpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5hZGFwdGVyXy5nZXROdW1iZXJPZkl0ZW1zKCkgPyBpbmRleCA6IC0xO1xuICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXhfID49IDApIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QXR0ckZvck9wdGlvbkF0SW5kZXgodGhpcy5zZWxlY3RlZEluZGV4XywgJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzc0Zvck9wdGlvbkF0SW5kZXgodGhpcy5zZWxlY3RlZEluZGV4XywgY3NzQ2xhc3Nlcy5TRUxFQ1RFRF9MSVNUX0lURU0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge01EQ01lbnVGb3VuZGF0aW9uLCBBbmNob3JNYXJnaW59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBNRENDb21wb25lbnQgZnJvbSAnQG1hdGVyaWFsL2Jhc2UvY29tcG9uZW50JztcbmltcG9ydCB7Z2V0VHJhbnNmb3JtUHJvcGVydHlOYW1lfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtNRENNZW51Rm91bmRhdGlvbiwgQW5jaG9yTWFyZ2lufSBmcm9tICcuL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHtDb3JuZXIsIENvcm5lckJpdH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIEBleHRlbmRzIE1EQ0NvbXBvbmVudDwhTURDTWVudUZvdW5kYXRpb24+XG4gKi9cbmNsYXNzIE1EQ01lbnUgZXh0ZW5kcyBNRENDb21wb25lbnQge1xuICAvKiogQHBhcmFtIHsuLi4/fSBhcmdzICovXG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICAvKiogQHByaXZhdGUgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMucHJldmlvdXNGb2N1c187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gcm9vdFxuICAgKiBAcmV0dXJuIHshTURDTWVudX1cbiAgICovXG4gIHN0YXRpYyBhdHRhY2hUbyhyb290KSB7XG4gICAgcmV0dXJuIG5ldyBNRENNZW51KHJvb3QpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGdldCBvcGVuKCkge1xuICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb25fLmlzT3BlbigpO1xuICB9XG5cbiAgLyoqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgKi9cbiAgc2V0IG9wZW4odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuZm91bmRhdGlvbl8ub3BlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvdW5kYXRpb25fLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwYXJhbSB7e2ZvY3VzSW5kZXg6ID9udW1iZXJ9PX0gb3B0aW9ucyAqL1xuICBzaG93KHtmb2N1c0luZGV4ID0gbnVsbH0gPSB7fSkge1xuICAgIHRoaXMuZm91bmRhdGlvbl8ub3Blbih7Zm9jdXNJbmRleDogZm9jdXNJbmRleH0pO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLmNsb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb3JuZXJ9IGNvcm5lciBEZWZhdWx0IGFuY2hvciBjb3JuZXIgYWxpZ25tZW50IG9mIHRvcC1sZWZ0XG4gICAqICAgICBtZW51IGNvcm5lci5cbiAgICovXG4gIHNldEFuY2hvckNvcm5lcihjb3JuZXIpIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNldEFuY2hvckNvcm5lcihjb3JuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QW5jaG9yTWFyZ2lufSBtYXJnaW5cbiAgICovXG4gIHNldEFuY2hvck1hcmdpbihtYXJnaW4pIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNldEFuY2hvck1hcmdpbihtYXJnaW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgaXRlbSBjb250YWluZXIgZWxlbWVudCBpbnNpZGUgdGhlIGNvbXBvbmVudC5cbiAgICogQHJldHVybiB7P0VsZW1lbnR9XG4gICAqL1xuICBnZXQgaXRlbXNDb250YWluZXJfKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3RfLnF1ZXJ5U2VsZWN0b3IoTURDTWVudUZvdW5kYXRpb24uc3RyaW5ncy5JVEVNU19TRUxFQ1RPUik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBpdGVtcyB3aXRoaW4gdGhlIG1lbnUuIE5vdGUgdGhhdCB0aGlzIG9ubHkgY29udGFpbnMgdGhlIHNldCBvZiBlbGVtZW50cyB3aXRoaW5cbiAgICogdGhlIGl0ZW1zIGNvbnRhaW5lciB0aGF0IGFyZSBwcm9wZXIgbGlzdCBpdGVtcywgYW5kIG5vdCBzdXBwbGVtZW50YWwgLyBwcmVzZW50YXRpb25hbCBET01cbiAgICogZWxlbWVudHMuXG4gICAqIEByZXR1cm4geyFBcnJheTwhRWxlbWVudD59XG4gICAqL1xuICBnZXQgaXRlbXMoKSB7XG4gICAgY29uc3Qge2l0ZW1zQ29udGFpbmVyXzogaXRlbXNDb250YWluZXJ9ID0gdGhpcztcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbChpdGVtc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcubWRjLWxpc3QtaXRlbVtyb2xlXScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGl0ZW0gd2l0aGluIHRoZSBtZW51IHRoYXQgaXMgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAgICovXG4gIGdldE9wdGlvbkJ5SW5kZXgoaW5kZXgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG5cbiAgICBpZiAoaW5kZXggPCBpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLml0ZW1zW2luZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAqL1xuICBzZXQgc2VsZWN0ZWRJdGVtSW5kZXgoaW5kZXgpIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xuICB9XG5cbiAgLyoqIEByZXR1cm4ge251bWJlcn0gKi9cbiAgZ2V0IHNlbGVjdGVkSXRlbUluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb25fLmdldFNlbGVjdGVkSW5kZXgoKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0geyFib29sZWFufSByZW1lbWJlclNlbGVjdGlvbiAqL1xuICBzZXQgcmVtZW1iZXJTZWxlY3Rpb24ocmVtZW1iZXJTZWxlY3Rpb24pIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNldFJlbWVtYmVyU2VsZWN0aW9uKHJlbWVtYmVyU2VsZWN0aW9uKTtcbiAgfVxuXG4gIC8qKiBAcGFyYW0ge2Jvb2xlYW59IHF1aWNrT3BlbiAqL1xuICBzZXQgcXVpY2tPcGVuKHF1aWNrT3Blbikge1xuICAgIHRoaXMuZm91bmRhdGlvbl8uc2V0UXVpY2tPcGVuKHF1aWNrT3Blbik7XG4gIH1cblxuICAvKiogQHJldHVybiB7IU1EQ01lbnVGb3VuZGF0aW9ufSAqL1xuICBnZXREZWZhdWx0Rm91bmRhdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IE1EQ01lbnVGb3VuZGF0aW9uKHtcbiAgICAgIGFkZENsYXNzOiAoY2xhc3NOYW1lKSA9PiB0aGlzLnJvb3RfLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSxcbiAgICAgIHJlbW92ZUNsYXNzOiAoY2xhc3NOYW1lKSA9PiB0aGlzLnJvb3RfLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSxcbiAgICAgIGhhc0NsYXNzOiAoY2xhc3NOYW1lKSA9PiB0aGlzLnJvb3RfLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpLFxuICAgICAgaGFzTmVjZXNzYXJ5RG9tOiAoKSA9PiBCb29sZWFuKHRoaXMuaXRlbXNDb250YWluZXJfKSxcbiAgICAgIGdldEF0dHJpYnV0ZUZvckV2ZW50VGFyZ2V0OiAodGFyZ2V0LCBhdHRyaWJ1dGVOYW1lKSA9PiB0YXJnZXQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpLFxuICAgICAgZ2V0SW5uZXJEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtpdGVtc0NvbnRhaW5lcl86IGl0ZW1zQ29udGFpbmVyfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7d2lkdGg6IGl0ZW1zQ29udGFpbmVyLm9mZnNldFdpZHRoLCBoZWlnaHQ6IGl0ZW1zQ29udGFpbmVyLm9mZnNldEhlaWdodH07XG4gICAgICB9LFxuICAgICAgaGFzQW5jaG9yOiAoKSA9PiB0aGlzLnJvb3RfLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5yb290Xy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbWRjLW1lbnUtYW5jaG9yJyksXG4gICAgICBnZXRBbmNob3JEaW1lbnNpb25zOiAoKSA9PiB0aGlzLnJvb3RfLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7d2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodH07XG4gICAgICB9LFxuICAgICAgZ2V0TnVtYmVyT2ZJdGVtczogKCkgPT4gdGhpcy5pdGVtcy5sZW5ndGgsXG4gICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogKHR5cGUsIGhhbmRsZXIpID0+IHRoaXMucm9vdF8uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKSxcbiAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6ICh0eXBlLCBoYW5kbGVyKSA9PiB0aGlzLnJvb3RfLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciksXG4gICAgICByZWdpc3RlckJvZHlDbGlja0hhbmRsZXI6IChoYW5kbGVyKSA9PiBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlciksXG4gICAgICBkZXJlZ2lzdGVyQm9keUNsaWNrSGFuZGxlcjogKGhhbmRsZXIpID0+IGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyKSxcbiAgICAgIGdldEluZGV4Rm9yRXZlbnRUYXJnZXQ6ICh0YXJnZXQpID0+IHRoaXMuaXRlbXMuaW5kZXhPZih0YXJnZXQpLFxuICAgICAgbm90aWZ5U2VsZWN0ZWQ6IChldnREYXRhKSA9PiB0aGlzLmVtaXQoTURDTWVudUZvdW5kYXRpb24uc3RyaW5ncy5TRUxFQ1RFRF9FVkVOVCwge1xuICAgICAgICBpbmRleDogZXZ0RGF0YS5pbmRleCxcbiAgICAgICAgaXRlbTogdGhpcy5pdGVtc1tldnREYXRhLmluZGV4XSxcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5Q2FuY2VsOiAoKSA9PiB0aGlzLmVtaXQoTURDTWVudUZvdW5kYXRpb24uc3RyaW5ncy5DQU5DRUxfRVZFTlQsIHt9KSxcbiAgICAgIHNhdmVGb2N1czogKCkgPT4ge1xuICAgICAgICB0aGlzLnByZXZpb3VzRm9jdXNfID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICByZXN0b3JlRm9jdXM6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNGb2N1c18gJiYgdGhpcy5wcmV2aW91c0ZvY3VzXy5mb2N1cykge1xuICAgICAgICAgIHRoaXMucHJldmlvdXNGb2N1c18uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzRm9jdXNlZDogKCkgPT4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5yb290XyxcbiAgICAgIGZvY3VzOiAoKSA9PiB0aGlzLnJvb3RfLmZvY3VzKCksXG4gICAgICBnZXRGb2N1c2VkSXRlbUluZGV4OiAoKSA9PiB0aGlzLml0ZW1zLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCksXG4gICAgICBmb2N1c0l0ZW1BdEluZGV4OiAoaW5kZXgpID0+IHRoaXMuaXRlbXNbaW5kZXhdLmZvY3VzKCksXG4gICAgICBpc1J0bDogKCkgPT4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJvb3RfKS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSA9PT0gJ3J0bCcsXG4gICAgICBzZXRUcmFuc2Zvcm1PcmlnaW46IChvcmlnaW4pID0+IHtcbiAgICAgICAgdGhpcy5yb290Xy5zdHlsZVtgJHtnZXRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWUod2luZG93KX0tb3JpZ2luYF0gPSBvcmlnaW47XG4gICAgICB9LFxuICAgICAgc2V0UG9zaXRpb246IChwb3NpdGlvbikgPT4ge1xuICAgICAgICB0aGlzLnJvb3RfLnN0eWxlLmxlZnQgPSAnbGVmdCcgaW4gcG9zaXRpb24gPyBwb3NpdGlvbi5sZWZ0IDogbnVsbDtcbiAgICAgICAgdGhpcy5yb290Xy5zdHlsZS5yaWdodCA9ICdyaWdodCcgaW4gcG9zaXRpb24gPyBwb3NpdGlvbi5yaWdodCA6IG51bGw7XG4gICAgICAgIHRoaXMucm9vdF8uc3R5bGUudG9wID0gJ3RvcCcgaW4gcG9zaXRpb24gPyBwb3NpdGlvbi50b3AgOiBudWxsO1xuICAgICAgICB0aGlzLnJvb3RfLnN0eWxlLmJvdHRvbSA9ICdib3R0b20nIGluIHBvc2l0aW9uID8gcG9zaXRpb24uYm90dG9tIDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBzZXRNYXhIZWlnaHQ6IChoZWlnaHQpID0+IHtcbiAgICAgICAgdGhpcy5yb290Xy5zdHlsZS5tYXhIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9LFxuICAgICAgc2V0QXR0ckZvck9wdGlvbkF0SW5kZXg6IChpbmRleCwgYXR0ciwgdmFsdWUpID0+IHRoaXMuaXRlbXNbaW5kZXhdLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSksXG4gICAgICBybUF0dHJGb3JPcHRpb25BdEluZGV4OiAoaW5kZXgsIGF0dHIpID0+IHRoaXMuaXRlbXNbaW5kZXhdLnJlbW92ZUF0dHJpYnV0ZShhdHRyKSxcbiAgICAgIGFkZENsYXNzRm9yT3B0aW9uQXRJbmRleDogKGluZGV4LCBjbGFzc05hbWUpID0+IHRoaXMuaXRlbXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSxcbiAgICAgIHJtQ2xhc3NGb3JPcHRpb25BdEluZGV4OiAoaW5kZXgsIGNsYXNzTmFtZSkgPT4gdGhpcy5pdGVtc1tpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7TURDTWVudUZvdW5kYXRpb24sIE1EQ01lbnUsIEFuY2hvck1hcmdpbiwgQ29ybmVyLCBDb3JuZXJCaXR9O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfSAqL1xubGV0IHN0b3JlZFRyYW5zZm9ybVByb3BlcnR5TmFtZV87XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgY29ycmVjdCB0cmFuc2Zvcm0gcHJvcGVydHkgdG8gdXNlIG9uIHRoZSBjdXJyZW50IGJyb3dzZXIuXG4gKiBAcGFyYW0geyFXaW5kb3d9IGdsb2JhbE9ialxuICogQHBhcmFtIHtib29sZWFuPX0gZm9yY2VSZWZyZXNoXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVByb3BlcnR5TmFtZShnbG9iYWxPYmosIGZvcmNlUmVmcmVzaCA9IGZhbHNlKSB7XG4gIGlmIChzdG9yZWRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWVfID09PSB1bmRlZmluZWQgfHwgZm9yY2VSZWZyZXNoKSB7XG4gICAgY29uc3QgZWwgPSBnbG9iYWxPYmouZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgdHJhbnNmb3JtUHJvcGVydHlOYW1lID0gKCd0cmFuc2Zvcm0nIGluIGVsLnN0eWxlID8gJ3RyYW5zZm9ybScgOiAnd2Via2l0VHJhbnNmb3JtJyk7XG4gICAgc3RvcmVkVHJhbnNmb3JtUHJvcGVydHlOYW1lXyA9IHRyYW5zZm9ybVByb3BlcnR5TmFtZTtcbiAgfVxuXG4gIHJldHVybiBzdG9yZWRUcmFuc2Zvcm1Qcm9wZXJ0eU5hbWVfO1xufVxuXG4vKipcbiAqIENsYW1wcyBhIHZhbHVlIGJldHdlZW4gdGhlIG1pbmltdW0gYW5kIHRoZSBtYXhpbXVtLCByZXR1cm5pbmcgdGhlIGNsYW1wZWQgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiA9IDAsIG1heCA9IDEpIHtcbiAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgZWFzaW5nIHZhbHVlIHRvIGFwcGx5IGF0IHRpbWUgdCwgZm9yIGEgZ2l2ZW4gY3ViaWMgYmV6aWVyIGN1cnZlLlxuICogQ29udHJvbCBwb2ludHMgUDAgYW5kIFAzIGFyZSBhc3N1bWVkIHRvIGJlICgwLDApIGFuZCAoMSwxKSwgcmVzcGVjdGl2ZWx5LlxuICogUGFyYW1ldGVycyBhcmUgYXMgZm9sbG93czpcbiAqIC0gdGltZTogVGhlIGN1cnJlbnQgdGltZSBpbiB0aGUgYW5pbWF0aW9uLCBzY2FsZWQgYmV0d2VlbiAwIGFuZCAxLlxuICogLSB4MTogVGhlIHggdmFsdWUgb2YgY29udHJvbCBwb2ludCBQMS5cbiAqIC0geTE6IFRoZSB5IHZhbHVlIG9mIGNvbnRyb2wgcG9pbnQgUDEuXG4gKiAtIHgyOiBUaGUgeCB2YWx1ZSBvZiBjb250cm9sIHBvaW50IFAyLlxuICogLSB5MjogVGhlIHkgdmFsdWUgb2YgY29udHJvbCBwb2ludCBQMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gKiBAcGFyYW0ge251bWJlcn0geDFcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MVxuICogQHBhcmFtIHtudW1iZXJ9IHgyXG4gKiBAcGFyYW0ge251bWJlcn0geTJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gYmV6aWVyUHJvZ3Jlc3ModGltZSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgcmV0dXJuIGdldEJlemllckNvb3JkaW5hdGVfKHNvbHZlUG9zaXRpb25Gcm9tWFZhbHVlXyh0aW1lLCB4MSwgeDIpLCB5MSwgeTIpO1xufVxuXG4vKipcbiAqIENvbXB1dGUgYSBzaW5nbGUgY29vcmRpbmF0ZSBhdCBhIHBvc2l0aW9uIHBvaW50IGJldHdlZW4gMCBhbmQgMS5cbiAqIGMxIGFuZCBjMiBhcmUgdGhlIG1hdGNoaW5nIGNvb3JkaW5hdGUgb24gY29udHJvbCBwb2ludHMgUDEgYW5kIFAyLCByZXNwZWN0aXZlbHkuXG4gKiBDb250cm9sIHBvaW50cyBQMCBhbmQgUDMgYXJlIGFzc3VtZWQgdG8gYmUgKDAsMCkgYW5kICgxLDEpLCByZXNwZWN0aXZlbHkuXG4gKiBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvYmxvYi9tYXN0ZXIvY2xvc3VyZS9nb29nL21hdGgvYmV6aWVyLmpzLlxuICogQHBhcmFtIHtudW1iZXJ9IHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjMVxuICogQHBhcmFtIHtudW1iZXJ9IGMyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldEJlemllckNvb3JkaW5hdGVfKHQsIGMxLCBjMikge1xuICAvLyBTcGVjaWFsIGNhc2Ugc3RhcnQgYW5kIGVuZC5cbiAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkge1xuICAgIHJldHVybiB0O1xuICB9XG5cbiAgLy8gU3RlcCBvbmUgLSBmcm9tIDQgcG9pbnRzIHRvIDNcbiAgbGV0IGljMCA9IHQgKiBjMTtcbiAgbGV0IGljMSA9IGMxICsgdCAqIChjMiAtIGMxKTtcbiAgY29uc3QgaWMyID0gYzIgKyB0ICogKDEgLSBjMik7XG5cbiAgLy8gU3RlcCB0d28gLSBmcm9tIDMgcG9pbnRzIHRvIDJcbiAgaWMwICs9IHQgKiAoaWMxIC0gaWMwKTtcbiAgaWMxICs9IHQgKiAoaWMyIC0gaWMxKTtcblxuICAvLyBGaW5hbCBzdGVwIC0gbGFzdCBwb2ludFxuICByZXR1cm4gaWMwICsgdCAqIChpYzEgLSBpYzApO1xufVxuXG4vKipcbiAqIFByb2plY3QgYSBwb2ludCBvbnRvIHRoZSBCZXppZXIgY3VydmUsIGZyb20gYSBnaXZlbiBYLiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbiB0IGFsb25nIHRoZSBjdXJ2ZS5cbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvbWF0aC9iZXppZXIuanMuXG4gKiBAcGFyYW0ge251bWJlcn0geFZhbFxuICogQHBhcmFtIHtudW1iZXJ9IHgxXG4gKiBAcGFyYW0ge251bWJlcn0geDJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc29sdmVQb3NpdGlvbkZyb21YVmFsdWVfKHhWYWwsIHgxLCB4Mikge1xuICBjb25zdCBFUFNJTE9OID0gMWUtNjtcbiAgY29uc3QgTUFYX0lURVJBVElPTlMgPSA4O1xuXG4gIGlmICh4VmFsIDw9IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICh4VmFsID49IDEpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8vIEluaXRpYWwgZXN0aW1hdGUgb2YgdCB1c2luZyBsaW5lYXIgaW50ZXJwb2xhdGlvbi5cbiAgbGV0IHQgPSB4VmFsO1xuXG4gIC8vIFRyeSBncmFkaWVudCBkZXNjZW50IHRvIHNvbHZlIGZvciB0LiBJZiBpdCB3b3JrcywgaXQgaXMgdmVyeSBmYXN0LlxuICBsZXQgdE1pbiA9IDA7XG4gIGxldCB0TWF4ID0gMTtcbiAgbGV0IHZhbHVlID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBNQVhfSVRFUkFUSU9OUzsgaSsrKSB7XG4gICAgdmFsdWUgPSBnZXRCZXppZXJDb29yZGluYXRlXyh0LCB4MSwgeDIpO1xuICAgIGNvbnN0IGRlcml2YXRpdmUgPSAoZ2V0QmV6aWVyQ29vcmRpbmF0ZV8odCArIEVQU0lMT04sIHgxLCB4MikgLSB2YWx1ZSkgLyBFUFNJTE9OO1xuICAgIGlmIChNYXRoLmFicyh2YWx1ZSAtIHhWYWwpIDwgRVBTSUxPTikge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhkZXJpdmF0aXZlKSA8IEVQU0lMT04pIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgPCB4VmFsKSB7XG4gICAgICAgIHRNaW4gPSB0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdE1heCA9IHQ7XG4gICAgICB9XG4gICAgICB0IC09ICh2YWx1ZSAtIHhWYWwpIC8gZGVyaXZhdGl2ZTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgZ3JhZGllbnQgZGVzY2VudCBnb3Qgc3R1Y2sgaW4gYSBsb2NhbCBtaW5pbXVtLCBlLmcuIGJlY2F1c2VcbiAgLy8gdGhlIGRlcml2YXRpdmUgd2FzIGNsb3NlIHRvIDAsIHVzZSBhIERpY2hvdG9teSByZWZpbmVtZW50IGluc3RlYWQuXG4gIC8vIFdlIGxpbWl0IHRoZSBudW1iZXIgb2YgaW50ZXJhdGlvbnMgdG8gOC5cbiAgZm9yIChsZXQgaSA9IDA7IE1hdGguYWJzKHZhbHVlIC0geFZhbCkgPiBFUFNJTE9OICYmIGkgPCBNQVhfSVRFUkFUSU9OUzsgaSsrKSB7XG4gICAgaWYgKHZhbHVlIDwgeFZhbCkge1xuICAgICAgdE1pbiA9IHQ7XG4gICAgICB0ID0gKHQgKyB0TWF4KSAvIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRNYXggPSB0O1xuICAgICAgdCA9ICh0ICsgdE1pbikgLyAyO1xuICAgIH1cbiAgICB2YWx1ZSA9IGdldEJlemllckNvb3JkaW5hdGVfKHQsIHgxLCB4Mik7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCB7Z2V0VHJhbnNmb3JtUHJvcGVydHlOYW1lLCBjbGFtcCwgYmV6aWVyUHJvZ3Jlc3N9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogWzIsIHtcImFyZ3NcIjogXCJub25lXCJ9XSAqL1xuXG4vKipcbiAqIEFkYXB0ZXIgZm9yIE1EQyBSaXBwbGUuIFByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgbWFuYWdpbmdcbiAqIC0gY2xhc3Nlc1xuICogLSBkb21cbiAqIC0gQ1NTIHZhcmlhYmxlc1xuICogLSBwb3NpdGlvblxuICogLSBkaW1lbnNpb25zXG4gKiAtIHNjcm9sbCBwb3NpdGlvblxuICogLSBldmVudCBoYW5kbGVyc1xuICogLSB1bmJvdW5kZWQsIGFjdGl2ZSBhbmQgZGlzYWJsZWQgc3RhdGVzXG4gKlxuICogQWRkaXRpb25hbGx5LCBwcm92aWRlcyB0eXBlIGluZm9ybWF0aW9uIGZvciB0aGUgYWRhcHRlciB0byB0aGUgQ2xvc3VyZVxuICogY29tcGlsZXIuXG4gKlxuICogSW1wbGVtZW50IHRoaXMgYWRhcHRlciBmb3IgeW91ciBmcmFtZXdvcmsgb2YgY2hvaWNlIHRvIGRlbGVnYXRlIHVwZGF0ZXMgdG9cbiAqIHRoZSBjb21wb25lbnQgaW4geW91ciBmcmFtZXdvcmsgb2YgY2hvaWNlLiBTZWUgYXJjaGl0ZWN0dXJlIGRvY3VtZW50YXRpb25cbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWwtY29tcG9uZW50cy9tYXRlcmlhbC1jb21wb25lbnRzLXdlYi9ibG9iL21hc3Rlci9kb2NzL2NvZGUvYXJjaGl0ZWN0dXJlLm1kXG4gKlxuICogQHJlY29yZFxuICovXG5jbGFzcyBNRENSaXBwbGVBZGFwdGVyIHtcbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGJyb3dzZXJTdXBwb3J0c0Nzc1ZhcnMoKSB7fVxuXG4gIC8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuICBpc1VuYm91bmRlZCgpIHt9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGlzU3VyZmFjZUFjdGl2ZSgpIHt9XG5cbiAgLyoqIEByZXR1cm4ge2Jvb2xlYW59ICovXG4gIGlzU3VyZmFjZURpc2FibGVkKCkge31cblxuICAvKiogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAqL1xuICBhZGRDbGFzcyhjbGFzc05hbWUpIHt9XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgKi9cbiAgcmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKSB7fVxuXG4gIC8qKiBAcGFyYW0geyFFdmVudFRhcmdldH0gdGFyZ2V0ICovXG4gIGNvbnRhaW5zRXZlbnRUYXJnZXQodGFyZ2V0KSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZ0VHlwZVxuICAgKiBAcGFyYW0geyFGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgaGFuZGxlcikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgaGFuZGxlcikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIHJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgaGFuZGxlcikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGRlcmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBoYW5kbGVyKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgcmVnaXN0ZXJSZXNpemVIYW5kbGVyKGhhbmRsZXIpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBkZXJlZ2lzdGVyUmVzaXplSGFuZGxlcihoYW5kbGVyKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyTmFtZVxuICAgKiBAcGFyYW0gez9udW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgdXBkYXRlQ3NzVmFyaWFibGUodmFyTmFtZSwgdmFsdWUpIHt9XG5cbiAgLyoqIEByZXR1cm4geyFDbGllbnRSZWN0fSAqL1xuICBjb21wdXRlQm91bmRpbmdSZWN0KCkge31cblxuICAvKiogQHJldHVybiB7e3g6IG51bWJlciwgeTogbnVtYmVyfX0gKi9cbiAgZ2V0V2luZG93UGFnZU9mZnNldCgpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1EQ1JpcHBsZUFkYXB0ZXI7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgY3NzQ2xhc3NlcyA9IHtcbiAgLy8gUmlwcGxlIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHRoZSBcInJvb3RcIiBjb21wb25lbnQgaXMgcmVhbGx5IGEgXCJtaXhpblwiIG9mIHNvcnRzLFxuICAvLyBnaXZlbiB0aGF0IGl0J3MgYW4gJ3VwZ3JhZGUnIHRvIGFuIGV4aXN0aW5nIGNvbXBvbmVudC4gVGhhdCBiZWluZyBzYWlkIGl0IGlzIHRoZSByb290XG4gIC8vIENTUyBjbGFzcyB0aGF0IGFsbCBvdGhlciBDU1MgY2xhc3NlcyBkZXJpdmUgZnJvbS5cbiAgUk9PVDogJ21kYy1yaXBwbGUtdXBncmFkZWQnLFxuICBVTkJPVU5ERUQ6ICdtZGMtcmlwcGxlLXVwZ3JhZGVkLS11bmJvdW5kZWQnLFxuICBCR19GT0NVU0VEOiAnbWRjLXJpcHBsZS11cGdyYWRlZC0tYmFja2dyb3VuZC1mb2N1c2VkJyxcbiAgRkdfQUNUSVZBVElPTjogJ21kYy1yaXBwbGUtdXBncmFkZWQtLWZvcmVncm91bmQtYWN0aXZhdGlvbicsXG4gIEZHX0RFQUNUSVZBVElPTjogJ21kYy1yaXBwbGUtdXBncmFkZWQtLWZvcmVncm91bmQtZGVhY3RpdmF0aW9uJyxcbn07XG5cbmNvbnN0IHN0cmluZ3MgPSB7XG4gIFZBUl9MRUZUOiAnLS1tZGMtcmlwcGxlLWxlZnQnLFxuICBWQVJfVE9QOiAnLS1tZGMtcmlwcGxlLXRvcCcsXG4gIFZBUl9GR19TSVpFOiAnLS1tZGMtcmlwcGxlLWZnLXNpemUnLFxuICBWQVJfRkdfU0NBTEU6ICctLW1kYy1yaXBwbGUtZmctc2NhbGUnLFxuICBWQVJfRkdfVFJBTlNMQVRFX1NUQVJUOiAnLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1zdGFydCcsXG4gIFZBUl9GR19UUkFOU0xBVEVfRU5EOiAnLS1tZGMtcmlwcGxlLWZnLXRyYW5zbGF0ZS1lbmQnLFxufTtcblxuY29uc3QgbnVtYmVycyA9IHtcbiAgUEFERElORzogMTAsXG4gIElOSVRJQUxfT1JJR0lOX1NDQUxFOiAwLjYsXG4gIERFQUNUSVZBVElPTl9USU1FT1VUX01TOiAyMjUsIC8vIENvcnJlc3BvbmRzIHRvICRtZGMtcmlwcGxlLXRyYW5zbGF0ZS1kdXJhdGlvbiAoaS5lLiBhY3RpdmF0aW9uIGFuaW1hdGlvbiBkdXJhdGlvbilcbiAgRkdfREVBQ1RJVkFUSU9OX01TOiAxNTAsIC8vIENvcnJlc3BvbmRzIHRvICRtZGMtcmlwcGxlLWZhZGUtb3V0LWR1cmF0aW9uIChpLmUuIGRlYWN0aXZhdGlvbiBhbmltYXRpb24gZHVyYXRpb24pXG4gIFRBUF9ERUxBWV9NUzogMzAwLCAvLyBEZWxheSBiZXR3ZWVuIHRvdWNoIGFuZCBzaW11bGF0ZWQgbW91c2UgZXZlbnRzIG9uIHRvdWNoIGRldmljZXNcbn07XG5cbmV4cG9ydCB7Y3NzQ2xhc3Nlcywgc3RyaW5ncywgbnVtYmVyc307XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IE1EQ0ZvdW5kYXRpb24gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgTURDUmlwcGxlQWRhcHRlciBmcm9tICcuL2FkYXB0ZXInO1xuaW1wb3J0IHtjc3NDbGFzc2VzLCBzdHJpbmdzLCBudW1iZXJzfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldE5vcm1hbGl6ZWRFdmVudENvb3Jkc30gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBpc0FjdGl2YXRlZDogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgaGFzRGVhY3RpdmF0aW9uVVhSdW46IChib29sZWFufHVuZGVmaW5lZCksXG4gKiAgIHdhc0FjdGl2YXRlZEJ5UG9pbnRlcjogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgd2FzRWxlbWVudE1hZGVBY3RpdmU6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiAgIGFjdGl2YXRpb25FdmVudDogRXZlbnQsXG4gKiAgIGlzUHJvZ3JhbW1hdGljOiAoYm9vbGVhbnx1bmRlZmluZWQpXG4gKiB9fVxuICovXG5sZXQgQWN0aXZhdGlvblN0YXRlVHlwZTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBhY3RpdmF0ZTogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBkZWFjdGl2YXRlOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGZvY3VzOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGJsdXI6IChzdHJpbmd8dW5kZWZpbmVkKVxuICogfX1cbiAqL1xubGV0IExpc3RlbmVySW5mb1R5cGU7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgYWN0aXZhdGU6IGZ1bmN0aW9uKCFFdmVudCksXG4gKiAgIGRlYWN0aXZhdGU6IGZ1bmN0aW9uKCFFdmVudCksXG4gKiAgIGZvY3VzOiBmdW5jdGlvbigpLFxuICogICBibHVyOiBmdW5jdGlvbigpXG4gKiB9fVxuICovXG5sZXQgTGlzdGVuZXJzVHlwZTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICB4OiBudW1iZXIsXG4gKiAgIHk6IG51bWJlclxuICogfX1cbiAqL1xubGV0IFBvaW50VHlwZTtcblxuLy8gQWN0aXZhdGlvbiBldmVudHMgcmVnaXN0ZXJlZCBvbiB0aGUgcm9vdCBlbGVtZW50IG9mIGVhY2ggaW5zdGFuY2UgZm9yIGFjdGl2YXRpb25cbmNvbnN0IEFDVElWQVRJT05fRVZFTlRfVFlQRVMgPSBbJ3RvdWNoc3RhcnQnLCAncG9pbnRlcmRvd24nLCAnbW91c2Vkb3duJywgJ2tleWRvd24nXTtcblxuLy8gRGVhY3RpdmF0aW9uIGV2ZW50cyByZWdpc3RlcmVkIG9uIGRvY3VtZW50RWxlbWVudCB3aGVuIGEgcG9pbnRlci1yZWxhdGVkIGRvd24gZXZlbnQgb2NjdXJzXG5jb25zdCBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUyA9IFsndG91Y2hlbmQnLCAncG9pbnRlcnVwJywgJ21vdXNldXAnXTtcblxuLy8gVHJhY2tzIGFjdGl2YXRpb25zIHRoYXQgaGF2ZSBvY2N1cnJlZCBvbiB0aGUgY3VycmVudCBmcmFtZSwgdG8gYXZvaWQgc2ltdWx0YW5lb3VzIG5lc3RlZCBhY3RpdmF0aW9uc1xuLyoqIEB0eXBlIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gKi9cbmxldCBhY3RpdmF0ZWRUYXJnZXRzID0gW107XG5cbi8qKlxuICogQGV4dGVuZHMge01EQ0ZvdW5kYXRpb248IU1EQ1JpcHBsZUFkYXB0ZXI+fVxuICovXG5jbGFzcyBNRENSaXBwbGVGb3VuZGF0aW9uIGV4dGVuZHMgTURDRm91bmRhdGlvbiB7XG4gIHN0YXRpYyBnZXQgY3NzQ2xhc3NlcygpIHtcbiAgICByZXR1cm4gY3NzQ2xhc3NlcztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3RyaW5ncygpIHtcbiAgICByZXR1cm4gc3RyaW5ncztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgbnVtYmVycygpIHtcbiAgICByZXR1cm4gbnVtYmVycztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJyb3dzZXJTdXBwb3J0c0Nzc1ZhcnM6ICgpID0+IC8qIGJvb2xlYW4gLSBjYWNoZWQgKi8ge30sXG4gICAgICBpc1VuYm91bmRlZDogKCkgPT4gLyogYm9vbGVhbiAqLyB7fSxcbiAgICAgIGlzU3VyZmFjZUFjdGl2ZTogKCkgPT4gLyogYm9vbGVhbiAqLyB7fSxcbiAgICAgIGlzU3VyZmFjZURpc2FibGVkOiAoKSA9PiAvKiBib29sZWFuICovIHt9LFxuICAgICAgYWRkQ2xhc3M6ICgvKiBjbGFzc05hbWU6IHN0cmluZyAqLykgPT4ge30sXG4gICAgICByZW1vdmVDbGFzczogKC8qIGNsYXNzTmFtZTogc3RyaW5nICovKSA9PiB7fSxcbiAgICAgIGNvbnRhaW5zRXZlbnRUYXJnZXQ6ICgvKiB0YXJnZXQ6ICFFdmVudFRhcmdldCAqLykgPT4ge30sXG4gICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogKC8qIGV2dFR5cGU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICBkZXJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyOiAoLyogZXZ0VHlwZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIHJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXI6ICgvKiBldnRUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgKi8pID0+IHt9LFxuICAgICAgZGVyZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiAoLyogZXZ0VHlwZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlcjogKC8qIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgKi8pID0+IHt9LFxuICAgICAgZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXI6ICgvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIHVwZGF0ZUNzc1ZhcmlhYmxlOiAoLyogdmFyTmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nICovKSA9PiB7fSxcbiAgICAgIGNvbXB1dGVCb3VuZGluZ1JlY3Q6ICgpID0+IC8qIENsaWVudFJlY3QgKi8ge30sXG4gICAgICBnZXRXaW5kb3dQYWdlT2Zmc2V0OiAoKSA9PiAvKiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9ICovIHt9LFxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3RvcihhZGFwdGVyKSB7XG4gICAgc3VwZXIoT2JqZWN0LmFzc2lnbihNRENSaXBwbGVGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSk7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmxheW91dEZyYW1lXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUgeyFDbGllbnRSZWN0fSAqL1xuICAgIHRoaXMuZnJhbWVfID0gLyoqIEB0eXBlIHshQ2xpZW50UmVjdH0gKi8gKHt3aWR0aDogMCwgaGVpZ2h0OiAwfSk7XG5cbiAgICAvKiogQHByaXZhdGUgeyFBY3RpdmF0aW9uU3RhdGVUeXBlfSAqL1xuICAgIHRoaXMuYWN0aXZhdGlvblN0YXRlXyA9IHRoaXMuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZV8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMuaW5pdGlhbFNpemVfID0gMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7bnVtYmVyfSAqL1xuICAgIHRoaXMubWF4UmFkaXVzXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge2Z1bmN0aW9uKCFFdmVudCl9ICovXG4gICAgdGhpcy5hY3RpdmF0ZUhhbmRsZXJfID0gKGUpID0+IHRoaXMuYWN0aXZhdGVfKGUpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtmdW5jdGlvbighRXZlbnQpfSAqL1xuICAgIHRoaXMuZGVhY3RpdmF0ZUhhbmRsZXJfID0gKGUpID0+IHRoaXMuZGVhY3RpdmF0ZV8oZSk7XG5cbiAgICAvKiogQHByaXZhdGUge2Z1bmN0aW9uKD9FdmVudD0pfSAqL1xuICAgIHRoaXMuZm9jdXNIYW5kbGVyXyA9ICgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShcbiAgICAgICgpID0+IHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkJHX0ZPQ1VTRUQpXG4gICAgKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7ZnVuY3Rpb24oP0V2ZW50PSl9ICovXG4gICAgdGhpcy5ibHVySGFuZGxlcl8gPSAoKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXG4gICAgICAoKSA9PiB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5CR19GT0NVU0VEKVxuICAgICk7XG5cbiAgICAvKiogQHByaXZhdGUgeyFGdW5jdGlvbn0gKi9cbiAgICB0aGlzLnJlc2l6ZUhhbmRsZXJfID0gKCkgPT4gdGhpcy5sYXlvdXQoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7e2xlZnQ6IG51bWJlciwgdG9wOm51bWJlcn19ICovXG4gICAgdGhpcy51bmJvdW5kZWRDb29yZHNfID0ge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMCxcbiAgICB9O1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5mZ1NjYWxlXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmFjdGl2YXRpb25UaW1lcl8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuYWN0aXZhdGlvbkFuaW1hdGlvbkhhc0VuZGVkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHshRnVuY3Rpb259ICovXG4gICAgdGhpcy5hY3RpdmF0aW9uVGltZXJDYWxsYmFja18gPSAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8gPSB0cnVlO1xuICAgICAgdGhpcy5ydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeV8oKTtcbiAgICB9O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/RXZlbnR9ICovXG4gICAgdGhpcy5wcmV2aW91c0FjdGl2YXRpb25FdmVudF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdlIGNvbXB1dGUgdGhpcyBwcm9wZXJ0eSBzbyB0aGF0IHdlIGFyZSBub3QgcXVlcnlpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNsaWVudFxuICAgKiB1bnRpbCB0aGUgcG9pbnQgaW4gdGltZSB3aGVyZSB0aGUgZm91bmRhdGlvbiByZXF1ZXN0cyBpdC4gVGhpcyBwcmV2ZW50cyBzY2VuYXJpb3Mgd2hlcmVcbiAgICogY2xpZW50LXNpZGUgZmVhdHVyZS1kZXRlY3Rpb24gbWF5IGhhcHBlbiB0b28gZWFybHksIHN1Y2ggYXMgd2hlbiBjb21wb25lbnRzIGFyZSByZW5kZXJlZCBvbiB0aGUgc2VydmVyXG4gICAqIGFuZCB0aGVuIGluaXRpYWxpemVkIGF0IG1vdW50IHRpbWUgb24gdGhlIGNsaWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzU3VwcG9ydGVkXygpIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyXy5icm93c2VyU3VwcG9ydHNDc3NWYXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUFjdGl2YXRpb25TdGF0ZVR5cGV9XG4gICAqL1xuICBkZWZhdWx0QWN0aXZhdGlvblN0YXRlXygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBY3RpdmF0ZWQ6IGZhbHNlLFxuICAgICAgaGFzRGVhY3RpdmF0aW9uVVhSdW46IGZhbHNlLFxuICAgICAgd2FzQWN0aXZhdGVkQnlQb2ludGVyOiBmYWxzZSxcbiAgICAgIHdhc0VsZW1lbnRNYWRlQWN0aXZlOiBmYWxzZSxcbiAgICAgIGFjdGl2YXRpb25FdmVudDogbnVsbCxcbiAgICAgIGlzUHJvZ3JhbW1hdGljOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWRfKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWdpc3RlclJvb3RIYW5kbGVyc18oKTtcblxuICAgIGNvbnN0IHtST09ULCBVTkJPVU5ERUR9ID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKFJPT1QpO1xuICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKFVOQk9VTkRFRCk7XG4gICAgICAgIC8vIFVuYm91bmRlZCByaXBwbGVzIG5lZWQgbGF5b3V0IGxvZ2ljIGFwcGxpZWQgaW1tZWRpYXRlbHkgdG8gc2V0IGNvb3JkaW5hdGVzIGZvciBib3RoIHNoYWRlIGFuZCByaXBwbGVcbiAgICAgICAgdGhpcy5sYXlvdXRJbnRlcm5hbF8oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKCF0aGlzLmlzU3VwcG9ydGVkXygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZhdGlvblRpbWVyXykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGlvblRpbWVyXyk7XG4gICAgICB0aGlzLmFjdGl2YXRpb25UaW1lcl8gPSAwO1xuICAgICAgY29uc3Qge0ZHX0FDVElWQVRJT059ID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzO1xuICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhGR19BQ1RJVkFUSU9OKTtcbiAgICB9XG5cbiAgICB0aGlzLmRlcmVnaXN0ZXJSb290SGFuZGxlcnNfKCk7XG4gICAgdGhpcy5kZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKCk7XG5cbiAgICBjb25zdCB7Uk9PVCwgVU5CT1VOREVEfSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3NlcztcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhST09UKTtcbiAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoVU5CT1VOREVEKTtcbiAgICAgIHRoaXMucmVtb3ZlQ3NzVmFyc18oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICByZWdpc3RlclJvb3RIYW5kbGVyc18oKSB7XG4gICAgQUNUSVZBVElPTl9FVkVOVF9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKHR5cGUsIHRoaXMuYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgfSk7XG4gICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcl8pO1xuICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyXyk7XG5cbiAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVyUmVzaXplSGFuZGxlcih0aGlzLnJlc2l6ZUhhbmRsZXJfKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXZlbnR9IGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKGUpIHtcbiAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2tleXVwJywgdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBQT0lOVEVSX0RFQUNUSVZBVElPTl9FVkVOVF9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcih0eXBlLCB0aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgZGVyZWdpc3RlclJvb3RIYW5kbGVyc18oKSB7XG4gICAgQUNUSVZBVElPTl9FVkVOVF9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIodHlwZSwgdGhpcy5hY3RpdmF0ZUhhbmRsZXJfKTtcbiAgICB9KTtcbiAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXJfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyXyk7XG5cbiAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJSZXNpemVIYW5kbGVyKHRoaXMucmVzaXplSGFuZGxlcl8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBkZXJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKCkge1xuICAgIHRoaXMuYWRhcHRlcl8uZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcigna2V5dXAnLCB0aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXIodHlwZSwgdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJlbW92ZUNzc1ZhcnNfKCkge1xuICAgIGNvbnN0IHtzdHJpbmdzfSA9IE1EQ1JpcHBsZUZvdW5kYXRpb247XG4gICAgT2JqZWN0LmtleXMoc3RyaW5ncykuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgaWYgKGsuaW5kZXhPZignVkFSXycpID09PSAwKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoc3RyaW5nc1trXSwgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/RXZlbnR9IGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFjdGl2YXRlXyhlKSB7XG4gICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNTdXJmYWNlRGlzYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2YXRpb25TdGF0ZSA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXztcbiAgICBpZiAoYWN0aXZhdGlvblN0YXRlLmlzQWN0aXZhdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQXZvaWQgcmVhY3RpbmcgdG8gZm9sbG93LW9uIGV2ZW50cyBmaXJlZCBieSB0b3VjaCBkZXZpY2UgYWZ0ZXIgYW4gYWxyZWFkeS1wcm9jZXNzZWQgdXNlciBpbnRlcmFjdGlvblxuICAgIGNvbnN0IHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50ID0gdGhpcy5wcmV2aW91c0FjdGl2YXRpb25FdmVudF87XG4gICAgY29uc3QgaXNTYW1lSW50ZXJhY3Rpb24gPSBwcmV2aW91c0FjdGl2YXRpb25FdmVudCAmJiBlICYmIHByZXZpb3VzQWN0aXZhdGlvbkV2ZW50LnR5cGUgIT09IGUudHlwZTtcbiAgICBpZiAoaXNTYW1lSW50ZXJhY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3RpdmF0aW9uU3RhdGUuaXNBY3RpdmF0ZWQgPSB0cnVlO1xuICAgIGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYyA9IGUgPT09IG51bGw7XG4gICAgYWN0aXZhdGlvblN0YXRlLmFjdGl2YXRpb25FdmVudCA9IGU7XG4gICAgYWN0aXZhdGlvblN0YXRlLndhc0FjdGl2YXRlZEJ5UG9pbnRlciA9IGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYyA/IGZhbHNlIDogKFxuICAgICAgZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICdwb2ludGVyZG93bidcbiAgICApO1xuXG4gICAgY29uc3QgaGFzQWN0aXZhdGVkQ2hpbGQgPVxuICAgICAgZSAmJiBhY3RpdmF0ZWRUYXJnZXRzLmxlbmd0aCA+IDAgJiYgYWN0aXZhdGVkVGFyZ2V0cy5zb21lKCh0YXJnZXQpID0+IHRoaXMuYWRhcHRlcl8uY29udGFpbnNFdmVudFRhcmdldCh0YXJnZXQpKTtcbiAgICBpZiAoaGFzQWN0aXZhdGVkQ2hpbGQpIHtcbiAgICAgIC8vIEltbWVkaWF0ZWx5IHJlc2V0IGFjdGl2YXRpb24gc3RhdGUsIHdoaWxlIHByZXNlcnZpbmcgbG9naWMgdGhhdCBwcmV2ZW50cyB0b3VjaCBmb2xsb3ctb24gZXZlbnRzXG4gICAgICB0aGlzLnJlc2V0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlKSB7XG4gICAgICBhY3RpdmF0ZWRUYXJnZXRzLnB1c2goLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChlLnRhcmdldCkpO1xuICAgICAgdGhpcy5yZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzXyhlKTtcbiAgICB9XG5cbiAgICBhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmUgPSB0aGlzLmNoZWNrRWxlbWVudE1hZGVBY3RpdmVfKGUpO1xuICAgIGlmIChhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmUpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZUFjdGl2YXRpb25fKCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIC8vIFJlc2V0IGFycmF5IG9uIG5leHQgZnJhbWUgYWZ0ZXIgdGhlIGN1cnJlbnQgZXZlbnQgaGFzIGhhZCBhIGNoYW5jZSB0byBidWJibGUgdG8gcHJldmVudCBhbmNlc3RvciByaXBwbGVzXG4gICAgICBhY3RpdmF0ZWRUYXJnZXRzID0gW107XG5cbiAgICAgIGlmICghYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlICYmIChlLmtleSA9PT0gJyAnIHx8IGUua2V5Q29kZSA9PT0gMzIpKSB7XG4gICAgICAgIC8vIElmIHNwYWNlIHdhcyBwcmVzc2VkLCB0cnkgYWdhaW4gd2l0aGluIGFuIHJBRiBjYWxsIHRvIGRldGVjdCA6YWN0aXZlLCBiZWNhdXNlIGRpZmZlcmVudCBVQXMgcmVwb3J0XG4gICAgICAgIC8vIGFjdGl2ZSBzdGF0ZXMgaW5jb25zaXN0ZW50bHkgd2hlbiB0aGV5J3JlIGNhbGxlZCB3aXRoaW4gZXZlbnQgaGFuZGxpbmcgY29kZTpcbiAgICAgICAgLy8gLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MzU5NzFcbiAgICAgICAgLy8gLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjkzNzQxXG4gICAgICAgIC8vIFdlIHRyeSBmaXJzdCBvdXRzaWRlIHJBRiB0byBzdXBwb3J0IEVkZ2UsIHdoaWNoIGRvZXMgbm90IGV4aGliaXQgdGhpcyBwcm9ibGVtLCBidXQgd2lsbCBjcmFzaCBpZiBhIENTU1xuICAgICAgICAvLyB2YXJpYWJsZSBpcyBzZXQgd2l0aGluIGEgckFGIGNhbGxiYWNrIGZvciBhIHN1Ym1pdCBidXR0b24gaW50ZXJhY3Rpb24gKCMyMjQxKS5cbiAgICAgICAgYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlID0gdGhpcy5jaGVja0VsZW1lbnRNYWRlQWN0aXZlXyhlKTtcbiAgICAgICAgaWYgKGFjdGl2YXRpb25TdGF0ZS53YXNFbGVtZW50TWFkZUFjdGl2ZSkge1xuICAgICAgICAgIHRoaXMuYW5pbWF0ZUFjdGl2YXRpb25fKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmUpIHtcbiAgICAgICAgLy8gUmVzZXQgYWN0aXZhdGlvbiBzdGF0ZSBpbW1lZGlhdGVseSBpZiBlbGVtZW50IHdhcyBub3QgbWFkZSBhY3RpdmUuXG4gICAgICAgIHRoaXMuYWN0aXZhdGlvblN0YXRlXyA9IHRoaXMuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZV8oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9FdmVudH0gZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2hlY2tFbGVtZW50TWFkZUFjdGl2ZV8oZSkge1xuICAgIHJldHVybiAoZSAmJiBlLnR5cGUgPT09ICdrZXlkb3duJykgPyB0aGlzLmFkYXB0ZXJfLmlzU3VyZmFjZUFjdGl2ZSgpIDogdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9FdmVudD19IGV2ZW50IE9wdGlvbmFsIGV2ZW50IGNvbnRhaW5pbmcgcG9zaXRpb24gaW5mb3JtYXRpb24uXG4gICAqL1xuICBhY3RpdmF0ZShldmVudCA9IG51bGwpIHtcbiAgICB0aGlzLmFjdGl2YXRlXyhldmVudCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgYW5pbWF0ZUFjdGl2YXRpb25fKCkge1xuICAgIGNvbnN0IHtWQVJfRkdfVFJBTlNMQVRFX1NUQVJULCBWQVJfRkdfVFJBTlNMQVRFX0VORH0gPSBNRENSaXBwbGVGb3VuZGF0aW9uLnN0cmluZ3M7XG4gICAgY29uc3Qge0ZHX0RFQUNUSVZBVElPTiwgRkdfQUNUSVZBVElPTn0gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXM7XG4gICAgY29uc3Qge0RFQUNUSVZBVElPTl9USU1FT1VUX01TfSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24ubnVtYmVycztcblxuICAgIHRoaXMubGF5b3V0SW50ZXJuYWxfKCk7XG5cbiAgICBsZXQgdHJhbnNsYXRlU3RhcnQgPSAnJztcbiAgICBsZXQgdHJhbnNsYXRlRW5kID0gJyc7XG5cbiAgICBpZiAoIXRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgY29uc3Qge3N0YXJ0UG9pbnQsIGVuZFBvaW50fSA9IHRoaXMuZ2V0RmdUcmFuc2xhdGlvbkNvb3JkaW5hdGVzXygpO1xuICAgICAgdHJhbnNsYXRlU3RhcnQgPSBgJHtzdGFydFBvaW50Lnh9cHgsICR7c3RhcnRQb2ludC55fXB4YDtcbiAgICAgIHRyYW5zbGF0ZUVuZCA9IGAke2VuZFBvaW50Lnh9cHgsICR7ZW5kUG9pbnQueX1weGA7XG4gICAgfVxuXG4gICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfVFJBTlNMQVRFX1NUQVJULCB0cmFuc2xhdGVTdGFydCk7XG4gICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfVFJBTlNMQVRFX0VORCwgdHJhbnNsYXRlRW5kKTtcbiAgICAvLyBDYW5jZWwgYW55IG9uZ29pbmcgYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gYW5pbWF0aW9uc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpb25UaW1lcl8pO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyk7XG4gICAgdGhpcy5ybUJvdW5kZWRBY3RpdmF0aW9uQ2xhc3Nlc18oKTtcbiAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEZHX0RFQUNUSVZBVElPTik7XG5cbiAgICAvLyBGb3JjZSBsYXlvdXQgaW4gb3JkZXIgdG8gcmUtdHJpZ2dlciB0aGUgYW5pbWF0aW9uLlxuICAgIHRoaXMuYWRhcHRlcl8uY29tcHV0ZUJvdW5kaW5nUmVjdCgpO1xuICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoRkdfQUNUSVZBVElPTik7XG4gICAgdGhpcy5hY3RpdmF0aW9uVGltZXJfID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmFjdGl2YXRpb25UaW1lckNhbGxiYWNrXygpLCBERUFDVElWQVRJT05fVElNRU9VVF9NUyk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7e3N0YXJ0UG9pbnQ6IFBvaW50VHlwZSwgZW5kUG9pbnQ6IFBvaW50VHlwZX19XG4gICAqL1xuICBnZXRGZ1RyYW5zbGF0aW9uQ29vcmRpbmF0ZXNfKCkge1xuICAgIGNvbnN0IHthY3RpdmF0aW9uRXZlbnQsIHdhc0FjdGl2YXRlZEJ5UG9pbnRlcn0gPSB0aGlzLmFjdGl2YXRpb25TdGF0ZV87XG5cbiAgICBsZXQgc3RhcnRQb2ludDtcbiAgICBpZiAod2FzQWN0aXZhdGVkQnlQb2ludGVyKSB7XG4gICAgICBzdGFydFBvaW50ID0gZ2V0Tm9ybWFsaXplZEV2ZW50Q29vcmRzKFxuICAgICAgICAvKiogQHR5cGUgeyFFdmVudH0gKi8gKGFjdGl2YXRpb25FdmVudCksXG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZ2V0V2luZG93UGFnZU9mZnNldCgpLCB0aGlzLmFkYXB0ZXJfLmNvbXB1dGVCb3VuZGluZ1JlY3QoKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRQb2ludCA9IHtcbiAgICAgICAgeDogdGhpcy5mcmFtZV8ud2lkdGggLyAyLFxuICAgICAgICB5OiB0aGlzLmZyYW1lXy5oZWlnaHQgLyAyLFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ2VudGVyIHRoZSBlbGVtZW50IGFyb3VuZCB0aGUgc3RhcnQgcG9pbnQuXG4gICAgc3RhcnRQb2ludCA9IHtcbiAgICAgIHg6IHN0YXJ0UG9pbnQueCAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpLFxuICAgICAgeTogc3RhcnRQb2ludC55IC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMiksXG4gICAgfTtcblxuICAgIGNvbnN0IGVuZFBvaW50ID0ge1xuICAgICAgeDogKHRoaXMuZnJhbWVfLndpZHRoIC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZV8gLyAyKSxcbiAgICAgIHk6ICh0aGlzLmZyYW1lXy5oZWlnaHQgLyAyKSAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpLFxuICAgIH07XG5cbiAgICByZXR1cm4ge3N0YXJ0UG9pbnQsIGVuZFBvaW50fTtcbiAgfVxuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeV8oKSB7XG4gICAgLy8gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJvdGggd2hlbiBhIHBvaW50aW5nIGRldmljZSBpcyByZWxlYXNlZCwgYW5kIHdoZW4gdGhlIGFjdGl2YXRpb24gYW5pbWF0aW9uIGVuZHMuXG4gICAgLy8gVGhlIGRlYWN0aXZhdGlvbiBhbmltYXRpb24gc2hvdWxkIG9ubHkgcnVuIGFmdGVyIGJvdGggb2YgdGhvc2Ugb2NjdXIuXG4gICAgY29uc3Qge0ZHX0RFQUNUSVZBVElPTn0gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXM7XG4gICAgY29uc3Qge2hhc0RlYWN0aXZhdGlvblVYUnVuLCBpc0FjdGl2YXRlZH0gPSB0aGlzLmFjdGl2YXRpb25TdGF0ZV87XG4gICAgY29uc3QgYWN0aXZhdGlvbkhhc0VuZGVkID0gaGFzRGVhY3RpdmF0aW9uVVhSdW4gfHwgIWlzQWN0aXZhdGVkO1xuXG4gICAgaWYgKGFjdGl2YXRpb25IYXNFbmRlZCAmJiB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8pIHtcbiAgICAgIHRoaXMucm1Cb3VuZGVkQWN0aXZhdGlvbkNsYXNzZXNfKCk7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICB0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEZHX0RFQUNUSVZBVElPTik7XG4gICAgICB9LCBudW1iZXJzLkZHX0RFQUNUSVZBVElPTl9NUyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHJtQm91bmRlZEFjdGl2YXRpb25DbGFzc2VzXygpIHtcbiAgICBjb25zdCB7RkdfQUNUSVZBVElPTn0gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXM7XG4gICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhGR19BQ1RJVkFUSU9OKTtcbiAgICB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8gPSBmYWxzZTtcbiAgICB0aGlzLmFkYXB0ZXJfLmNvbXB1dGVCb3VuZGluZ1JlY3QoKTtcbiAgfVxuXG4gIHJlc2V0QWN0aXZhdGlvblN0YXRlXygpIHtcbiAgICB0aGlzLnByZXZpb3VzQWN0aXZhdGlvbkV2ZW50XyA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXy5hY3RpdmF0aW9uRXZlbnQ7XG4gICAgdGhpcy5hY3RpdmF0aW9uU3RhdGVfID0gdGhpcy5kZWZhdWx0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgIC8vIFRvdWNoIGRldmljZXMgbWF5IGZpcmUgYWRkaXRpb25hbCBldmVudHMgZm9yIHRoZSBzYW1lIGludGVyYWN0aW9uIHdpdGhpbiBhIHNob3J0IHRpbWUuXG4gICAgLy8gU3RvcmUgdGhlIHByZXZpb3VzIGV2ZW50IHVudGlsIGl0J3Mgc2FmZSB0byBhc3N1bWUgdGhhdCBzdWJzZXF1ZW50IGV2ZW50cyBhcmUgZm9yIG5ldyBpbnRlcmFjdGlvbnMuXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnByZXZpb3VzQWN0aXZhdGlvbkV2ZW50XyA9IG51bGwsIE1EQ1JpcHBsZUZvdW5kYXRpb24ubnVtYmVycy5UQVBfREVMQVlfTVMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7P0V2ZW50fSBlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWFjdGl2YXRlXyhlKSB7XG4gICAgY29uc3QgYWN0aXZhdGlvblN0YXRlID0gdGhpcy5hY3RpdmF0aW9uU3RhdGVfO1xuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpbiBzY2VuYXJpb3Mgc3VjaCBhcyB3aGVuIHlvdSBoYXZlIGEga2V5dXAgZXZlbnQgdGhhdCBibHVycyB0aGUgZWxlbWVudC5cbiAgICBpZiAoIWFjdGl2YXRpb25TdGF0ZS5pc0FjdGl2YXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gLyoqIEB0eXBlIHshQWN0aXZhdGlvblN0YXRlVHlwZX0gKi8gKE9iamVjdC5hc3NpZ24oe30sIGFjdGl2YXRpb25TdGF0ZSkpO1xuXG4gICAgaWYgKGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYykge1xuICAgICAgY29uc3QgZXZ0T2JqZWN0ID0gbnVsbDtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFuaW1hdGVEZWFjdGl2YXRpb25fKGV2dE9iamVjdCwgc3RhdGUpKTtcbiAgICAgIHRoaXMucmVzZXRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVyZWdpc3RlckRlYWN0aXZhdGlvbkhhbmRsZXJzXygpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5hY3RpdmF0aW9uU3RhdGVfLmhhc0RlYWN0aXZhdGlvblVYUnVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbmltYXRlRGVhY3RpdmF0aW9uXyhlLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMucmVzZXRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/RXZlbnQ9fSBldmVudCBPcHRpb25hbCBldmVudCBjb250YWluaW5nIHBvc2l0aW9uIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgZGVhY3RpdmF0ZShldmVudCA9IG51bGwpIHtcbiAgICB0aGlzLmRlYWN0aXZhdGVfKGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqIEBwYXJhbSB7IUFjdGl2YXRpb25TdGF0ZVR5cGV9IG9wdGlvbnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFuaW1hdGVEZWFjdGl2YXRpb25fKGUsIHt3YXNBY3RpdmF0ZWRCeVBvaW50ZXIsIHdhc0VsZW1lbnRNYWRlQWN0aXZlfSkge1xuICAgIGlmICh3YXNBY3RpdmF0ZWRCeVBvaW50ZXIgfHwgd2FzRWxlbWVudE1hZGVBY3RpdmUpIHtcbiAgICAgIHRoaXMucnVuRGVhY3RpdmF0aW9uVVhMb2dpY0lmUmVhZHlfKCk7XG4gICAgfVxuICB9XG5cbiAgbGF5b3V0KCkge1xuICAgIGlmICh0aGlzLmxheW91dEZyYW1lXykge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5sYXlvdXRGcmFtZV8pO1xuICAgIH1cbiAgICB0aGlzLmxheW91dEZyYW1lXyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLmxheW91dEludGVybmFsXygpO1xuICAgICAgdGhpcy5sYXlvdXRGcmFtZV8gPSAwO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGxheW91dEludGVybmFsXygpIHtcbiAgICB0aGlzLmZyYW1lXyA9IHRoaXMuYWRhcHRlcl8uY29tcHV0ZUJvdW5kaW5nUmVjdCgpO1xuICAgIGNvbnN0IG1heERpbSA9IE1hdGgubWF4KHRoaXMuZnJhbWVfLmhlaWdodCwgdGhpcy5mcmFtZV8ud2lkdGgpO1xuXG4gICAgLy8gU3VyZmFjZSBkaWFtZXRlciBpcyB0cmVhdGVkIGRpZmZlcmVudGx5IGZvciB1bmJvdW5kZWQgdnMuIGJvdW5kZWQgcmlwcGxlcy5cbiAgICAvLyBVbmJvdW5kZWQgcmlwcGxlIGRpYW1ldGVyIGlzIGNhbGN1bGF0ZWQgc21hbGxlciBzaW5jZSB0aGUgc3VyZmFjZSBpcyBleHBlY3RlZCB0byBhbHJlYWR5IGJlIHBhZGRlZCBhcHByb3ByaWF0ZWx5XG4gICAgLy8gdG8gZXh0ZW5kIHRoZSBoaXRib3gsIGFuZCB0aGUgcmlwcGxlIGlzIGV4cGVjdGVkIHRvIG1lZXQgdGhlIGVkZ2VzIG9mIHRoZSBwYWRkZWQgaGl0Ym94ICh3aGljaCBpcyB0eXBpY2FsbHlcbiAgICAvLyBzcXVhcmUpLiBCb3VuZGVkIHJpcHBsZXMsIG9uIHRoZSBvdGhlciBoYW5kLCBhcmUgZnVsbHkgZXhwZWN0ZWQgdG8gZXhwYW5kIGJleW9uZCB0aGUgc3VyZmFjZSdzIGxvbmdlc3QgZGlhbWV0ZXJcbiAgICAvLyAoY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgZGlhZ29uYWwgcGx1cyBhIGNvbnN0YW50IHBhZGRpbmcpLCBhbmQgYXJlIGNsaXBwZWQgYXQgdGhlIHN1cmZhY2UncyBib3JkZXIgdmlhXG4gICAgLy8gYG92ZXJmbG93OiBoaWRkZW5gLlxuICAgIGNvbnN0IGdldEJvdW5kZWRSYWRpdXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBoeXBvdGVudXNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMuZnJhbWVfLndpZHRoLCAyKSArIE1hdGgucG93KHRoaXMuZnJhbWVfLmhlaWdodCwgMikpO1xuICAgICAgcmV0dXJuIGh5cG90ZW51c2UgKyBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuUEFERElORztcbiAgICB9O1xuXG4gICAgdGhpcy5tYXhSYWRpdXNfID0gdGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpID8gbWF4RGltIDogZ2V0Qm91bmRlZFJhZGl1cygpO1xuXG4gICAgLy8gUmlwcGxlIGlzIHNpemVkIGFzIGEgZnJhY3Rpb24gb2YgdGhlIGxhcmdlc3QgZGltZW5zaW9uIG9mIHRoZSBzdXJmYWNlLCB0aGVuIHNjYWxlcyB1cCB1c2luZyBhIENTUyBzY2FsZSB0cmFuc2Zvcm1cbiAgICB0aGlzLmluaXRpYWxTaXplXyA9IG1heERpbSAqIE1EQ1JpcHBsZUZvdW5kYXRpb24ubnVtYmVycy5JTklUSUFMX09SSUdJTl9TQ0FMRTtcbiAgICB0aGlzLmZnU2NhbGVfID0gdGhpcy5tYXhSYWRpdXNfIC8gdGhpcy5pbml0aWFsU2l6ZV87XG5cbiAgICB0aGlzLnVwZGF0ZUxheW91dENzc1ZhcnNfKCk7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgdXBkYXRlTGF5b3V0Q3NzVmFyc18oKSB7XG4gICAgY29uc3Qge1xuICAgICAgVkFSX0ZHX1NJWkUsIFZBUl9MRUZULCBWQVJfVE9QLCBWQVJfRkdfU0NBTEUsXG4gICAgfSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uc3RyaW5ncztcblxuICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX0ZHX1NJWkUsIGAke3RoaXMuaW5pdGlhbFNpemVffXB4YCk7XG4gICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfU0NBTEUsIHRoaXMuZmdTY2FsZV8pO1xuXG4gICAgaWYgKHRoaXMuYWRhcHRlcl8uaXNVbmJvdW5kZWQoKSkge1xuICAgICAgdGhpcy51bmJvdW5kZWRDb29yZHNfID0ge1xuICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKCh0aGlzLmZyYW1lXy53aWR0aCAvIDIpIC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMikpLFxuICAgICAgICB0b3A6IE1hdGgucm91bmQoKHRoaXMuZnJhbWVfLmhlaWdodCAvIDIpIC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMikpLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfTEVGVCwgYCR7dGhpcy51bmJvdW5kZWRDb29yZHNfLmxlZnR9cHhgKTtcbiAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX1RPUCwgYCR7dGhpcy51bmJvdW5kZWRDb29yZHNfLnRvcH1weGApO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAcGFyYW0ge2Jvb2xlYW59IHVuYm91bmRlZCAqL1xuICBzZXRVbmJvdW5kZWQodW5ib3VuZGVkKSB7XG4gICAgY29uc3Qge1VOQk9VTkRFRH0gPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXM7XG4gICAgaWYgKHVuYm91bmRlZCkge1xuICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhVTkJPVU5ERUQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKFVOQk9VTkRFRCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1EQ1JpcHBsZUZvdW5kYXRpb247XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IE1EQ0NvbXBvbmVudCBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IE1EQ1JpcHBsZUFkYXB0ZXIgZnJvbSAnLi9hZGFwdGVyJztcbmltcG9ydCBNRENSaXBwbGVGb3VuZGF0aW9uIGZyb20gJy4vZm91bmRhdGlvbic7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQGV4dGVuZHMgTURDQ29tcG9uZW50PCFNRENSaXBwbGVGb3VuZGF0aW9uPlxuICovXG5jbGFzcyBNRENSaXBwbGUgZXh0ZW5kcyBNRENDb21wb25lbnQge1xuICAvKiogQHBhcmFtIHsuLi4/fSBhcmdzICovXG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy51bmJvdW5kZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RcbiAgICogQHBhcmFtIHt7aXNVbmJvdW5kZWQ6IChib29sZWFufHVuZGVmaW5lZCl9PX0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHshTURDUmlwcGxlfVxuICAgKi9cbiAgc3RhdGljIGF0dGFjaFRvKHJvb3QsIHtpc1VuYm91bmRlZCA9IHVuZGVmaW5lZH0gPSB7fSkge1xuICAgIGNvbnN0IHJpcHBsZSA9IG5ldyBNRENSaXBwbGUocm9vdCk7XG4gICAgLy8gT25seSBvdmVycmlkZSB1bmJvdW5kZWQgYmVoYXZpb3IgaWYgb3B0aW9uIGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkXG4gICAgaWYgKGlzVW5ib3VuZGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJpcHBsZS51bmJvdW5kZWQgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpc1VuYm91bmRlZCk7XG4gICAgfVxuICAgIHJldHVybiByaXBwbGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUmlwcGxlQ2FwYWJsZVN1cmZhY2V9IGluc3RhbmNlXG4gICAqIEByZXR1cm4geyFNRENSaXBwbGVBZGFwdGVyfVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUFkYXB0ZXIoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBNQVRDSEVTID0gdXRpbC5nZXRNYXRjaGVzUHJvcGVydHkoSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBicm93c2VyU3VwcG9ydHNDc3NWYXJzOiAoKSA9PiB1dGlsLnN1cHBvcnRzQ3NzVmFyaWFibGVzKHdpbmRvdyksXG4gICAgICBpc1VuYm91bmRlZDogKCkgPT4gaW5zdGFuY2UudW5ib3VuZGVkLFxuICAgICAgaXNTdXJmYWNlQWN0aXZlOiAoKSA9PiBpbnN0YW5jZS5yb290X1tNQVRDSEVTXSgnOmFjdGl2ZScpLFxuICAgICAgaXNTdXJmYWNlRGlzYWJsZWQ6ICgpID0+IGluc3RhbmNlLmRpc2FibGVkLFxuICAgICAgYWRkQ2xhc3M6IChjbGFzc05hbWUpID0+IGluc3RhbmNlLnJvb3RfLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKSxcbiAgICAgIHJlbW92ZUNsYXNzOiAoY2xhc3NOYW1lKSA9PiBpbnN0YW5jZS5yb290Xy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSksXG4gICAgICBjb250YWluc0V2ZW50VGFyZ2V0OiAodGFyZ2V0KSA9PiBpbnN0YW5jZS5yb290Xy5jb250YWlucyh0YXJnZXQpLFxuICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IChldnRUeXBlLCBoYW5kbGVyKSA9PlxuICAgICAgICBpbnN0YW5jZS5yb290Xy5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIHV0aWwuYXBwbHlQYXNzaXZlKCkpLFxuICAgICAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogKGV2dFR5cGUsIGhhbmRsZXIpID0+XG4gICAgICAgIGluc3RhbmNlLnJvb3RfLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgdXRpbC5hcHBseVBhc3NpdmUoKSksXG4gICAgICByZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiAoZXZ0VHlwZSwgaGFuZGxlcikgPT5cbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgdXRpbC5hcHBseVBhc3NpdmUoKSksXG4gICAgICBkZXJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXI6IChldnRUeXBlLCBoYW5kbGVyKSA9PlxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCB1dGlsLmFwcGx5UGFzc2l2ZSgpKSxcbiAgICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlcjogKGhhbmRsZXIpID0+IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVyKSxcbiAgICAgIGRlcmVnaXN0ZXJSZXNpemVIYW5kbGVyOiAoaGFuZGxlcikgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIpLFxuICAgICAgdXBkYXRlQ3NzVmFyaWFibGU6ICh2YXJOYW1lLCB2YWx1ZSkgPT4gaW5zdGFuY2Uucm9vdF8uc3R5bGUuc2V0UHJvcGVydHkodmFyTmFtZSwgdmFsdWUpLFxuICAgICAgY29tcHV0ZUJvdW5kaW5nUmVjdDogKCkgPT4gaW5zdGFuY2Uucm9vdF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBnZXRXaW5kb3dQYWdlT2Zmc2V0OiAoKSA9PiAoe3g6IHdpbmRvdy5wYWdlWE9mZnNldCwgeTogd2luZG93LnBhZ2VZT2Zmc2V0fSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJuIHtib29sZWFufSAqL1xuICBnZXQgdW5ib3VuZGVkKCkge1xuICAgIHJldHVybiB0aGlzLnVuYm91bmRlZF87XG4gIH1cblxuICAvKiogQHBhcmFtIHtib29sZWFufSB1bmJvdW5kZWQgKi9cbiAgc2V0IHVuYm91bmRlZCh1bmJvdW5kZWQpIHtcbiAgICB0aGlzLnVuYm91bmRlZF8gPSBCb29sZWFuKHVuYm91bmRlZCk7XG4gICAgdGhpcy5zZXRVbmJvdW5kZWRfKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc3VyZSBDb21waWxlciB0aHJvd3MgYW4gYWNjZXNzIGNvbnRyb2wgZXJyb3Igd2hlbiBkaXJlY3RseSBhY2Nlc3NpbmcgYVxuICAgKiBwcm90ZWN0ZWQgb3IgcHJpdmF0ZSBwcm9wZXJ0eSBpbnNpZGUgYSBnZXR0ZXIvc2V0dGVyLCBsaWtlIHVuYm91bmRlZCBhYm92ZS5cbiAgICogQnkgYWNjZXNzaW5nIHRoZSBwcm90ZWN0ZWQgcHJvcGVydHkgaW5zaWRlIGEgbWV0aG9kLCB3ZSBzb2x2ZSB0aGF0IHByb2JsZW0uXG4gICAqIFRoYXQncyB3aHkgdGhpcyBmdW5jdGlvbiBleGlzdHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRVbmJvdW5kZWRfKCkge1xuICAgIHRoaXMuZm91bmRhdGlvbl8uc2V0VW5ib3VuZGVkKHRoaXMudW5ib3VuZGVkXyk7XG4gIH1cblxuICBhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLmFjdGl2YXRlKCk7XG4gIH1cblxuICBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMuZm91bmRhdGlvbl8uZGVhY3RpdmF0ZSgpO1xuICB9XG5cbiAgbGF5b3V0KCkge1xuICAgIHRoaXMuZm91bmRhdGlvbl8ubGF5b3V0KCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IU1EQ1JpcHBsZUZvdW5kYXRpb259ICovXG4gIGdldERlZmF1bHRGb3VuZGF0aW9uKCkge1xuICAgIHJldHVybiBuZXcgTURDUmlwcGxlRm91bmRhdGlvbihNRENSaXBwbGUuY3JlYXRlQWRhcHRlcih0aGlzKSk7XG4gIH1cblxuICBpbml0aWFsU3luY1dpdGhET00oKSB7XG4gICAgdGhpcy51bmJvdW5kZWQgPSAnbWRjUmlwcGxlSXNVbmJvdW5kZWQnIGluIHRoaXMucm9vdF8uZGF0YXNldDtcbiAgfVxufVxuXG4vKipcbiAqIFNlZSBNYXRlcmlhbCBEZXNpZ24gc3BlYyBmb3IgbW9yZSBkZXRhaWxzIG9uIHdoZW4gdG8gdXNlIHJpcHBsZXMuXG4gKiBodHRwczovL21hdGVyaWFsLmlvL2d1aWRlbGluZXMvbW90aW9uL2Nob3Jlb2dyYXBoeS5odG1sI2Nob3Jlb2dyYXBoeS1jcmVhdGlvblxuICogQHJlY29yZFxuICovXG5jbGFzcyBSaXBwbGVDYXBhYmxlU3VyZmFjZSB7fVxuXG4vKiogQHByb3RlY3RlZCB7IUVsZW1lbnR9ICovXG5SaXBwbGVDYXBhYmxlU3VyZmFjZS5wcm90b3R5cGUucm9vdF87XG5cbi8qKlxuICogV2hldGhlciBvciBub3QgdGhlIHJpcHBsZSBibGVlZHMgb3V0IG9mIHRoZSBib3VuZHMgb2YgdGhlIGVsZW1lbnQuXG4gKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKi9cblJpcHBsZUNhcGFibGVTdXJmYWNlLnByb3RvdHlwZS51bmJvdW5kZWQ7XG5cbi8qKlxuICogV2hldGhlciBvciBub3QgdGhlIHJpcHBsZSBpcyBhdHRhY2hlZCB0byBhIGRpc2FibGVkIGNvbXBvbmVudC5cbiAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAqL1xuUmlwcGxlQ2FwYWJsZVN1cmZhY2UucHJvdG90eXBlLmRpc2FibGVkO1xuXG5leHBvcnQge01EQ1JpcHBsZSwgTURDUmlwcGxlRm91bmRhdGlvbiwgUmlwcGxlQ2FwYWJsZVN1cmZhY2UsIHV0aWx9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogU3RvcmVzIHJlc3VsdCBmcm9tIHN1cHBvcnRzQ3NzVmFyaWFibGVzIHRvIGF2b2lkIHJlZHVuZGFudCBwcm9jZXNzaW5nIHRvIGRldGVjdCBDU1MgY3VzdG9tIHZhcmlhYmxlIHN1cHBvcnQuXG4gKiBAcHJpdmF0ZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKi9cbmxldCBzdXBwb3J0c0Nzc1ZhcmlhYmxlc187XG5cbi8qKlxuICogU3RvcmVzIHJlc3VsdCBmcm9tIGFwcGx5UGFzc2l2ZSB0byBhdm9pZCByZWR1bmRhbnQgcHJvY2Vzc2luZyB0byBkZXRlY3QgcGFzc2l2ZSBldmVudCBsaXN0ZW5lciBzdXBwb3J0LlxuICogQHByaXZhdGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICovXG5sZXQgc3VwcG9ydHNQYXNzaXZlXztcblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpbmRvd09ialxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0RWRnZVBzZXVkb1ZhckJ1Zyh3aW5kb3dPYmopIHtcbiAgLy8gRGV0ZWN0IHZlcnNpb25zIG9mIEVkZ2Ugd2l0aCBidWdneSB2YXIoKSBzdXBwb3J0XG4gIC8vIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTE0OTU0NDgvXG4gIGNvbnN0IGRvY3VtZW50ID0gd2luZG93T2JqLmRvY3VtZW50O1xuICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vZGUuY2xhc3NOYW1lID0gJ21kYy1yaXBwbGUtc3VyZmFjZS0tdGVzdC1lZGdlLXZhci1idWcnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gIC8vIFRoZSBidWcgZXhpc3RzIGlmIDo6YmVmb3JlIHN0eWxlIGVuZHMgdXAgcHJvcGFnYXRpbmcgdG8gdGhlIHBhcmVudCBlbGVtZW50LlxuICAvLyBBZGRpdGlvbmFsbHksIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBudWxsIGluIGlmcmFtZXMgd2l0aCBkaXNwbGF5OiBcIm5vbmVcIiBpbiBGaXJlZm94LFxuICAvLyBidXQgRmlyZWZveCBpcyBrbm93biB0byBzdXBwb3J0IENTUyBjdXN0b20gcHJvcGVydGllcyBjb3JyZWN0bHkuXG4gIC8vIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3dPYmouZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgY29uc3QgaGFzUHNldWRvVmFyQnVnID0gY29tcHV0ZWRTdHlsZSAhPT0gbnVsbCAmJiBjb21wdXRlZFN0eWxlLmJvcmRlclRvcFN0eWxlID09PSAnc29saWQnO1xuICBub2RlLnJlbW92ZSgpO1xuICByZXR1cm4gaGFzUHNldWRvVmFyQnVnO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luZG93T2JqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBmb3JjZVJlZnJlc2hcbiAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfVxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzQ3NzVmFyaWFibGVzKHdpbmRvd09iaiwgZm9yY2VSZWZyZXNoID0gZmFsc2UpIHtcbiAgbGV0IHN1cHBvcnRzQ3NzVmFyaWFibGVzID0gc3VwcG9ydHNDc3NWYXJpYWJsZXNfO1xuICBpZiAodHlwZW9mIHN1cHBvcnRzQ3NzVmFyaWFibGVzXyA9PT0gJ2Jvb2xlYW4nICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICByZXR1cm4gc3VwcG9ydHNDc3NWYXJpYWJsZXM7XG4gIH1cblxuICBjb25zdCBzdXBwb3J0c0Z1bmN0aW9uUHJlc2VudCA9IHdpbmRvd09iai5DU1MgJiYgdHlwZW9mIHdpbmRvd09iai5DU1Muc3VwcG9ydHMgPT09ICdmdW5jdGlvbic7XG4gIGlmICghc3VwcG9ydHNGdW5jdGlvblByZXNlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBleHBsaWNpdGx5U3VwcG9ydHNDc3NWYXJzID0gd2luZG93T2JqLkNTUy5zdXBwb3J0cygnLS1jc3MtdmFycycsICd5ZXMnKTtcbiAgLy8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU0NjY5XG4gIC8vIFNlZTogUkVBRE1FIHNlY3Rpb24gb24gU2FmYXJpXG4gIGNvbnN0IHdlQXJlRmVhdHVyZURldGVjdGluZ1NhZmFyaTEwcGx1cyA9IChcbiAgICB3aW5kb3dPYmouQ1NTLnN1cHBvcnRzKCcoLS1jc3MtdmFyczogeWVzKScpICYmXG4gICAgd2luZG93T2JqLkNTUy5zdXBwb3J0cygnY29sb3InLCAnIzAwMDAwMDAwJylcbiAgKTtcblxuICBpZiAoZXhwbGljaXRseVN1cHBvcnRzQ3NzVmFycyB8fCB3ZUFyZUZlYXR1cmVEZXRlY3RpbmdTYWZhcmkxMHBsdXMpIHtcbiAgICBzdXBwb3J0c0Nzc1ZhcmlhYmxlcyA9ICFkZXRlY3RFZGdlUHNldWRvVmFyQnVnKHdpbmRvd09iaik7XG4gIH0gZWxzZSB7XG4gICAgc3VwcG9ydHNDc3NWYXJpYWJsZXMgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICghZm9yY2VSZWZyZXNoKSB7XG4gICAgc3VwcG9ydHNDc3NWYXJpYWJsZXNfID0gc3VwcG9ydHNDc3NWYXJpYWJsZXM7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRzQ3NzVmFyaWFibGVzO1xufVxuXG4vL1xuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzLCBhbmQgaWYgc28sIHVzZSB0aGVtLlxuICogQHBhcmFtIHshV2luZG93PX0gZ2xvYmFsT2JqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBmb3JjZVJlZnJlc2hcbiAqIEByZXR1cm4ge2Jvb2xlYW58e3Bhc3NpdmU6IGJvb2xlYW59fVxuICovXG5mdW5jdGlvbiBhcHBseVBhc3NpdmUoZ2xvYmFsT2JqID0gd2luZG93LCBmb3JjZVJlZnJlc2ggPSBmYWxzZSkge1xuICBpZiAoc3VwcG9ydHNQYXNzaXZlXyA9PT0gdW5kZWZpbmVkIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgIGxldCBpc1N1cHBvcnRlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBnbG9iYWxPYmouZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIHtnZXQgcGFzc2l2ZSgpIHtcbiAgICAgICAgaXNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgfX0pO1xuICAgIH0gY2F0Y2ggKGUpIHsgfVxuXG4gICAgc3VwcG9ydHNQYXNzaXZlXyA9IGlzU3VwcG9ydGVkO1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZV8gPyB7cGFzc2l2ZTogdHJ1ZX0gOiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IEhUTUxFbGVtZW50UHJvdG90eXBlXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hlc1Byb3BlcnR5KEhUTUxFbGVtZW50UHJvdG90eXBlKSB7XG4gIHJldHVybiBbXG4gICAgJ3dlYmtpdE1hdGNoZXNTZWxlY3RvcicsICdtc01hdGNoZXNTZWxlY3RvcicsICdtYXRjaGVzJyxcbiAgXS5maWx0ZXIoKHApID0+IHAgaW4gSFRNTEVsZW1lbnRQcm90b3R5cGUpLnBvcCgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUV2ZW50fSBldlxuICogQHBhcmFtIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fSBwYWdlT2Zmc2V0XG4gKiBAcGFyYW0geyFDbGllbnRSZWN0fSBjbGllbnRSZWN0XG4gKiBAcmV0dXJuIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fVxuICovXG5mdW5jdGlvbiBnZXROb3JtYWxpemVkRXZlbnRDb29yZHMoZXYsIHBhZ2VPZmZzZXQsIGNsaWVudFJlY3QpIHtcbiAgY29uc3Qge3gsIHl9ID0gcGFnZU9mZnNldDtcbiAgY29uc3QgZG9jdW1lbnRYID0geCArIGNsaWVudFJlY3QubGVmdDtcbiAgY29uc3QgZG9jdW1lbnRZID0geSArIGNsaWVudFJlY3QudG9wO1xuXG4gIGxldCBub3JtYWxpemVkWDtcbiAgbGV0IG5vcm1hbGl6ZWRZO1xuICAvLyBEZXRlcm1pbmUgdG91Y2ggcG9pbnQgcmVsYXRpdmUgdG8gdGhlIHJpcHBsZSBjb250YWluZXIuXG4gIGlmIChldi50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICBub3JtYWxpemVkWCA9IGV2LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gZG9jdW1lbnRYO1xuICAgIG5vcm1hbGl6ZWRZID0gZXYuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBkb2N1bWVudFk7XG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsaXplZFggPSBldi5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICBub3JtYWxpemVkWSA9IGV2LnBhZ2VZIC0gZG9jdW1lbnRZO1xuICB9XG5cbiAgcmV0dXJuIHt4OiBub3JtYWxpemVkWCwgeTogbm9ybWFsaXplZFl9O1xufVxuXG5leHBvcnQge3N1cHBvcnRzQ3NzVmFyaWFibGVzLCBhcHBseVBhc3NpdmUsIGdldE1hdGNoZXNQcm9wZXJ0eSwgZ2V0Tm9ybWFsaXplZEV2ZW50Q29vcmRzfTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgY29uc3QgY3NzQ2xhc3NlcyA9IHtcbiAgUk9PVDogJ21kYy1zbmFja2JhcicsXG4gIFRFWFQ6ICdtZGMtc25hY2tiYXJfX3RleHQnLFxuICBBQ1RJT05fV1JBUFBFUjogJ21kYy1zbmFja2Jhcl9fYWN0aW9uLXdyYXBwZXInLFxuICBBQ1RJT05fQlVUVE9OOiAnbWRjLXNuYWNrYmFyX19hY3Rpb24tYnV0dG9uJyxcbiAgQUNUSVZFOiAnbWRjLXNuYWNrYmFyLS1hY3RpdmUnLFxuICBNVUxUSUxJTkU6ICdtZGMtc25hY2tiYXItLW11bHRpbGluZScsXG4gIEFDVElPTl9PTl9CT1RUT006ICdtZGMtc25hY2tiYXItLWFjdGlvbi1vbi1ib3R0b20nLFxufTtcblxuZXhwb3J0IGNvbnN0IHN0cmluZ3MgPSB7XG4gIFRFWFRfU0VMRUNUT1I6ICcubWRjLXNuYWNrYmFyX190ZXh0JyxcbiAgQUNUSU9OX1dSQVBQRVJfU0VMRUNUT1I6ICcubWRjLXNuYWNrYmFyX19hY3Rpb24td3JhcHBlcicsXG4gIEFDVElPTl9CVVRUT05fU0VMRUNUT1I6ICcubWRjLXNuYWNrYmFyX19hY3Rpb24tYnV0dG9uJyxcbiAgU0hPV19FVkVOVDogJ01EQ1NuYWNrYmFyOnNob3cnLFxuICBISURFX0VWRU5UOiAnTURDU25hY2tiYXI6aGlkZScsXG59O1xuXG5leHBvcnQgY29uc3QgbnVtYmVycyA9IHtcbiAgTUVTU0FHRV9USU1FT1VUOiAyNzUwLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7TURDRm91bmRhdGlvbn0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvaW5kZXgnO1xuaW1wb3J0IHtjc3NDbGFzc2VzLCBzdHJpbmdzLCBudW1iZXJzfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1EQ1NuYWNrYmFyRm91bmRhdGlvbiBleHRlbmRzIE1EQ0ZvdW5kYXRpb24ge1xuICBzdGF0aWMgZ2V0IGNzc0NsYXNzZXMoKSB7XG4gICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0cmluZ3MoKSB7XG4gICAgcmV0dXJuIHN0cmluZ3M7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRBZGFwdGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRDbGFzczogKC8qIGNsYXNzTmFtZTogc3RyaW5nICovKSA9PiB7fSxcbiAgICAgIHJlbW92ZUNsYXNzOiAoLyogY2xhc3NOYW1lOiBzdHJpbmcgKi8pID0+IHt9LFxuICAgICAgc2V0QXJpYUhpZGRlbjogKCkgPT4ge30sXG4gICAgICB1bnNldEFyaWFIaWRkZW46ICgpID0+IHt9LFxuICAgICAgc2V0QWN0aW9uQXJpYUhpZGRlbjogKCkgPT4ge30sXG4gICAgICB1bnNldEFjdGlvbkFyaWFIaWRkZW46ICgpID0+IHt9LFxuICAgICAgc2V0QWN0aW9uVGV4dDogKC8qIGFjdGlvblRleHQ6IHN0cmluZyAqLykgPT4ge30sXG4gICAgICBzZXRNZXNzYWdlVGV4dDogKC8qIG1lc3NhZ2U6IHN0cmluZyAqLykgPT4ge30sXG4gICAgICBzZXRGb2N1czogKCkgPT4ge30sXG4gICAgICB2aXNpYmlsaXR5SXNIaWRkZW46ICgpID0+IC8qIGJvb2xlYW4gKi8gZmFsc2UsXG4gICAgICByZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXI6ICgvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIGRlcmVnaXN0ZXJDYXB0dXJlZEJsdXJIYW5kbGVyOiAoLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICByZWdpc3RlclZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyOiAoLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICBkZXJlZ2lzdGVyVmlzaWJpbGl0eUNoYW5nZUhhbmRsZXI6ICgvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIHJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI6ICgvKiBldnRUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgKi8pID0+IHt9LFxuICAgICAgZGVyZWdpc3RlckNhcHR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyOiAoLyogZXZ0VHlwZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIHJlZ2lzdGVyQWN0aW9uQ2xpY2tIYW5kbGVyOiAoLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICBkZXJlZ2lzdGVyQWN0aW9uQ2xpY2tIYW5kbGVyOiAoLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICByZWdpc3RlclRyYW5zaXRpb25FbmRIYW5kbGVyOiAoLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqLykgPT4ge30sXG4gICAgICBkZXJlZ2lzdGVyVHJhbnNpdGlvbkVuZEhhbmRsZXI6ICgvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICovKSA9PiB7fSxcbiAgICAgIG5vdGlmeVNob3c6ICgpID0+IHt9LFxuICAgICAgbm90aWZ5SGlkZTogKCkgPT4ge30sXG4gICAgfTtcbiAgfVxuXG4gIGdldCBhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlXztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGFkYXB0ZXIpIHtcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKE1EQ1NuYWNrYmFyRm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciwgYWRhcHRlcikpO1xuXG4gICAgdGhpcy5hY3RpdmVfID0gZmFsc2U7XG4gICAgdGhpcy5hY3Rpb25XYXNDbGlja2VkXyA9IGZhbHNlO1xuICAgIHRoaXMuZGlzbWlzc09uQWN0aW9uXyA9IHRydWU7XG4gICAgdGhpcy5maXJzdEZvY3VzXyA9IHRydWU7XG4gICAgdGhpcy5wb2ludGVyRG93blJlY29nbml6ZWRfID0gZmFsc2U7XG4gICAgdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IGZhbHNlO1xuICAgIHRoaXMuc25hY2tiYXJEYXRhXyA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZV8gPSBbXTtcbiAgICB0aGlzLmFjdGlvbkNsaWNrSGFuZGxlcl8gPSAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGlvbldhc0NsaWNrZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW52b2tlQWN0aW9uXygpO1xuICAgIH07XG4gICAgdGhpcy52aXNpYmlsaXR5Y2hhbmdlSGFuZGxlcl8gPSAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICAgIHRoaXMuc25hY2tiYXJIYXNGb2N1c18gPSB0cnVlO1xuXG4gICAgICBpZiAoIXRoaXMuYWRhcHRlcl8udmlzaWJpbGl0eUlzSGlkZGVuKCkpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmNsZWFudXBfLmJpbmQodGhpcyksIHRoaXMuc25hY2tiYXJEYXRhXy50aW1lb3V0IHx8IG51bWJlcnMuTUVTU0FHRV9USU1FT1VUKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyXyA9IChldnQpID0+IHtcbiAgICAgIGlmIChldnQudHlwZSA9PSAndG91Y2hzdGFydCcgfHwgZXZ0LnR5cGUgPT0gJ21vdXNlZG93bicpIHtcbiAgICAgICAgdGhpcy5wb2ludGVyRG93blJlY29nbml6ZWRfID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGFuZGxlUG9zc2libGVUYWJLZXlib2FyZEZvY3VzXyhldnQpO1xuXG4gICAgICBpZiAoZXZ0LnR5cGUgPT0gJ2ZvY3VzJykge1xuICAgICAgICB0aGlzLnBvaW50ZXJEb3duUmVjb2duaXplZF8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYmx1ckhhbmRsZXJfID0gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkXyk7XG4gICAgICB0aGlzLnNuYWNrYmFySGFzRm9jdXNfID0gZmFsc2U7XG4gICAgICB0aGlzLnRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuY2xlYW51cF8uYmluZCh0aGlzKSwgdGhpcy5zbmFja2JhckRhdGFfLnRpbWVvdXQgfHwgbnVtYmVycy5NRVNTQUdFX1RJTUVPVVQpO1xuICAgIH07XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXIodGhpcy5hY3Rpb25DbGlja0hhbmRsZXJfKTtcbiAgICB0aGlzLmFkYXB0ZXJfLnNldEFyaWFIaWRkZW4oKTtcbiAgICB0aGlzLmFkYXB0ZXJfLnNldEFjdGlvbkFyaWFIaWRkZW4oKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyQWN0aW9uQ2xpY2tIYW5kbGVyKHRoaXMuYWN0aW9uQ2xpY2tIYW5kbGVyXyk7XG4gICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyQ2FwdHVyZWRCbHVySGFuZGxlcih0aGlzLmJsdXJIYW5kbGVyXyk7XG4gICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyVmlzaWJpbGl0eUNoYW5nZUhhbmRsZXIodGhpcy52aXNpYmlsaXR5Y2hhbmdlSGFuZGxlcl8pO1xuICAgIFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nLCAnZm9jdXMnXS5mb3JFYWNoKChldnRUeXBlKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCB0aGlzLmludGVyYWN0aW9uSGFuZGxlcl8pO1xuICAgIH0pO1xuICB9XG5cbiAgZGlzbWlzc2VzT25BY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzbWlzc09uQWN0aW9uXztcbiAgfVxuXG4gIHNldERpc21pc3NPbkFjdGlvbihkaXNtaXNzT25BY3Rpb24pIHtcbiAgICB0aGlzLmRpc21pc3NPbkFjdGlvbl8gPSAhIWRpc21pc3NPbkFjdGlvbjtcbiAgfVxuXG4gIHNob3coZGF0YSkge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnUGxlYXNlIHByb3ZpZGUgYSBkYXRhIG9iamVjdCB3aXRoIGF0IGxlYXN0IGEgbWVzc2FnZSB0byBkaXNwbGF5LicpO1xuICAgIH1cbiAgICBpZiAoIWRhdGEubWVzc2FnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLicpO1xuICAgIH1cbiAgICBpZiAoZGF0YS5hY3Rpb25IYW5kbGVyICYmICFkYXRhLmFjdGlvblRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYWN0aW9uIHRleHQgd2l0aCB0aGUgaGFuZGxlci4nKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICB0aGlzLnF1ZXVlXy5wdXNoKGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICB0aGlzLnNuYWNrYmFyRGF0YV8gPSBkYXRhO1xuICAgIHRoaXMuZmlyc3RGb2N1c18gPSB0cnVlO1xuICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcih0aGlzLnZpc2liaWxpdHljaGFuZ2VIYW5kbGVyXyk7XG4gICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXIodGhpcy5ibHVySGFuZGxlcl8pO1xuICAgIFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nLCAnZm9jdXMnXS5mb3JFYWNoKChldnRUeXBlKSA9PiB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0VHlwZSwgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXJfKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHtBQ1RJVkUsIE1VTFRJTElORSwgQUNUSU9OX09OX0JPVFRPTX0gPSBjc3NDbGFzc2VzO1xuXG4gICAgdGhpcy5hZGFwdGVyXy5zZXRNZXNzYWdlVGV4dCh0aGlzLnNuYWNrYmFyRGF0YV8ubWVzc2FnZSk7XG5cbiAgICBpZiAodGhpcy5zbmFja2JhckRhdGFfLm11bHRpbGluZSkge1xuICAgICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhNVUxUSUxJTkUpO1xuICAgICAgaWYgKHRoaXMuc25hY2tiYXJEYXRhXy5hY3Rpb25PbkJvdHRvbSkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKEFDVElPTl9PTl9CT1RUT00pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNuYWNrYmFyRGF0YV8uYWN0aW9uSGFuZGxlcikge1xuICAgICAgdGhpcy5hZGFwdGVyXy5zZXRBY3Rpb25UZXh0KHRoaXMuc25hY2tiYXJEYXRhXy5hY3Rpb25UZXh0KTtcbiAgICAgIHRoaXMuYWN0aW9uSGFuZGxlcl8gPSB0aGlzLnNuYWNrYmFyRGF0YV8uYWN0aW9uSGFuZGxlcjtcbiAgICAgIHRoaXMuc2V0QWN0aW9uSGlkZGVuXyhmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QWN0aW9uSGlkZGVuXyh0cnVlKTtcbiAgICAgIHRoaXMuYWN0aW9uSGFuZGxlcl8gPSBudWxsO1xuICAgICAgdGhpcy5hZGFwdGVyXy5zZXRBY3Rpb25UZXh0KG51bGwpO1xuICAgIH1cblxuICAgIHRoaXMuYWN0aXZlXyA9IHRydWU7XG4gICAgdGhpcy5hZGFwdGVyXy5hZGRDbGFzcyhBQ1RJVkUpO1xuICAgIHRoaXMuYWRhcHRlcl8udW5zZXRBcmlhSGlkZGVuKCk7XG4gICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlTaG93KCk7XG5cbiAgICB0aGlzLnRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KHRoaXMuY2xlYW51cF8uYmluZCh0aGlzKSwgdGhpcy5zbmFja2JhckRhdGFfLnRpbWVvdXQgfHwgbnVtYmVycy5NRVNTQUdFX1RJTUVPVVQpO1xuICB9XG5cbiAgaGFuZGxlUG9zc2libGVUYWJLZXlib2FyZEZvY3VzXygpIHtcbiAgICBjb25zdCBoaWphY2tGb2N1cyA9XG4gICAgICB0aGlzLmZpcnN0Rm9jdXNfICYmICF0aGlzLnBvaW50ZXJEb3duUmVjb2duaXplZF87XG5cbiAgICBpZiAoaGlqYWNrRm9jdXMpIHtcbiAgICAgIHRoaXMuc2V0Rm9jdXNPbkFjdGlvbl8oKTtcbiAgICB9XG5cbiAgICB0aGlzLmZpcnN0Rm9jdXNfID0gZmFsc2U7XG4gIH1cblxuICBzZXRGb2N1c09uQWN0aW9uXygpIHtcbiAgICB0aGlzLmFkYXB0ZXJfLnNldEZvY3VzKCk7XG4gICAgdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IHRydWU7XG4gICAgdGhpcy5maXJzdEZvY3VzXyA9IGZhbHNlO1xuICB9XG5cbiAgaW52b2tlQWN0aW9uXygpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmFjdGlvbkhhbmRsZXJfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3Rpb25IYW5kbGVyXygpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAodGhpcy5kaXNtaXNzT25BY3Rpb25fKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cF8oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhbnVwXygpIHtcbiAgICBjb25zdCBhbGxvd0Rpc21pc3NhbCA9ICF0aGlzLnNuYWNrYmFySGFzRm9jdXNfIHx8IHRoaXMuYWN0aW9uV2FzQ2xpY2tlZF87XG5cbiAgICBpZiAoYWxsb3dEaXNtaXNzYWwpIHtcbiAgICAgIGNvbnN0IHtBQ1RJVkUsIE1VTFRJTElORSwgQUNUSU9OX09OX0JPVFRPTX0gPSBjc3NDbGFzc2VzO1xuXG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEFDVElWRSk7XG5cbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZF8pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhNVUxUSUxJTkUpO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEFDVElPTl9PTl9CT1RUT00pO1xuICAgICAgICB0aGlzLnNldEFjdGlvbkhpZGRlbl8odHJ1ZSk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QXJpYUhpZGRlbigpO1xuICAgICAgICB0aGlzLmFjdGl2ZV8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeUhpZGUoKTtcbiAgICAgICAgdGhpcy5zaG93TmV4dF8oKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBzaG93TmV4dF8oKSB7XG4gICAgaWYgKCF0aGlzLnF1ZXVlXy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zaG93KHRoaXMucXVldWVfLnNoaWZ0KCkpO1xuICB9XG5cbiAgc2V0QWN0aW9uSGlkZGVuXyhpc0hpZGRlbikge1xuICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgdGhpcy5hZGFwdGVyXy5zZXRBY3Rpb25BcmlhSGlkZGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRhcHRlcl8udW5zZXRBY3Rpb25BcmlhSGlkZGVuKCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge01EQ0NvbXBvbmVudH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvaW5kZXgnO1xuaW1wb3J0IE1EQ1NuYWNrYmFyRm91bmRhdGlvbiBmcm9tICcuL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHtnZXRDb3JyZWN0RXZlbnROYW1lfSBmcm9tICdAbWF0ZXJpYWwvYW5pbWF0aW9uL2luZGV4JztcblxuZXhwb3J0IHtNRENTbmFja2JhckZvdW5kYXRpb259O1xuXG5leHBvcnQgY2xhc3MgTURDU25hY2tiYXIgZXh0ZW5kcyBNRENDb21wb25lbnQge1xuICBzdGF0aWMgYXR0YWNoVG8ocm9vdCkge1xuICAgIHJldHVybiBuZXcgTURDU25hY2tiYXIocm9vdCk7XG4gIH1cblxuICBzaG93KGRhdGEpIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNob3coZGF0YSk7XG4gIH1cblxuICBnZXREZWZhdWx0Rm91bmRhdGlvbigpIHtcbiAgICBjb25zdCB7XG4gICAgICBURVhUX1NFTEVDVE9SLFxuICAgICAgQUNUSU9OX0JVVFRPTl9TRUxFQ1RPUixcbiAgICB9ID0gTURDU25hY2tiYXJGb3VuZGF0aW9uLnN0cmluZ3M7XG4gICAgY29uc3QgZ2V0VGV4dCA9ICgpID0+IHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvcihURVhUX1NFTEVDVE9SKTtcbiAgICBjb25zdCBnZXRBY3Rpb25CdXR0b24gPSAoKSA9PiB0aGlzLnJvb3RfLnF1ZXJ5U2VsZWN0b3IoQUNUSU9OX0JVVFRPTl9TRUxFQ1RPUik7XG5cbiAgICAvKiBlc2xpbnQgYnJhY2Utc3R5bGU6IFwib2ZmXCIgKi9cbiAgICByZXR1cm4gbmV3IE1EQ1NuYWNrYmFyRm91bmRhdGlvbih7XG4gICAgICBhZGRDbGFzczogKGNsYXNzTmFtZSkgPT4gdGhpcy5yb290Xy5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSksXG4gICAgICByZW1vdmVDbGFzczogKGNsYXNzTmFtZSkgPT4gdGhpcy5yb290Xy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSksXG4gICAgICBzZXRBcmlhSGlkZGVuOiAoKSA9PiB0aGlzLnJvb3RfLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpLFxuICAgICAgdW5zZXRBcmlhSGlkZGVuOiAoKSA9PiB0aGlzLnJvb3RfLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSxcbiAgICAgIHNldEFjdGlvbkFyaWFIaWRkZW46ICgpID0+IGdldEFjdGlvbkJ1dHRvbigpLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpLFxuICAgICAgdW5zZXRBY3Rpb25BcmlhSGlkZGVuOiAoKSA9PiBnZXRBY3Rpb25CdXR0b24oKS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyksXG4gICAgICBzZXRBY3Rpb25UZXh0OiAodGV4dCkgPT4ge2dldEFjdGlvbkJ1dHRvbigpLnRleHRDb250ZW50ID0gdGV4dDt9LFxuICAgICAgc2V0TWVzc2FnZVRleHQ6ICh0ZXh0KSA9PiB7Z2V0VGV4dCgpLnRleHRDb250ZW50ID0gdGV4dDt9LFxuICAgICAgc2V0Rm9jdXM6ICgpID0+IGdldEFjdGlvbkJ1dHRvbigpLmZvY3VzKCksXG4gICAgICB2aXNpYmlsaXR5SXNIaWRkZW46ICgpID0+IGRvY3VtZW50LmhpZGRlbixcbiAgICAgIHJlZ2lzdGVyQ2FwdHVyZWRCbHVySGFuZGxlcjogKGhhbmRsZXIpID0+IGdldEFjdGlvbkJ1dHRvbigpLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVyLCB0cnVlKSxcbiAgICAgIGRlcmVnaXN0ZXJDYXB0dXJlZEJsdXJIYW5kbGVyOiAoaGFuZGxlcikgPT4gZ2V0QWN0aW9uQnV0dG9uKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZXIsIHRydWUpLFxuICAgICAgcmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcjogKGhhbmRsZXIpID0+IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVyKSxcbiAgICAgIGRlcmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcjogKGhhbmRsZXIpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVyKSxcbiAgICAgIHJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI6IChldnQsIGhhbmRsZXIpID0+XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGhhbmRsZXIsIHRydWUpLFxuICAgICAgZGVyZWdpc3RlckNhcHR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyOiAoZXZ0LCBoYW5kbGVyKSA9PlxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBoYW5kbGVyLCB0cnVlKSxcbiAgICAgIHJlZ2lzdGVyQWN0aW9uQ2xpY2tIYW5kbGVyOiAoaGFuZGxlcikgPT4gZ2V0QWN0aW9uQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyKSxcbiAgICAgIGRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXI6IChoYW5kbGVyKSA9PiBnZXRBY3Rpb25CdXR0b24oKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXIpLFxuICAgICAgcmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcjpcbiAgICAgICAgKGhhbmRsZXIpID0+IHRoaXMucm9vdF8uYWRkRXZlbnRMaXN0ZW5lcihnZXRDb3JyZWN0RXZlbnROYW1lKHdpbmRvdywgJ3RyYW5zaXRpb25lbmQnKSwgaGFuZGxlciksXG4gICAgICBkZXJlZ2lzdGVyVHJhbnNpdGlvbkVuZEhhbmRsZXI6XG4gICAgICAgIChoYW5kbGVyKSA9PiB0aGlzLnJvb3RfLnJlbW92ZUV2ZW50TGlzdGVuZXIoZ2V0Q29ycmVjdEV2ZW50TmFtZSh3aW5kb3csICd0cmFuc2l0aW9uZW5kJyksIGhhbmRsZXIpLFxuICAgICAgbm90aWZ5U2hvdzogKCkgPT4gdGhpcy5lbWl0KE1EQ1NuYWNrYmFyRm91bmRhdGlvbi5zdHJpbmdzLlNIT1dfRVZFTlQpLFxuICAgICAgbm90aWZ5SGlkZTogKCkgPT4gdGhpcy5lbWl0KE1EQ1NuYWNrYmFyRm91bmRhdGlvbi5zdHJpbmdzLkhJREVfRVZFTlQpLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGRpc21pc3Nlc09uQWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb25fLmRpc21pc3Nlc09uQWN0aW9uKCk7XG4gIH1cblxuICBzZXQgZGlzbWlzc2VzT25BY3Rpb24oZGlzbWlzc2VzT25BY3Rpb24pIHtcbiAgICB0aGlzLmZvdW5kYXRpb25fLnNldERpc21pc3NPbkFjdGlvbihkaXNtaXNzZXNPbkFjdGlvbik7XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB7bWV0aG9kOiAnZ2V0J30sIHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBidG9hIHBvbHlmaWxsIGZvciBJRTwxMCBjb3VydGVzeSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRjaGFtYmVycy9CYXNlNjQuanNcblxudmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxuZnVuY3Rpb24gRSgpIHtcbiAgdGhpcy5tZXNzYWdlID0gJ1N0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3Rlcic7XG59XG5FLnByb3RvdHlwZSA9IG5ldyBFcnJvcjtcbkUucHJvdG90eXBlLmNvZGUgPSA1O1xuRS5wcm90b3R5cGUubmFtZSA9ICdJbnZhbGlkQ2hhcmFjdGVyRXJyb3InO1xuXG5mdW5jdGlvbiBidG9hKGlucHV0KSB7XG4gIHZhciBzdHIgPSBTdHJpbmcoaW5wdXQpO1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIGZvciAoXG4gICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgYW5kIGNvdW50ZXJcbiAgICB2YXIgYmxvY2ssIGNoYXJDb2RlLCBpZHggPSAwLCBtYXAgPSBjaGFycztcbiAgICAvLyBpZiB0aGUgbmV4dCBzdHIgaW5kZXggZG9lcyBub3QgZXhpc3Q6XG4gICAgLy8gICBjaGFuZ2UgdGhlIG1hcHBpbmcgdGFibGUgdG8gXCI9XCJcbiAgICAvLyAgIGNoZWNrIGlmIGQgaGFzIG5vIGZyYWN0aW9uYWwgZGlnaXRzXG4gICAgc3RyLmNoYXJBdChpZHggfCAwKSB8fCAobWFwID0gJz0nLCBpZHggJSAxKTtcbiAgICAvLyBcIjggLSBpZHggJSAxICogOFwiIGdlbmVyYXRlcyB0aGUgc2VxdWVuY2UgMiwgNCwgNiwgOFxuICAgIG91dHB1dCArPSBtYXAuY2hhckF0KDYzICYgYmxvY2sgPj4gOCAtIGlkeCAlIDEgKiA4KVxuICApIHtcbiAgICBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGlkeCArPSAzIC8gNCk7XG4gICAgaWYgKGNoYXJDb2RlID4gMHhGRikge1xuICAgICAgdGhyb3cgbmV3IEUoKTtcbiAgICB9XG4gICAgYmxvY2sgPSBibG9jayA8PCA4IHwgY2hhckNvZGU7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidG9hO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIi8qIVxuICogY2xpcGJvYXJkLmpzIHYyLjAuMVxuICogaHR0cHM6Ly96ZW5vcm9jaGEuZ2l0aHViLmlvL2NsaXBib2FyZC5qc1xuICogXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJDbGlwYm9hcmRKU1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJDbGlwYm9hcmRKU1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0cnVlKSB7XG4gICAgICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFttb2R1bGUsIF9fd2VicGFja19yZXF1aXJlX18oNyldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHQoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCdzZWxlY3QnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB2YXIgQ2xpcGJvYXJkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0U2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0RmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgem9vbWluZyBvbiBpT1NcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGJveCBtb2RlbFxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IHRvIHRoZSBzYW1lIHBvc2l0aW9uIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSB5UG9zaXRpb24gKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncmVtb3ZlRmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NvcHlUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoYW5kbGVSZXN1bHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdChzdWNjZWVkZWQgPyAnc3VjY2VzcycgOiAnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJTZWxlY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2NvcHknO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG4gICAgfSgpO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XG59KTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG52YXIgZGVsZWdhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gRSAoKSB7XG4gIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW21vZHVsZSwgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxKV0sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/XG5cdFx0XHRcdChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XG5cbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICAgIGlmICghc2VsZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENsaXBib2FyZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENsaXBib2FyZCkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZCwgW3tcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdHlwZW9mIG9wdGlvbnMudGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50YXJnZXQgOiB0aGlzLmRlZmF1bHRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBfdHlwZW9mKG9wdGlvbnMuY29udGFpbmVyKSA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2xpc3RlbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBuZXcgX2NsaXBib2FyZEFjdGlvbjIuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0QWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGFyZ2V0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnaXNTdXBwb3J0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFsnY29weScsICdjdXQnXTtcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25zID0gdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBbYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkO1xuXG4gICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydCA9IHN1cHBvcnQgJiYgISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBwb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcbiAgICB9KF90aW55RW1pdHRlcjIuZGVmYXVsdCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXhcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZShzdWZmaXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xuXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XG59KTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBET0NVTUVOVF9OT0RFX1RZUEUgPSA5O1xuXG4vKipcbiAqIEEgcG9seWZpbGwgZm9yIEVsZW1lbnQubWF0Y2hlcygpXG4gKi9cbmlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICB2YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuICAgIHByb3RvLm1hdGNoZXMgPSBwcm90by5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBhcmVudCB0aGF0IG1hdGNoZXMgYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNsb3Nlc3QgKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gRE9DVU1FTlRfTk9ERV9UWVBFKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5tYXRjaGVzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvc2VzdDtcblxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsb3Nlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ3xBcnJheX0gW2VsZW1lbnRzXVxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50cywgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgLy8gSGFuZGxlIHRoZSByZWd1bGFyIEVsZW1lbnQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBFbGVtZW50LWxlc3MgdXNhZ2UsIGl0IGRlZmF1bHRzIHRvIGdsb2JhbCBkZWxlZ2F0aW9uXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFVzZSBgZG9jdW1lbnRgIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIHRoZW4gYXBwbHkgYXJndW1lbnRzXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaG9ydCB3YXkgdG8gLnVuc2hpZnQgYGFyZ3VtZW50c2Agd2l0aG91dCBydW5uaW5nIGludG8gZGVvcHRpbWl6YXRpb25zXG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYmluZChudWxsLCBkb2N1bWVudCkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgU2VsZWN0b3ItYmFzZWQgdXNhZ2VcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBBcnJheS1saWtlIGJhc2VkIHVzYWdlXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xuXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgdmFyIGlzUmVhZE9ubHkgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKTtcblxuICAgICAgICBpZiAoIWlzUmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG59KTsiLCJ2YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseURlY29yYXRvcnMoQ2xhc3MsIHByb3BzKSB7XG4gIHZhciBwcm90b3R5cGUgPSBDbGFzcy5wcm90b3R5cGU7XG5cblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgZGVjb3JhdG9ycyA9IHByb3BzW2tleV07XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRlY29yYXRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcblxuICAgICAgZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBrZXksIGRlY29yYXRvcihwcm90b3R5cGUsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvdHlwZSwga2V5KSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBDbGFzcztcbn0iLCJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuaW1wb3J0IHsgZGVjb3JhdGUsIGNyZWF0ZURlZmF1bHRTZXR0ZXIsIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIGdldE93bktleXMsIGJpbmQgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cbnZhciBtYXBTdG9yZSA9IHZvaWQgMDtcblxuZnVuY3Rpb24gZ2V0Qm91bmRTdXBlcihvYmosIGZuKSB7XG4gIGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzaW5nIEBhdXRvYmluZCBvbiAnICsgZm4ubmFtZSArICcoKSByZXF1aXJlcyBXZWFrTWFwIHN1cHBvcnQgZHVlIHRvIGl0cyB1c2Ugb2Ygc3VwZXIuJyArIGZuLm5hbWUgKyAnKClcXG4gICAgICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pheXBoZWxwcy9jb3JlLWRlY29yYXRvcnMuanMvaXNzdWVzLzIwJyk7XG4gIH1cblxuICBpZiAoIW1hcFN0b3JlKSB7XG4gICAgbWFwU3RvcmUgPSBuZXcgV2Vha01hcCgpO1xuICB9XG5cbiAgaWYgKG1hcFN0b3JlLmhhcyhvYmopID09PSBmYWxzZSkge1xuICAgIG1hcFN0b3JlLnNldChvYmosIG5ldyBXZWFrTWFwKCkpO1xuICB9XG5cbiAgdmFyIHN1cGVyU3RvcmUgPSBtYXBTdG9yZS5nZXQob2JqKTtcblxuICBpZiAoc3VwZXJTdG9yZS5oYXMoZm4pID09PSBmYWxzZSkge1xuICAgIHN1cGVyU3RvcmUuc2V0KGZuLCBiaW5kKGZuLCBvYmopKTtcbiAgfVxuXG4gIHJldHVybiBzdXBlclN0b3JlLmdldChmbik7XG59XG5cbmZ1bmN0aW9uIGF1dG9iaW5kQ2xhc3Moa2xhc3MpIHtcbiAgdmFyIGRlc2NzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhrbGFzcy5wcm90b3R5cGUpO1xuICB2YXIga2V5cyA9IGdldE93bktleXMoZGVzY3MpO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgZGVzYyA9IGRlc2NzW2tleV07XG5cbiAgICBpZiAodHlwZW9mIGRlc2MudmFsdWUgIT09ICdmdW5jdGlvbicgfHwga2V5ID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBkZWZpbmVQcm9wZXJ0eShrbGFzcy5wcm90b3R5cGUsIGtleSwgYXV0b2JpbmRNZXRob2Qoa2xhc3MucHJvdG90eXBlLCBrZXksIGRlc2MpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhdXRvYmluZE1ldGhvZCh0YXJnZXQsIGtleSwgX3JlZikge1xuICB2YXIgZm4gPSBfcmVmLnZhbHVlLFxuICAgICAgY29uZmlndXJhYmxlID0gX3JlZi5jb25maWd1cmFibGUsXG4gICAgICBlbnVtZXJhYmxlID0gX3JlZi5lbnVtZXJhYmxlO1xuXG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0BhdXRvYmluZCBjYW4gb25seSBiZSB1c2VkIG9uIGZ1bmN0aW9ucywgbm90OiAnICsgZm4pO1xuICB9XG5cbiAgdmFyIGNvbnN0cnVjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuXG5cbiAgcmV0dXJuIHtcbiAgICBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSxcbiAgICBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLFxuXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAvLyBDbGFzcy5wcm90b3R5cGUua2V5IGxvb2t1cFxuICAgICAgLy8gU29tZW9uZSBhY2Nlc3NlcyB0aGUgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIHByb3RvdHlwZSBvbiB3aGljaCBpdCBpc1xuICAgICAgLy8gYWN0dWFsbHkgZGVmaW5lZCBvbiwgaS5lLiBDbGFzcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoa2V5KVxuICAgICAgaWYgKHRoaXMgPT09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gZm47XG4gICAgICB9XG5cbiAgICAgIC8vIENsYXNzLnByb3RvdHlwZS5rZXkgbG9va3VwXG4gICAgICAvLyBTb21lb25lIGFjY2Vzc2VzIHRoZSBwcm9wZXJ0eSBkaXJlY3RseSBvbiBhIHByb3RvdHlwZSBidXQgaXQgd2FzIGZvdW5kXG4gICAgICAvLyB1cCB0aGUgY2hhaW4sIG5vdCBkZWZpbmVkIGRpcmVjdGx5IG9uIGl0XG4gICAgICAvLyBpLmUuIENsYXNzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShrZXkpID09IGZhbHNlICYmIGtleSBpbiBDbGFzcy5wcm90b3R5cGVcbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yICE9PSBjb25zdHJ1Y3RvciAmJiBnZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvciA9PT0gY29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgfVxuXG4gICAgICAvLyBBdXRvYm91bmQgbWV0aG9kIGNhbGxpbmcgc3VwZXIuc2FtZU1ldGhvZCgpIHdoaWNoIGlzIGFsc28gYXV0b2JvdW5kIGFuZCBzbyBvbi5cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yICE9PSBjb25zdHJ1Y3RvciAmJiBrZXkgaW4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHtcbiAgICAgICAgcmV0dXJuIGdldEJvdW5kU3VwZXIodGhpcywgZm4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgYm91bmRGbiA9IGJpbmQoZm4sIHRoaXMpO1xuXG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgLy8gTk9UIGVudW1lcmFibGUgd2hlbiBpdCdzIGEgYm91bmQgbWV0aG9kXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogYm91bmRGblxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBib3VuZEZuO1xuICAgIH0sXG5cbiAgICBzZXQ6IGNyZWF0ZURlZmF1bHRTZXR0ZXIoa2V5KVxuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGUoYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gYXV0b2JpbmRDbGFzcy5hcHBseSh1bmRlZmluZWQsIF90b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGF1dG9iaW5kTWV0aG9kLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRvYmluZCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYW5kbGUoYXJndW1lbnRzKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBoYW5kbGUoYXJncyk7XG4gIH1cbn0iLCIvKipcbiAqIGNvcmUtZGVjb3JhdG9ycy5qc1xuICogKGMpIDIwMTcgSmF5IFBoZWxwcyBhbmQgY29udHJpYnV0b3JzXG4gKiBNSVQgTGljZW5zZWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXlwaGVscHMvY29yZS1kZWNvcmF0b3JzLmpzXG4gKiBAbGljZW5zZVxuICovXG5leHBvcnQgeyBkZWZhdWx0IGFzIG92ZXJyaWRlIH0gZnJvbSAnLi9vdmVycmlkZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRlcHJlY2F0ZSwgZGVmYXVsdCBhcyBkZXByZWNhdGVkIH0gZnJvbSAnLi9kZXByZWNhdGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzdXBwcmVzc1dhcm5pbmdzIH0gZnJvbSAnLi9zdXBwcmVzcy13YXJuaW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1lbW9pemUgfSBmcm9tICcuL21lbW9pemUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBhdXRvYmluZCB9IGZyb20gJy4vYXV0b2JpbmQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyByZWFkb25seSB9IGZyb20gJy4vcmVhZG9ubHknO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlbnVtZXJhYmxlIH0gZnJvbSAnLi9lbnVtZXJhYmxlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbm9uZW51bWVyYWJsZSB9IGZyb20gJy4vbm9uZW51bWVyYWJsZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5vbmNvbmZpZ3VyYWJsZSB9IGZyb20gJy4vbm9uY29uZmlndXJhYmxlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVib3VuY2UgfSBmcm9tICcuL2RlYm91bmNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGhyb3R0bGUgfSBmcm9tICcuL3Rocm90dGxlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVjb3JhdGUgfSBmcm9tICcuL2RlY29yYXRlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWl4aW4sIGRlZmF1bHQgYXMgbWl4aW5zIH0gZnJvbSAnLi9taXhpbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGxhenlJbml0aWFsaXplIH0gZnJvbSAnLi9sYXp5LWluaXRpYWxpemUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0aW1lIH0gZnJvbSAnLi90aW1lJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZXh0ZW5kRGVzY3JpcHRvciB9IGZyb20gJy4vZXh0ZW5kRGVzY3JpcHRvcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHByb2ZpbGUgfSBmcm9tICcuL3Byb2ZpbGUnO1xuXG4vLyBIZWxwZXIgdG8gYXBwbHkgZGVjb3JhdG9ycyB0byBhIGNsYXNzIHdpdGhvdXQgdHJhbnNwaWxlciBzdXBwb3J0XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFwcGx5RGVjb3JhdG9ycyB9IGZyb20gJy4vYXBwbHlEZWNvcmF0b3JzJzsiLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbmltcG9ydCB7IGRlY29yYXRlLCBtZXRhRm9yLCBpbnRlcm5hbERlcHJlY2F0aW9uIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcblxudmFyIERFRkFVTFRfVElNRU9VVCA9IDMwMDtcblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvciwgX3JlZikge1xuICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgIF9yZWYyJCA9IF9yZWYyWzBdLFxuICAgICAgd2FpdCA9IF9yZWYyJCA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9USU1FT1VUIDogX3JlZjIkLFxuICAgICAgX3JlZjIkMiA9IF9yZWYyWzFdLFxuICAgICAgaW1tZWRpYXRlID0gX3JlZjIkMiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMiQyO1xuXG4gIHZhciBjYWxsYmFjayA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignT25seSBmdW5jdGlvbnMgY2FuIGJlIGRlYm91bmNlZCcpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZXNjcmlwdG9yLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIF9tZXRhRm9yID0gbWV0YUZvcih0aGlzKSxcbiAgICAgICAgICBkZWJvdW5jZVRpbWVvdXRJZHMgPSBfbWV0YUZvci5kZWJvdW5jZVRpbWVvdXRJZHM7XG5cbiAgICAgIHZhciB0aW1lb3V0ID0gZGVib3VuY2VUaW1lb3V0SWRzW2tleV07XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgIGRlYm91bmNlVGltZW91dElkc1trZXldID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSBkZWJvdW5jZVRpbWVvdXRJZHNba2V5XTtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICBjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHdhaXQpO1xuXG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWJvdW5jZSgpIHtcbiAgaW50ZXJuYWxEZXByZWNhdGlvbignQGRlYm91bmNlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBzaG9ydGx5LiBVc2UgQGRlYm91bmNlIGZyb20gbG9kYXNoLWRlY29yYXRvcnMuXFxuXFxuICBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9sb2Rhc2gtZGVjb3JhdG9ycycpO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkZWNvcmF0ZShoYW5kbGVEZXNjcmlwdG9yLCBhcmdzKTtcbn0iLCJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGFycikgPyBhcnIgOiBBcnJheS5mcm9tKGFycik7IH1cblxuaW1wb3J0IHsgZGVjb3JhdGUgYXMgX2RlY29yYXRlLCBjcmVhdGVEZWZhdWx0U2V0dGVyIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuXG5mdW5jdGlvbiBoYW5kbGVEZXNjcmlwdG9yKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLCBfcmVmKSB7XG4gIHZhciBfcmVmMiA9IF90b0FycmF5KF9yZWYpLFxuICAgICAgZGVjb3JhdG9yID0gX3JlZjJbMF0sXG4gICAgICBhcmdzID0gX3JlZjIuc2xpY2UoMSk7XG5cbiAgdmFyIGNvbmZpZ3VyYWJsZSA9IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgIHdyaXRhYmxlID0gZGVzY3JpcHRvci53cml0YWJsZTtcblxuICB2YXIgb3JpZ2luYWxHZXQgPSBkZXNjcmlwdG9yLmdldDtcbiAgdmFyIG9yaWdpbmFsU2V0ID0gZGVzY3JpcHRvci5zZXQ7XG4gIHZhciBvcmlnaW5hbFZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgdmFyIGlzR2V0dGVyID0gISFvcmlnaW5hbEdldDtcblxuICByZXR1cm4ge1xuICAgIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLFxuICAgIGVudW1lcmFibGU6IGVudW1lcmFibGUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZm4gPSBpc0dldHRlciA/IG9yaWdpbmFsR2V0LmNhbGwodGhpcykgOiBvcmlnaW5hbFZhbHVlO1xuICAgICAgdmFyIHZhbHVlID0gZGVjb3JhdG9yLmNhbGwuYXBwbHkoZGVjb3JhdG9yLCBbdGhpcywgZm5dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKTtcblxuICAgICAgaWYgKGlzR2V0dGVyKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkZXNjID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGVudW1lcmFibGVcbiAgICAgICAgfTtcblxuICAgICAgICBkZXNjLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGRlc2Mud3JpdGFibGUgPSB3cml0YWJsZTtcblxuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIGRlc2MpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0OiBpc0dldHRlciA/IG9yaWdpbmFsU2V0IDogY3JlYXRlRGVmYXVsdFNldHRlcigpXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlY29yYXRlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gX2RlY29yYXRlKGhhbmRsZURlc2NyaXB0b3IsIGFyZ3MpO1xufSIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuaW1wb3J0IHsgZGVjb3JhdGUsIHdhcm4gfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xuXG52YXIgREVGQVVMVF9NU0cgPSAnVGhpcyBmdW5jdGlvbiB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlIHZlcnNpb25zLic7XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIF9yZWYpIHtcbiAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICBfcmVmMiQgPSBfcmVmMlswXSxcbiAgICAgIG1zZyA9IF9yZWYyJCA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9NU0cgOiBfcmVmMiQsXG4gICAgICBfcmVmMiQyID0gX3JlZjJbMV0sXG4gICAgICBvcHRpb25zID0gX3JlZjIkMiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmMiQyO1xuXG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignT25seSBmdW5jdGlvbnMgY2FuIGJlIG1hcmtlZCBhcyBkZXByZWNhdGVkJyk7XG4gIH1cblxuICB2YXIgbWV0aG9kU2lnbmF0dXJlID0gdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIycgKyBrZXk7XG5cbiAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgbXNnICs9ICdcXG5cXG4gICAgU2VlICcgKyBvcHRpb25zLnVybCArICcgZm9yIG1vcmUgZGV0YWlscy5cXG5cXG4nO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZXNjcmlwdG9yLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlcHJlY2F0aW9uV3JhcHBlcigpIHtcbiAgICAgIHdhcm4oJ0RFUFJFQ0FUSU9OICcgKyBtZXRob2RTaWduYXR1cmUgKyAnOiAnICsgbXNnKTtcbiAgICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVwcmVjYXRlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59IiwiaW1wb3J0IHsgZGVjb3JhdGUgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xuXG5mdW5jdGlvbiBoYW5kbGVEZXNjcmlwdG9yKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbnVtZXJhYmxlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59IiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IHsgZGVjb3JhdGUgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICB2YXIgc3VwZXJLbGFzcyA9IGdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gIHZhciBzdXBlckRlc2MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3VwZXJLbGFzcywga2V5KTtcblxuICByZXR1cm4gX2V4dGVuZHMoe30sIHN1cGVyRGVzYywge1xuICAgIHZhbHVlOiBkZXNjcmlwdG9yLnZhbHVlLFxuICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgIGdldDogZGVzY3JpcHRvci5nZXQgfHwgc3VwZXJEZXNjLmdldCxcbiAgICBzZXQ6IGRlc2NyaXB0b3Iuc2V0IHx8IHN1cGVyRGVzYy5zZXRcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4dGVuZERlc2NyaXB0b3IoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkZWNvcmF0ZShoYW5kbGVEZXNjcmlwdG9yLCBhcmdzKTtcbn0iLCJpbXBvcnQgeyBkZWNvcmF0ZSwgY3JlYXRlRGVmYXVsdFNldHRlciB9IGZyb20gJy4vcHJpdmF0ZS91dGlscyc7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICB2YXIgY29uZmlndXJhYmxlID0gZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICBlbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgaW5pdGlhbGl6ZXIgPSBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgdmFsdWUgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsXG4gICAgZW51bWVyYWJsZTogZW51bWVyYWJsZSxcblxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHNvbWVvbmUgYWNjZXNzZXMgdGhlXG4gICAgICAvLyBwcm9wZXJ0eSBkaXJlY3RseSBvbiB0aGUgcHJvdG90eXBlXG4gICAgICBpZiAodGhpcyA9PT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldCA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKSA6IHZhbHVlO1xuXG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsXG4gICAgICAgIGVudW1lcmFibGU6IGVudW1lcmFibGUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogcmV0XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG5cbiAgICBzZXQ6IGNyZWF0ZURlZmF1bHRTZXR0ZXIoa2V5KVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsYXp5SW5pdGlhbGl6ZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRlY29yYXRlKGhhbmRsZURlc2NyaXB0b3IsIGFyZ3MpO1xufSIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IGRlY29yYXRlLCBpbnRlcm5hbERlcHJlY2F0aW9uIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcblxuZnVuY3Rpb24gdG9PYmplY3QoY2FjaGUsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gY2FjaGVbdmFsdWVdIHx8IChjYWNoZVt2YWx1ZV0gPSB7fSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QW5kQ2FjaGUoY29udGV4dCwgZm4sIGFyZ3MsIGNhY2hlLCBzaWduYXR1cmUpIHtcbiAgdmFyIHJldCA9IGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICBjYWNoZVtzaWduYXR1cmVdID0gcmV0O1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtZXRhRm9yRGVzY3JpcHRvcihkZXNjcmlwdG9yKSB7XG4gIHZhciBmbiA9IHZvaWQgMCxcbiAgICAgIHdyYXBLZXkgPSB2b2lkIDA7XG5cbiAgLy8gVGhpcyBpcyB1Z2x5IGNvZGUsIGJ1dCB3YXkgZmFzdGVyIHRoYW4gb3RoZXJcbiAgLy8gd2F5cyBJIHRyaWVkIHRoYXQgKmxvb2tlZCogcHJldHR5XG5cbiAgaWYgKGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgd3JhcEtleSA9ICd2YWx1ZSc7XG4gIH0gZWxzZSBpZiAoZGVzY3JpcHRvci5nZXQpIHtcbiAgICBmbiA9IGRlc2NyaXB0b3IuZ2V0O1xuICAgIHdyYXBLZXkgPSAnZ2V0JztcbiAgfSBlbHNlIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgIGZuID0gZGVzY3JpcHRvci5zZXQ7XG4gICAgd3JhcEtleSA9ICdzZXQnO1xuICB9XG5cbiAgcmV0dXJuIHsgZm46IGZuLCB3cmFwS2V5OiB3cmFwS2V5IH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgdmFyIF9tZXRhRm9yRGVzY3JpcHRvciA9IG1ldGFGb3JEZXNjcmlwdG9yKGRlc2NyaXB0b3IpLFxuICAgICAgZm4gPSBfbWV0YUZvckRlc2NyaXB0b3IuZm4sXG4gICAgICB3cmFwS2V5ID0gX21ldGFGb3JEZXNjcmlwdG9yLndyYXBLZXk7XG5cbiAgdmFyIGFyZ3VtZW50Q2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICB2YXIgc2lnbmF0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgcHJpbWF0aXZlUmVmQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgYXJndW1lbnRJZENvdW50ZXIgPSAwO1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVzY3JpcHRvciwgX2RlZmluZVByb3BlcnR5KHt9LCB3cmFwS2V5LCBmdW5jdGlvbiBtZW1vaXplV3JhcHBlcigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgc2lnbmF0dXJlID0gJzAnO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgICB2YXIgYXJnUmVmID0gdG9PYmplY3QocHJpbWF0aXZlUmVmQ2FjaGUsIGFyZyk7XG4gICAgICB2YXIgYXJnS2V5ID0gYXJndW1lbnRDYWNoZS5nZXQoYXJnUmVmKTtcblxuICAgICAgaWYgKGFyZ0tleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFyZ0tleSA9ICsrYXJndW1lbnRJZENvdW50ZXI7XG4gICAgICAgIGFyZ3VtZW50Q2FjaGUuc2V0KGFyZ1JlZiwgYXJnS2V5KTtcbiAgICAgIH1cblxuICAgICAgc2lnbmF0dXJlICs9IGFyZ0tleTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2lnbmF0dXJlQ2FjaGVbc2lnbmF0dXJlXSB8fCBhcHBseUFuZENhY2hlKHRoaXMsIGZuLCBhcmd1bWVudHMsIHNpZ25hdHVyZUNhY2hlLCBzaWduYXR1cmUpO1xuICB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lbW9pemUoKSB7XG4gIGludGVybmFsRGVwcmVjYXRpb24oJ0BtZW1vaXplIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBzaG9ydGx5LiBVc2UgQG1lbW9pemUgZnJvbSBsb2Rhc2gtZGVjb3JhdG9ycy5cXG5cXG4gIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2xvZGFzaC1kZWNvcmF0b3JzJyk7XG5cbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5pbXBvcnQgeyBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBnZXRPd25LZXlzLCBpbnRlcm5hbERlcHJlY2F0aW9uIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cbmZ1bmN0aW9uIGJ1Z2d5U3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bWJvbCkgPT09ICdbb2JqZWN0IFN5bWJvbF0nICYmICh0eXBlb2Ygc3ltYm9sID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzeW1ib2wpKSA9PT0gJ29iamVjdCc7XG59XG5cbmZ1bmN0aW9uIGhhc1Byb3BlcnR5KHByb3AsIG9iaikge1xuICAvLyBXZSBoYXZlIHRvIHRyYXZlcnNlIG1hbnVhbGx5IHByb3RvdHlwZXMnIGNoYWluIGZvciBwb2x5ZmlsbGVkIEVTNiBTeW1ib2xzXG4gIC8vIGxpa2UgXCJpblwiIG9wZXJhdG9yIGRvZXMuXG4gIC8vIEkuZS46IEJhYmVsIDUgU3ltYm9sIHBvbHlmaWxsIHN0b3JlcyBldmVyeSBjcmVhdGVkIHN5bWJvbCBpbiBPYmplY3QucHJvdG90eXBlLlxuICAvLyBUaGF0J3Mgd2h5IHdlIGNhbm5vdCB1c2UgY29uc3RydWN0aW9uIGxpa2UgXCJwcm9wIGluIG9ialwiIHRvIGNoZWNrLCBpZiBuZWVkZWRcbiAgLy8gcHJvcCBhY3R1YWxseSBleGlzdHMgaW4gZ2l2ZW4gb2JqZWN0L3Byb3RvdHlwZXMnIGNoYWluLlxuICBpZiAoYnVnZ3lTeW1ib2wocHJvcCkpIHtcbiAgICBkbyB7XG4gICAgICBpZiAob2JqID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgIC8vIFBvbHlmaWxsIGFzc2lnbnMgdW5kZWZpbmVkIGFzIHZhbHVlIGZvciBzdG9yZWQgc3ltYm9sIGtleS5cbiAgICAgICAgLy8gV2UgY2FuIGFzc3VtZSBpbiB0aGlzIHNwZWNpYWwgY2FzZSBpZiB0aGVyZSBpcyBub3RoaW5nIGFzc2lnbmVkIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqW3Byb3BdICE9PSAndW5kZWZpbmVkJztcbiAgICAgIH1cbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSB3aGlsZSAob2JqID0gZ2V0UHJvdG90eXBlT2Yob2JqKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcm9wIGluIG9iajtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDbGFzcyh0YXJnZXQsIG1peGlucykge1xuICBpZiAoIW1peGlucy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0BtaXhpbigpIGNsYXNzICcgKyB0YXJnZXQubmFtZSArICcgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIG1peGluIGFzIGFuIGFyZ3VtZW50Jyk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IG1peGlucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG1peGluc1tpXSk7XG4gICAgdmFyIGtleXMgPSBnZXRPd25LZXlzKGRlc2NzKTtcblxuICAgIGZvciAodmFyIGogPSAwLCBrID0ga2V5cy5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuXG4gICAgICBpZiAoIWhhc1Byb3BlcnR5KGtleSwgdGFyZ2V0LnByb3RvdHlwZSkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LnByb3RvdHlwZSwga2V5LCBkZXNjc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWl4aW4oKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaXhpbnMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaXhpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpbnRlcm5hbERlcHJlY2F0aW9uKCdAbWl4aW4gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIHNob3J0bHkuIFVzZSBAbWl4aW4gZnJvbSBsb2Rhc2gtZGVjb3JhdG9ycy5cXG5cXG4gIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2xvZGFzaC1kZWNvcmF0b3JzJyk7XG5cbiAgaWYgKHR5cGVvZiBtaXhpbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaGFuZGxlQ2xhc3MobWl4aW5zWzBdLCBbXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHJldHVybiBoYW5kbGVDbGFzcyh0YXJnZXQsIG1peGlucyk7XG4gICAgfTtcbiAgfVxufSIsImltcG9ydCB7IGRlY29yYXRlIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IGZhbHNlO1xuICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9uY29uZmlndXJhYmxlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59IiwiaW1wb3J0IHsgZGVjb3JhdGUgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xuXG5mdW5jdGlvbiBoYW5kbGVEZXNjcmlwdG9yKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9uZW51bWVyYWJsZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRlY29yYXRlKGhhbmRsZURlc2NyaXB0b3IsIGFyZ3MpO1xufSIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgZGVjb3JhdGUgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xuXG52YXIgR0VORVJJQ19GVU5DVElPTl9FUlJPUiA9ICd7Y2hpbGR9IGRvZXMgbm90IHByb3Blcmx5IG92ZXJyaWRlIHtwYXJlbnR9JztcbnZhciBGVU5DVElPTl9SRUdFWFAgPSAvXmZ1bmN0aW9uIChbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKik/KFxcKFteXFwpXSpcXCkpW1xcc1xcU10rJC87XG5cbnZhciBTeW50YXhFcnJvclJlcG9ydGVyID0gZnVuY3Rpb24gKCkge1xuICBfY3JlYXRlQ2xhc3MoU3ludGF4RXJyb3JSZXBvcnRlciwgW3tcbiAgICBrZXk6ICdfZ2V0VG9waWMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VG9waWMoZGVzY3JpcHRvcikge1xuICAgICAgaWYgKGRlc2NyaXB0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCdnZXQnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3NldCcgaW4gZGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5zZXQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2V4dHJhY3RUb3BpY1NpZ25hdHVyZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9leHRyYWN0VG9waWNTaWduYXR1cmUodG9waWMpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHRvcGljID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0b3BpYykpIHtcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9leHRyYWN0RnVuY3Rpb25TaWduYXR1cmUodG9waWMpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLmtleTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZXh0cmFjdEZ1bmN0aW9uU2lnbmF0dXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2V4dHJhY3RGdW5jdGlvblNpZ25hdHVyZShmbikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIGZuLnRvU3RyaW5nKCkucmVwbGFjZShGVU5DVElPTl9SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogX3RoaXMua2V5O1xuICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzWzJdO1xuICAgICAgICByZXR1cm4gbmFtZSArIHBhcmFtcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2tleScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlsZERlc2NyaXB0b3Iua2V5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3BhcmVudE5vdGF0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudEtsYXNzLmNvbnN0cnVjdG9yLm5hbWUgKyAnIycgKyB0aGlzLnBhcmVudFByb3BlcnR5U2lnbmF0dXJlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoaWxkTm90YXRpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRLbGFzcy5jb25zdHJ1Y3Rvci5uYW1lICsgJyMnICsgdGhpcy5jaGlsZFByb3BlcnR5U2lnbmF0dXJlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3BhcmVudFRvcGljJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRUb3BpYyh0aGlzLnBhcmVudERlc2NyaXB0b3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoaWxkVG9waWMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFRvcGljKHRoaXMuY2hpbGREZXNjcmlwdG9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJlbnRQcm9wZXJ0eVNpZ25hdHVyZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFjdFRvcGljU2lnbmF0dXJlKHRoaXMucGFyZW50VG9waWMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoaWxkUHJvcGVydHlTaWduYXR1cmUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dHJhY3RUb3BpY1NpZ25hdHVyZSh0aGlzLmNoaWxkVG9waWMpO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFN5bnRheEVycm9yUmVwb3J0ZXIocGFyZW50S2xhc3MsIGNoaWxkS2xhc3MsIHBhcmVudERlc2NyaXB0b3IsIGNoaWxkRGVzY3JpcHRvcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTeW50YXhFcnJvclJlcG9ydGVyKTtcblxuICAgIHRoaXMucGFyZW50S2xhc3MgPSBwYXJlbnRLbGFzcztcbiAgICB0aGlzLmNoaWxkS2xhc3MgPSBjaGlsZEtsYXNzO1xuICAgIHRoaXMucGFyZW50RGVzY3JpcHRvciA9IHBhcmVudERlc2NyaXB0b3I7XG4gICAgdGhpcy5jaGlsZERlc2NyaXB0b3IgPSBjaGlsZERlc2NyaXB0b3I7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3ludGF4RXJyb3JSZXBvcnRlciwgW3tcbiAgICBrZXk6ICdhc3NlcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uKSB7XG4gICAgICB2YXIgbXNnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblxuICAgICAgaWYgKGNvbmRpdGlvbiAhPT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmVycm9yKEdFTkVSSUNfRlVOQ1RJT05fRVJST1IgKyBtc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Vycm9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgbXNnID0gbXNnXG4gICAgICAvLyBSZXBsYWNlIGxhemlseSwgYmVjYXVzZSB0aGV5IGFjdHVhbGx5IG1pZ2h0IG5vdFxuICAgICAgLy8gYmUgYXZhaWxhYmxlIGluIGFsbCBjYXNlc1xuICAgICAgLnJlcGxhY2UoJ3twYXJlbnR9JywgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5wYXJlbnROb3RhdGlvbjtcbiAgICAgIH0pLnJlcGxhY2UoJ3tjaGlsZH0nLCBmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLmNoaWxkTm90YXRpb247XG4gICAgICB9KTtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihtc2cpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTeW50YXhFcnJvclJlcG9ydGVyO1xufSgpO1xuXG5mdW5jdGlvbiBnZXREZXNjcmlwdG9yVHlwZShkZXNjcmlwdG9yKSB7XG4gIGlmIChkZXNjcmlwdG9yLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgcmV0dXJuICdkYXRhJztcbiAgfVxuXG4gIGlmIChkZXNjcmlwdG9yLmhhc093blByb3BlcnR5KCdnZXQnKSB8fCBkZXNjcmlwdG9yLmhhc093blByb3BlcnR5KCdzZXQnKSkge1xuICAgIHJldHVybiAnYWNjZXNzb3InO1xuICB9XG5cbiAgLy8gSWYgbm9uZSBvZiB0aGVtIGV4aXN0LCBicm93c2VycyB0cmVhdCBpdCBhc1xuICAvLyBhIGRhdGEgZGVzY3JpcHRvciB3aXRoIGEgdmFsdWUgb2YgYHVuZGVmaW5lZGBcbiAgcmV0dXJuICdkYXRhJztcbn1cblxuZnVuY3Rpb24gY2hlY2tGdW5jdGlvblNpZ25hdHVyZXMocGFyZW50LCBjaGlsZCwgcmVwb3J0ZXIpIHtcbiAgcmVwb3J0ZXIuYXNzZXJ0KHBhcmVudC5sZW5ndGggPT09IGNoaWxkLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRGF0YURlc2NyaXB0b3JzKHBhcmVudCwgY2hpbGQsIHJlcG9ydGVyKSB7XG4gIHZhciBwYXJlbnRWYWx1ZVR5cGUgPSBfdHlwZW9mKHBhcmVudC52YWx1ZSk7XG4gIHZhciBjaGlsZFZhbHVlVHlwZSA9IF90eXBlb2YoY2hpbGQudmFsdWUpO1xuXG4gIGlmIChwYXJlbnRWYWx1ZVR5cGUgPT09ICd1bmRlZmluZWQnICYmIGNoaWxkVmFsdWVUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIGNsYXNzIHByb3BlcnRpZXMgY2FuIGJlIGFueSBleHByZXNzaW9uLCB3aGljaCBpc24ndCByYW4gdW50aWwgdGhlXG4gICAgLy8gdGhlIGluc3RhbmNlIGlzIGNyZWF0ZWQsIHNvIHdlIGNhbid0IHJlbGlhYmx5IGdldCB0eXBlIGluZm9ybWF0aW9uXG4gICAgLy8gZm9yIHRoZW0geWV0IChwZXIgc3BlYykuIFBlcmhhcHMgd2hlbiBCYWJlbCBpbmNsdWRlcyBmbG93LXR5cGUgaW5mb1xuICAgIC8vIGluIHJ1bnRpbWU/IFRyaWVkIHJlZ2V4IHNvbHV0aW9ucywgYnV0IHN1cGVyIGhhY2t5IGFuZCBvbmx5IGZlYXNpYmxlXG4gICAgLy8gb24gcHJpbWl0aXZlcywgd2hpY2ggaXMgY29uZnVzaW5nIGZvciB1c2FnZS4uLlxuICAgIHJlcG9ydGVyLmVycm9yKCdkZXNjcmlwdG9yIHZhbHVlcyBhcmUgYm90aCB1bmRlZmluZWQuIChjbGFzcyBwcm9wZXJ0aWVzIGFyZSBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQpXFwnJyk7XG4gIH1cblxuICBpZiAocGFyZW50VmFsdWVUeXBlICE9PSBjaGlsZFZhbHVlVHlwZSkge1xuICAgIHZhciBpc0Z1bmN0aW9uT3ZlclVuZGVmaW5lZCA9IGNoaWxkVmFsdWVUeXBlID09PSAnZnVuY3Rpb24nICYmIHBhcmVudFZhbHVlVHlwZSA9PT0gdW5kZWZpbmVkO1xuICAgIC8vIEV2ZW4gdGhvdWdoIHdlIGRvbid0IHN1cHBvcnQgY2xhc3MgcHJvcGVydGllcywgdGhpc1xuICAgIC8vIHdpbGwgc3RpbGwgaGFuZGxlIG1vcmUgdGhhbiBqdXN0IGZ1bmN0aW9ucywganVzdCBpbiBjYXNlLlxuICAgIC8vIFNoYWRvd2luZyBhbiB1bmRlZmluZWQgdmFsdWUgaXMgYW4gZXJyb3IgaWYgdGhlIGluaGVyaXRlZFxuICAgIC8vIHZhbHVlIHdhcyB1bmRlZmluZWQgKHVzdWFsbHkgYSBjbGFzcyBwcm9wZXJ0eSwgbm90IGEgbWV0aG9kKVxuICAgIGlmIChpc0Z1bmN0aW9uT3ZlclVuZGVmaW5lZCB8fCBwYXJlbnRWYWx1ZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVwb3J0ZXIuZXJyb3IoJ3ZhbHVlIHR5cGVzIGRvIG5vdCBtYXRjaC4ge3BhcmVudH0gaXMgXCInICsgcGFyZW50VmFsdWVUeXBlICsgJ1wiLCB7Y2hpbGR9IGlzIFwiJyArIGNoaWxkVmFsdWVUeXBlICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3dpdGNoLCBpbiBwcmVwYXJhdGlvbiBmb3Igc3VwcG9ydGluZyBtb3JlIHR5cGVzXG4gIHN3aXRjaCAoY2hpbGRWYWx1ZVR5cGUpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICBjaGVja0Z1bmN0aW9uU2lnbmF0dXJlcyhwYXJlbnQudmFsdWUsIGNoaWxkLnZhbHVlLCByZXBvcnRlcik7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXBvcnRlci5lcnJvcignVW5leHBlY3RlZCBlcnJvci4gUGxlYXNlIGZpbGUgYSBidWcgd2l0aDoge3BhcmVudH0gaXMgXCInICsgcGFyZW50VmFsdWVUeXBlICsgJ1wiLCB7Y2hpbGR9IGlzIFwiJyArIGNoaWxkVmFsdWVUeXBlICsgJ1wiJyk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0FjY2Vzc29yRGVzY3JpcHRvcnMocGFyZW50LCBjaGlsZCwgcmVwb3J0ZXIpIHtcbiAgdmFyIHBhcmVudEhhc0dldHRlciA9IHR5cGVvZiBwYXJlbnQuZ2V0ID09PSAnZnVuY3Rpb24nO1xuICB2YXIgY2hpbGRIYXNHZXR0ZXIgPSB0eXBlb2YgY2hpbGQuZ2V0ID09PSAnZnVuY3Rpb24nO1xuICB2YXIgcGFyZW50SGFzU2V0dGVyID0gdHlwZW9mIHBhcmVudC5zZXQgPT09ICdmdW5jdGlvbic7XG4gIHZhciBjaGlsZEhhc1NldHRlciA9IHR5cGVvZiBjaGlsZC5zZXQgPT09ICdmdW5jdGlvbic7XG5cbiAgaWYgKHBhcmVudEhhc0dldHRlciB8fCBjaGlsZEhhc0dldHRlcikge1xuICAgIGlmICghcGFyZW50SGFzR2V0dGVyICYmIHBhcmVudEhhc1NldHRlcikge1xuICAgICAgcmVwb3J0ZXIuZXJyb3IoJ3twYXJlbnR9IGlzIHNldHRlciBidXQge2NoaWxkfSBpcyBnZXR0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkSGFzR2V0dGVyICYmIGNoaWxkSGFzU2V0dGVyKSB7XG4gICAgICByZXBvcnRlci5lcnJvcigne3BhcmVudH0gaXMgZ2V0dGVyIGJ1dCB7Y2hpbGR9IGlzIHNldHRlcicpO1xuICAgIH1cblxuICAgIGNoZWNrRnVuY3Rpb25TaWduYXR1cmVzKHBhcmVudC5nZXQsIGNoaWxkLmdldCwgcmVwb3J0ZXIpO1xuICB9XG5cbiAgaWYgKHBhcmVudEhhc1NldHRlciB8fCBjaGlsZEhhc1NldHRlcikge1xuICAgIGlmICghcGFyZW50SGFzU2V0dGVyICYmIHBhcmVudEhhc0dldHRlcikge1xuICAgICAgcmVwb3J0ZXIuZXJyb3IoJ3twYXJlbnR9IGlzIGdldHRlciBidXQge2NoaWxkfSBpcyBzZXR0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkSGFzU2V0dGVyICYmIGNoaWxkSGFzR2V0dGVyKSB7XG4gICAgICByZXBvcnRlci5lcnJvcigne3BhcmVudH0gaXMgc2V0dGVyIGJ1dCB7Y2hpbGR9IGlzIGdldHRlcicpO1xuICAgIH1cblxuICAgIGNoZWNrRnVuY3Rpb25TaWduYXR1cmVzKHBhcmVudC5zZXQsIGNoaWxkLnNldCwgcmVwb3J0ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRGVzY3JpcHRvcnMocGFyZW50LCBjaGlsZCwgcmVwb3J0ZXIpIHtcbiAgdmFyIHBhcmVudFR5cGUgPSBnZXREZXNjcmlwdG9yVHlwZShwYXJlbnQpO1xuICB2YXIgY2hpbGRUeXBlID0gZ2V0RGVzY3JpcHRvclR5cGUoY2hpbGQpO1xuXG4gIGlmIChwYXJlbnRUeXBlICE9PSBjaGlsZFR5cGUpIHtcbiAgICByZXBvcnRlci5lcnJvcignZGVzY3JpcHRvciB0eXBlcyBkbyBub3QgbWF0Y2guIHtwYXJlbnR9IGlzIFwiJyArIHBhcmVudFR5cGUgKyAnXCIsIHtjaGlsZH0gaXMgXCInICsgY2hpbGRUeXBlICsgJ1wiJyk7XG4gIH1cblxuICBzd2l0Y2ggKGNoaWxkVHlwZSkge1xuICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgY2hlY2tEYXRhRGVzY3JpcHRvcnMocGFyZW50LCBjaGlsZCwgcmVwb3J0ZXIpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdhY2Nlc3Nvcic6XG4gICAgICBjaGVja0FjY2Vzc29yRGVzY3JpcHRvcnMocGFyZW50LCBjaGlsZCwgcmVwb3J0ZXIpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxudmFyIHN1Z2dlc3Rpb25UcmFuc2Zvcm1zID0gW2Z1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpO1xufSwgZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4ga2V5LnRvVXBwZXJDYXNlKCk7XG59LCBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXkgKyAncyc7XG59LCBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXkuc2xpY2UoMCwgLTEpO1xufSwgZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4ga2V5LnNsaWNlKDEsIGtleS5sZW5ndGgpO1xufV07XG5cbmZ1bmN0aW9uIGZpbmRQb3NzaWJsZUFsdGVybmF0aXZlcyhzdXBlcktsYXNzLCBrZXkpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWdnZXN0aW9uVHJhbnNmb3Jtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgZm4gPSBzdWdnZXN0aW9uVHJhbnNmb3Jtc1tpXTtcbiAgICB2YXIgc3VnZ2VzdGlvbiA9IGZuKGtleSk7XG5cbiAgICBpZiAoc3VnZ2VzdGlvbiBpbiBzdXBlcktsYXNzKSB7XG4gICAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICBkZXNjcmlwdG9yLmtleSA9IGtleTtcbiAgdmFyIHN1cGVyS2xhc3MgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KTtcbiAgdmFyIHN1cGVyRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3VwZXJLbGFzcywga2V5KTtcbiAgdmFyIHJlcG9ydGVyID0gbmV3IFN5bnRheEVycm9yUmVwb3J0ZXIoc3VwZXJLbGFzcywgdGFyZ2V0LCBzdXBlckRlc2NyaXB0b3IsIGRlc2NyaXB0b3IpO1xuXG4gIGlmIChzdXBlckRlc2NyaXB0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBzdWdnZXN0ZWRLZXkgPSBmaW5kUG9zc2libGVBbHRlcm5hdGl2ZXMoc3VwZXJLbGFzcywga2V5KTtcbiAgICB2YXIgc3VnZ2VzdGlvbiA9IHN1Z2dlc3RlZEtleSA/ICdcXG5cXG4gIERpZCB5b3UgbWVhbiBcIicgKyBzdWdnZXN0ZWRLZXkgKyAnXCI/JyA6ICcnO1xuICAgIHJlcG9ydGVyLmVycm9yKCdObyBkZXNjcmlwdG9yIG1hdGNoaW5nIHtjaGlsZH0gd2FzIGZvdW5kIG9uIHRoZSBwcm90b3R5cGUgY2hhaW4uJyArIHN1Z2dlc3Rpb24pO1xuICB9XG5cbiAgY2hlY2tEZXNjcmlwdG9ycyhzdXBlckRlc2NyaXB0b3IsIGRlc2NyaXB0b3IsIHJlcG9ydGVyKTtcblxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3ZlcnJpZGUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkZWNvcmF0ZShoYW5kbGVEZXNjcmlwdG9yLCBhcmdzKTtcbn0iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZGVzYywgX3ZhbHVlLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjU7XG5cbmZ1bmN0aW9uIF9pbml0RGVmaW5lUHJvcCh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLFxuICAgIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGRlc2MgPSB7fTtcbiAgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gIH0pO1xuICBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTtcbiAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gIGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikge1xuICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICB9XG5cbiAgZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7XG4gIH0sIGRlc2MpO1xuXG4gIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgIGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwO1xuICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7XG4gICAgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7XG4gICAgZGVzYyA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gZGVzYztcbn1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCB0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkLicpO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuaW1wb3J0IGxhenlJbml0aWFsaXplIGZyb20gJy4uL2xhenktaW5pdGlhbGl6ZSc7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Rlc2NyaXB0b3IoZGVzYykge1xuICBpZiAoIWRlc2MgfHwgIWRlc2MuaGFzT3duUHJvcGVydHkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5cyA9IFsndmFsdWUnLCAnaW5pdGlhbGl6ZXInLCAnZ2V0JywgJ3NldCddO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoZGVzYy5oYXNPd25Qcm9wZXJ0eShrZXlzW2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgZW50cnlBcmdzKSB7XG4gIGlmIChpc0Rlc2NyaXB0b3IoZW50cnlBcmdzW2VudHJ5QXJncy5sZW5ndGggLSAxXSkpIHtcbiAgICByZXR1cm4gaGFuZGxlRGVzY3JpcHRvci5hcHBseSh1bmRlZmluZWQsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeUFyZ3MpLmNvbmNhdChbW11dKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYW5kbGVEZXNjcmlwdG9yLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLmNvbmNhdChbZW50cnlBcmdzXSkpO1xuICAgIH07XG4gIH1cbn1cblxudmFyIE1ldGEgPSAoX2NsYXNzID0gZnVuY3Rpb24gTWV0YSgpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1ldGEpO1xuXG4gIF9pbml0RGVmaW5lUHJvcCh0aGlzLCAnZGVib3VuY2VUaW1lb3V0SWRzJywgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gIF9pbml0RGVmaW5lUHJvcCh0aGlzLCAndGhyb3R0bGVUaW1lb3V0SWRzJywgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICBfaW5pdERlZmluZVByb3AodGhpcywgJ3Rocm90dGxlUHJldmlvdXNUaW1lc3RhbXBzJywgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICBfaW5pdERlZmluZVByb3AodGhpcywgJ3Rocm90dGxlVHJhaWxpbmdBcmdzJywgX2Rlc2NyaXB0b3I0LCB0aGlzKTtcblxuICBfaW5pdERlZmluZVByb3AodGhpcywgJ3Byb2ZpbGVMYXN0UmFuJywgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcbn0sIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgJ2RlYm91bmNlVGltZW91dElkcycsIFtsYXp5SW5pdGlhbGl6ZV0sIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgJ3Rocm90dGxlVGltZW91dElkcycsIFtsYXp5SW5pdGlhbGl6ZV0sIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgJ3Rocm90dGxlUHJldmlvdXNUaW1lc3RhbXBzJywgW2xhenlJbml0aWFsaXplXSwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCAndGhyb3R0bGVUcmFpbGluZ0FyZ3MnLCBbbGF6eUluaXRpYWxpemVdLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgJ3Byb2ZpbGVMYXN0UmFuJywgW2xhenlJbml0aWFsaXplXSwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pKSwgX2NsYXNzKTtcblxuXG52YXIgTUVUQV9LRVkgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nID8gU3ltYm9sKCdfX2NvcmVfZGVjb3JhdG9yc19fJykgOiAnX19jb3JlX2RlY29yYXRvcnNfXyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXRhRm9yKG9iaikge1xuICBpZiAob2JqLmhhc093blByb3BlcnR5KE1FVEFfS0VZKSA9PT0gZmFsc2UpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmosIE1FVEFfS0VZLCB7XG4gICAgICAvLyBEZWZhdWx0czogTk9UIGVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZSwgb3Igd3JpdGFibGVcbiAgICAgIHZhbHVlOiBuZXcgTWV0YSgpXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb2JqW01FVEFfS0VZXTtcbn1cblxuZXhwb3J0IHZhciBnZXRPd25LZXlzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gZnVuY3Rpb24gKG9iamVjdCkge1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KSk7XG59IDogZ2V0T3duUHJvcGVydHlOYW1lcztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSB7XG4gIHZhciBkZXNjcyA9IHt9O1xuXG4gIGdldE93bktleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gZGVzY3Nba2V5XSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XG4gIH0pO1xuXG4gIHJldHVybiBkZXNjcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTZXR0ZXIoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIC8vIElTIGVudW1lcmFibGUgd2hlbiByZWFzc2lnbmVkIGJ5IHRoZSBvdXRzaWRlIHdvcmRcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoZm4sIGNvbnRleHQpIHtcbiAgaWYgKGZuLmJpbmQpIHtcbiAgICByZXR1cm4gZm4uYmluZChjb250ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19hdXRvYmluZF9fKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIHdhcm4gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgodHlwZW9mIGNvbnNvbGUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbnNvbGUpKSAhPT0gJ29iamVjdCcgfHwgIWNvbnNvbGUgfHwgdHlwZW9mIGNvbnNvbGUud2FybiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmluZChjb25zb2xlLndhcm4sIGNvbnNvbGUpO1xuICB9XG59KCk7XG5cbnZhciBzZWVuRGVwcmVjYXRpb25zID0ge307XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxEZXByZWNhdGlvbihtc2cpIHtcbiAgaWYgKHNlZW5EZXByZWNhdGlvbnNbbXNnXSAhPT0gdHJ1ZSkge1xuICAgIHNlZW5EZXByZWNhdGlvbnNbbXNnXSA9IHRydWU7XG4gICAgd2FybignREVQUkVDQVRJT046ICcgKyBtc2cpO1xuICB9XG59IiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG5pbXBvcnQgeyBkZWNvcmF0ZSwgbWV0YUZvciwgd2FybiwgYmluZCB9IGZyb20gJy4vcHJpdmF0ZS91dGlscyc7XG5cbnZhciBvYyA9IGNvbnNvbGU7XG5cbi8vIEV4cG9ydGVkIGZvciBtb2NraW5nIGluIHRlc3RzXG5leHBvcnQgdmFyIGRlZmF1bHRDb25zb2xlID0ge1xuICBwcm9maWxlOiBjb25zb2xlLnByb2ZpbGUgPyBiaW5kKGNvbnNvbGUucHJvZmlsZSwgY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fSxcbiAgcHJvZmlsZUVuZDogY29uc29sZS5wcm9maWxlRW5kID8gYmluZChjb25zb2xlLnByb2ZpbGVFbmQsIGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge30sXG4gIHdhcm46IHdhcm5cbn07XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIF9yZWYpIHtcbiAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMyksXG4gICAgICBfcmVmMiQgPSBfcmVmMlswXSxcbiAgICAgIHByZWZpeCA9IF9yZWYyJCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IF9yZWYyJCxcbiAgICAgIF9yZWYyJDIgPSBfcmVmMlsxXSxcbiAgICAgIG9uY2VUaHJvdHRsZU9yRnVuY3Rpb24gPSBfcmVmMiQyID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYyJDIsXG4gICAgICBfcmVmMiQzID0gX3JlZjJbMl0sXG4gICAgICBjb25zb2xlID0gX3JlZjIkMyA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdENvbnNvbGUgOiBfcmVmMiQzO1xuXG4gIGlmICghcHJvZmlsZS5fX2VuYWJsZWQpIHtcbiAgICBpZiAoIXByb2ZpbGUuX193YXJuZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignY29uc29sZS5wcm9maWxlIGlzIG5vdCBzdXBwb3J0ZWQuIEFsbCBAcHJvZmlsZSBkZWNvcmF0b3JzIGFyZSBkaXNhYmxlZC4nKTtcbiAgICAgIHByb2ZpbGUuX193YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfVxuXG4gIHZhciBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgaWYgKHByZWZpeCA9PT0gbnVsbCkge1xuICAgIHByZWZpeCA9IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lICsgJy4nICsga2V5O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQHByb2ZpbGUgY2FuIG9ubHkgYmUgdXNlZCBvbiBmdW5jdGlvbnMsIG5vdDogJyArIGZuKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVzY3JpcHRvciwge1xuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgdmFyIG1ldGEgPSBtZXRhRm9yKHRoaXMpO1xuICAgICAgaWYgKG9uY2VUaHJvdHRsZU9yRnVuY3Rpb24gPT09IHRydWUgJiYgIW1ldGEucHJvZmlsZUxhc3RSYW4gfHwgb25jZVRocm90dGxlT3JGdW5jdGlvbiA9PT0gZmFsc2UgfHwgdHlwZW9mIG9uY2VUaHJvdHRsZU9yRnVuY3Rpb24gPT09ICdudW1iZXInICYmIG5vdyAtIG1ldGEucHJvZmlsZUxhc3RSYW4gPiBvbmNlVGhyb3R0bGVPckZ1bmN0aW9uIHx8IHR5cGVvZiBvbmNlVGhyb3R0bGVPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nICYmIG9uY2VUaHJvdHRsZU9yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICBjb25zb2xlLnByb2ZpbGUocHJlZml4KTtcbiAgICAgICAgbWV0YS5wcm9maWxlTGFzdFJhbiA9IG5vdztcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjb25zb2xlLnByb2ZpbGVFbmQocHJlZml4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9maWxlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59XG5cbi8vIE9ubHkgQ2hyb21lLCBGaXJlZm94LCBhbmQgRWRnZSBzdXBwb3J0IHByb2ZpbGUuXG4vLyBFeHBvc2luZyBwcm9wZXJ0aWVzIGZvciB0ZXN0aW5nLlxucHJvZmlsZS5fX2VuYWJsZWQgPSAhIWNvbnNvbGUucHJvZmlsZTtcbnByb2ZpbGUuX193YXJuZWQgPSBmYWxzZTsiLCJpbXBvcnQgeyBkZWNvcmF0ZSB9IGZyb20gJy4vcHJpdmF0ZS91dGlscyc7XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVhZG9ubHkoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkZWNvcmF0ZShoYW5kbGVEZXNjcmlwdG9yLCBhcmdzKTtcbn0iLCJ2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmltcG9ydCB7IGRlY29yYXRlIH0gZnJvbSAnLi9wcml2YXRlL3V0aWxzJztcblxuZnVuY3Rpb24gc3VwcHJlc3NlZFdhcm5pbmdOb29wKCkge1xuICAvLyBXYXJuaW5ncyBhcmUgY3VycmVudGx5IHN1cHByZXNzZWQgdmlhIEBzdXBwcmVzc1dhcm5pbmdzXG59XG5cbmZ1bmN0aW9uIGFwcGx5V2l0aG91dFdhcm5pbmdzKGNvbnRleHQsIGZuLCBhcmdzKSB7XG4gIGlmICgodHlwZW9mIGNvbnNvbGUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNvbnNvbGUpKSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgbmF0aXZlV2FybiA9IGNvbnNvbGUud2FybjtcbiAgICBjb25zb2xlLndhcm4gPSBzdXBwcmVzc2VkV2FybmluZ05vb3A7XG4gICAgdmFyIHJldCA9IGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIGNvbnNvbGUud2FybiA9IG5hdGl2ZVdhcm47XG4gICAgcmV0dXJuIHJldDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVzY3JpcHRvcih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGRlc2NyaXB0b3IsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VwcHJlc3NXYXJuaW5nc1dyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gYXBwbHlXaXRob3V0V2FybmluZ3ModGhpcywgZGVzY3JpcHRvci52YWx1ZSwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdXBwcmVzc1dhcm5pbmdzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGVjb3JhdGUoaGFuZGxlRGVzY3JpcHRvciwgYXJncyk7XG59IiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG5pbXBvcnQgeyBkZWNvcmF0ZSwgbWV0YUZvciwgaW50ZXJuYWxEZXByZWNhdGlvbiB9IGZyb20gJy4vcHJpdmF0ZS91dGlscyc7XG5cbnZhciBERUZBVUxUX1RJTUVPVVQgPSAzMDA7XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIF9yZWYpIHtcbiAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICBfcmVmMiQgPSBfcmVmMlswXSxcbiAgICAgIHdhaXQgPSBfcmVmMiQgPT09IHVuZGVmaW5lZCA/IERFRkFVTFRfVElNRU9VVCA6IF9yZWYyJCxcbiAgICAgIF9yZWYyJDIgPSBfcmVmMlsxXSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMiQyID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYyJDI7XG5cbiAgdmFyIGNhbGxiYWNrID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdPbmx5IGZ1bmN0aW9ucyBjYW4gYmUgdGhyb3R0bGVkJyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5sZWFkaW5nICE9PSBmYWxzZSkge1xuICAgIG9wdGlvbnMubGVhZGluZyA9IHRydWU7XG4gIH1cblxuICBpZiAob3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICBvcHRpb25zLnRyYWlsaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVzY3JpcHRvciwge1xuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBtZXRhID0gbWV0YUZvcih0aGlzKTtcbiAgICAgIHZhciB0aHJvdHRsZVRpbWVvdXRJZHMgPSBtZXRhLnRocm90dGxlVGltZW91dElkcyxcbiAgICAgICAgICB0aHJvdHRsZVByZXZpb3VzVGltZXN0YW1wcyA9IG1ldGEudGhyb3R0bGVQcmV2aW91c1RpbWVzdGFtcHM7XG5cbiAgICAgIHZhciB0aW1lb3V0ID0gdGhyb3R0bGVUaW1lb3V0SWRzW2tleV07XG4gICAgICAvLyBsYXN0IGV4ZWN1dGUgdGltZXN0YW1wXG4gICAgICB2YXIgcHJldmlvdXMgPSB0aHJvdHRsZVByZXZpb3VzVGltZXN0YW1wc1trZXldIHx8IDA7XG4gICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgaWYgKG9wdGlvbnMudHJhaWxpbmcpIHtcbiAgICAgICAgbWV0YS50aHJvdHRsZVRyYWlsaW5nQXJncyA9IGFyZ3VtZW50cztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgZmlyc3QgYmUgY2FsbGVkIGFuZCBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZVxuICAgICAgLy8gc2V0IGxhc3QgZXhlY3V0ZSB0aW1lc3RhbXAgdG8gbm93XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICB9XG5cbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcblxuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgZGVsZXRlIHRocm90dGxlVGltZW91dElkc1trZXldO1xuICAgICAgICB0aHJvdHRsZVByZXZpb3VzVGltZXN0YW1wc1trZXldID0gbm93O1xuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nKSB7XG4gICAgICAgIHRocm90dGxlVGltZW91dElkc1trZXldID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3R0bGVQcmV2aW91c1RpbWVzdGFtcHNba2V5XSA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogRGF0ZS5ub3coKTtcbiAgICAgICAgICBkZWxldGUgdGhyb3R0bGVUaW1lb3V0SWRzW2tleV07XG4gICAgICAgICAgY2FsbGJhY2suYXBwbHkoX3RoaXMsIG1ldGEudGhyb3R0bGVUcmFpbGluZ0FyZ3MpO1xuICAgICAgICAgIC8vIGRvbid0IGxlYWsgbWVtb3J5IVxuICAgICAgICAgIG1ldGEudGhyb3R0bGVUcmFpbGluZ0FyZ3MgPSBudWxsO1xuICAgICAgICB9LCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKCkge1xuICBpbnRlcm5hbERlcHJlY2F0aW9uKCdAdGhyb3R0bGUgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIHNob3J0bHkuIFVzZSBAdGhyb3R0bGUgZnJvbSBsb2Rhc2gtZGVjb3JhdG9ycy5cXG5cXG4gIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2xvZGFzaC1kZWNvcmF0b3JzJyk7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRlY29yYXRlKGhhbmRsZURlc2NyaXB0b3IsIGFyZ3MpO1xufSIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuaW1wb3J0IHsgZGVjb3JhdGUgfSBmcm9tICcuL3ByaXZhdGUvdXRpbHMnO1xuXG52YXIgbGFiZWxzID0ge307XG5cbi8vIEV4cG9ydGVkIGZvciBtb2NraW5nIGluIHRlc3RzXG5leHBvcnQgdmFyIGRlZmF1bHRDb25zb2xlID0ge1xuICB0aW1lOiBjb25zb2xlLnRpbWUgPyBjb25zb2xlLnRpbWUuYmluZChjb25zb2xlKSA6IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgIGxhYmVsc1tsYWJlbF0gPSBuZXcgRGF0ZSgpO1xuICB9LFxuICB0aW1lRW5kOiBjb25zb2xlLnRpbWVFbmQgPyBjb25zb2xlLnRpbWVFbmQuYmluZChjb25zb2xlKSA6IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgIHZhciB0aW1lTm93ID0gbmV3IERhdGUoKTtcbiAgICB2YXIgdGltZVRha2VuID0gdGltZU5vdyAtIGxhYmVsc1tsYWJlbF07XG4gICAgZGVsZXRlIGxhYmVsc1tsYWJlbF07XG4gICAgY29uc29sZS5sb2cobGFiZWwgKyAnOiAnICsgdGltZVRha2VuICsgJ21zJyk7XG4gIH1cbn07XG5cbnZhciBjb3VudCA9IDA7XG5cbmZ1bmN0aW9uIGhhbmRsZURlc2NyaXB0b3IodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIF9yZWYpIHtcbiAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICBfcmVmMiQgPSBfcmVmMlswXSxcbiAgICAgIHByZWZpeCA9IF9yZWYyJCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IF9yZWYyJCxcbiAgICAgIF9yZWYyJDIgPSBfcmVmMlsxXSxcbiAgICAgIGNvbnNvbGUgPSBfcmVmMiQyID09PSB1bmRlZmluZWQgPyBkZWZhdWx0Q29uc29sZSA6IF9yZWYyJDI7XG5cbiAgdmFyIGZuID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICBpZiAocHJlZml4ID09PSBudWxsKSB7XG4gICAgcHJlZml4ID0gdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUgKyAnLicgKyBrZXk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdAdGltZSBjYW4gb25seSBiZSB1c2VkIG9uIGZ1bmN0aW9ucywgbm90OiAnICsgZm4pO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZXNjcmlwdG9yLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgdmFyIGxhYmVsID0gcHJlZml4ICsgJy0nICsgY291bnQ7XG4gICAgICBjb3VudCsrO1xuICAgICAgY29uc29sZS50aW1lKGxhYmVsKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQobGFiZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRpbWUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkZWNvcmF0ZShoYW5kbGVEZXNjcmlwdG9yLCBhcmdzKTtcbn0iLCIvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgZXhwb3J0TmFtZSwgdW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxudmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xudmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG52YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgYWJzID0gTWF0aC5hYnM7XG52YXIgbm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG59XG5cbi8qKlxuICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnlcbiAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp8QXJyYXl9IGFyZ1xuICogQHBhcmFtIHtTdHJpbmd9IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBpO1xuXG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmouZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogd3JhcCBhIG1ldGhvZCB3aXRoIGEgZGVwcmVjYXRpb24gd2FybmluZyBhbmQgc3RhY2sgdHJhY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcbiAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG5cbiAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG4gICAgICAgIGlmIChsb2cpIHtcbiAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cbiAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuICovXG52YXIgYXNzaWduO1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGRlc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBkZXN0IHdpbGwgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHNyY1xuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTtcbn0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuICovXG5mdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG4gICAgICAgIGNoaWxkUDtcblxuICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2lnbihjaGlsZFAsIHByb3BlcnRpZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG4gKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBUWVBFX0ZVTkNUSU9OKSB7XG4gICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cblxuLyoqXG4gKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuICogQHBhcmFtIHsqfSB2YWwxXG4gKiBAcGFyYW0geyp9IHZhbDJcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBpZlVuZGVmaW5lZCh2YWwxLCB2YWwyKSB7XG4gICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG59XG5cbi8qKlxuICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG4gKiBAbWV0aG9kIGhhc1BhcmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xufVxuXG4vKipcbiAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0U3RyKHN0cikge1xuICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcbiAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcbiAqL1xuZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuICAgIGlmIChzcmMuaW5kZXhPZiAmJiAhZmluZEJ5S2V5KSB7XG4gICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbi8qKlxuICogY29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gcmVhbCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcbn1cblxuLyoqXG4gKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcbiAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG4gKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG4gKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuICovXG5mdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG4gICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIHNvcnRVbmlxdWVBcnJheShhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcbiAqL1xuZnVuY3Rpb24gcHJlZml4ZWQob2JqLCBwcm9wZXJ0eSkge1xuICAgIHZhciBwcmVmaXgsIHByb3A7XG4gICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcbiAgICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBnZXQgYSB1bmlxdWUgaWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG4gKi9cbnZhciBfdW5pcXVlSWQgPSAxO1xuZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIF91bmlxdWVJZCsrO1xufVxuXG4vKipcbiAqIGdldCB0aGUgd2luZG93IG9iamVjdCBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcbn1cblxudmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcblxudmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcbnZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luZG93LCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcbnZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG52YXIgSU5QVVRfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG52YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcbnZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcbnZhciBJTlBVVF9UWVBFX0tJTkVDVCA9ICdraW5lY3QnO1xuXG52YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXG52YXIgSU5QVVRfU1RBUlQgPSAxO1xudmFyIElOUFVUX01PVkUgPSAyO1xudmFyIElOUFVUX0VORCA9IDQ7XG52YXIgSU5QVVRfQ0FOQ0VMID0gODtcblxudmFyIERJUkVDVElPTl9OT05FID0gMTtcbnZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcbnZhciBESVJFQ1RJT05fVVAgPSA4O1xudmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cbnZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xudmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xudmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblxudmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcbnZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXG4gICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsXG4gICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cbklucHV0LnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG4gICAgdmFyIFR5cGU7XG4gICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblxuICAgIGlmIChpbnB1dENsYXNzKSB7XG4gICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG4gICAgfSBlbHNlIGlmICghU1VQUE9SVF9UT1VDSCkge1xuICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xufVxuXG4vKipcbiAqIGhhbmRsZSBpbnB1dCBldmVudHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuICAgIHZhciBpc0ZpbmFsID0gKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXG4gICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcbiAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsO1xuXG4gICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG4gICAgfVxuXG4gICAgLy8gc291cmNlIGV2ZW50IGlzIHRoZSBub3JtYWxpemVkIHZhbHVlIG9mIHRoZSBkb21FdmVudHNcbiAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcbiAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcbiAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblxuICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG4gICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cbiAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG4gICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xufVxuXG4vKipcbiAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzO1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cbiAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDtcbiAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcbiAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcbiAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcblxuICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuICAgIGlucHV0LmRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXG4gICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cbiAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblxuICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG4gICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblxuICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cbiAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXG4gICAgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcbiAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IGlucHV0LnNyY0V2ZW50LnRhcmdldDtcbiAgICB9XG4gICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG4gICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcbiAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuICAgICAgICB9O1xuXG4gICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG4gICAgaW5wdXQuZGVsdGFZID0gcHJldkRlbHRhLnkgKyAoY2VudGVyLnkgLSBvZmZzZXQueSk7XG59XG5cbi8qKlxuICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsXG4gICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuICAgICAgICB2YXIgZGVsdGFZID0gaW5wdXQuZGVsdGFZIC0gbGFzdC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgdmVsb2NpdHlYID0gdi54O1xuICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG4gICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuICAgICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuXG4gICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG4gICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYO1xuICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcbiAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG4gICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYSBzaW1wbGUgY2xvbmUgZnJvbSB0aGUgaW5wdXQgdXNlZCBmb3Igc3RvcmFnZSBvZiBmaXJzdElucHV0IGFuZCBmaXJzdE11bHRpcGxlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICovXG5mdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuICAgIHZhciBwb2ludGVycyA9IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgICAgICBwb2ludGVyc1tpXSA9IHtcbiAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuICAgICAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcbiAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcbiAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcbiAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG4gICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG4gICAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcbiAgICB9O1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG4gICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuICAgIH1cblxuICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG4gICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMVxuICogQHBhcmFtIHtPYmplY3R9IHAyXG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXRBbmdsZShlbmRbMV0sIGVuZFswXSwgUFJPUFNfQ0xJRU5UX1hZKSArIGdldEFuZ2xlKHN0YXJ0WzFdLCBzdGFydFswXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbnZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG4gICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG4gICAgbW91c2V1cDogSU5QVVRfRU5EXG59O1xuXG52YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcbnZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcblxuLyoqXG4gKiBNb3VzZSBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcblxuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTUVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBQT0lOVEVSX0lOUFVUX01BUCA9IHtcbiAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG4gICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG4gICAgcG9pbnRlcnVwOiBJTlBVVF9FTkQsXG4gICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxufTtcblxuLy8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cbnZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0ge1xuICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgMzogSU5QVVRfVFlQRV9QRU4sXG4gICAgNDogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcbn07XG5cbnZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbnZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXG4vLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcbmlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG59XG5cbi8qKlxuICogUG9pbnRlciBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuc3RvcmUgPSAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cyA9IFtdKTtcbn1cblxuaW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcbiAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblxuICAgICAgICAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG4gICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcbiAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcilcbiAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG4gICAgICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xudmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBUb3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuICAgICAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG59XG5cbnZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFRPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy50YXJnZXRJZHMgPSB7fTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG4gICAgICAgIGlmICghdG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzO1xuXG4gICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICBpZiAodHlwZSAmIChJTlBVVF9TVEFSVCB8IElOUFVUX01PVkUpICYmIGFsbFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaSxcbiAgICAgICAgdGFyZ2V0VG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cbiAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG4gICAgdGFyZ2V0VG91Y2hlcyA9IGFsbFRvdWNoZXMuZmlsdGVyKGZ1bmN0aW9uKHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gY29sbGVjdCB0b3VjaGVzXG4gICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoIWNoYW5nZWRUYXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG4gICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcbiAgICBdO1xufVxuXG4vKipcbiAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICpcbiAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuXG52YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG52YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblxuZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkge1xuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgaGFuZGxlciA9IGJpbmRGbih0aGlzLmhhbmRsZXIsIHRoaXMpO1xuICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXG4gICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcbn1cblxuaW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRNRWhhbmRsZXIobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcbiAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXG4gICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayhtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblxuICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnByaW1hcnlUb3VjaCkge1xuICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcbiAgICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG4gICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFgsIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuICAgICAgICB2YXIgZHggPSBNYXRoLmFicyh4IC0gdC54KSwgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcbiAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xudmFyIE5BVElWRV9UT1VDSF9BQ1RJT04gPSBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gIT09IHVuZGVmaW5lZDtcblxuLy8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxudmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xudmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xudmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG52YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14JztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xudmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cbi8qKlxuICogVG91Y2ggQWN0aW9uXG4gKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkge1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5zZXQodmFsdWUpO1xufVxuXG5Ub3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICBpZiAodmFsdWUgPT0gVE9VQ0hfQUNUSU9OX0NPTVBVVEUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGUgdGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlY29nbml6ZXIncyBzZXR0aW5nc1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgY29tcHV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblxuICAgICAgICAvLyBpZiB0aGUgdG91Y2ggYWN0aW9uIGRpZCBwcmV2ZW50ZWQgb25jZSB0aGlzIHNlc3Npb25cbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuICAgICAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9YXTtcblxuICAgICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAgICAgLy9kbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcblxuICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIHZhciBpc1RhcE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCAyO1xuICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXG4gICAgICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzTm9uZSB8fFxuICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG4gICAgICAgICAgICAoaGFzUGFuWCAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcbiAgICAgKi9cbiAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAvLyBub25lXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblxuICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG4gICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgLy8gcGFuLXggT1IgcGFuLXlcbiAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBoYXNQYW5YID8gVE9VQ0hfQUNUSU9OX1BBTl9YIDogVE9VQ0hfQUNUSU9OX1BBTl9ZO1xuICAgIH1cblxuICAgIC8vIG1hbmlwdWxhdGlvblxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG4gICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRvdWNoTWFwID0ge307XG4gICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cbiAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG4gICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cbiAgICAgICAgdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luZG93LkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoTWFwO1xufVxuXG4vKipcbiAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcbiAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cbiAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG4gKlxuICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cbiAqXG4gKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG4gKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuICpcbiAqICAgICAgICAgICAgICAgUG9zc2libGVcbiAqICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG4gKi9cbnZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG52YXIgU1RBVEVfQkVHQU4gPSAyO1xudmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xudmFyIFNUQVRFX0VOREVEID0gODtcbnZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7XG52YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG52YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cbi8qKlxuICogUmVjb2duaXplclxuICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSBudWxsO1xuXG4gICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuICAgIHRoaXMub3B0aW9ucy5lbmFibGUgPSBpZlVuZGVmaW5lZCh0aGlzLm9wdGlvbnMuZW5hYmxlLCB0cnVlKTtcblxuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblxuICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG4gICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xufVxuXG5SZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1JlY29nbml6ZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG4gICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcbiAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlY29nbml6ZVdpdGgodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcbiAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXG4gICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG4gICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuICAgICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG4gICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuIHdlIGVtaXQ/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGFcbiAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcbiAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXG4gICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfUkVDT0dOSVpFRCB8IFNUQVRFX0NBTkNFTExFRCB8IFNUQVRFX0ZBSUxFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXG4gICAgICAgIC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuICAgICAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG4gICAgICogdGhlIGFjdHVhbCByZWNvZ25pemluZyBoYXBwZW5zIGluIHRoaXMgbWV0aG9kXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICogQHJldHVybnMge0NvbnN0fSBTVEFURVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGxlZCB3aGVuIHRoZSBnZXN0dXJlIGlzbid0IGFsbG93ZWQgdG8gcmVjb2duaXplXG4gICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG59O1xuXG4vKipcbiAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuICogQHBhcmFtIHtDb25zdH0gc3RhdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gKi9cbmZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICAgIHJldHVybiAnY2FuY2VsJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgcmV0dXJuICdlbmQnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG4gICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICAgIHJldHVybiAnc3RhcnQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG4gKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG4gICAgICAgIHJldHVybiAnZG93bic7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICAgIHJldHVybiAndXAnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG4gICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuICovXG5mdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gb3RoZXJSZWNvZ25pemVyO1xufVxuXG4vKipcbiAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuICAgICAqL1xuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHJldHVybiBvcHRpb25Qb2ludGVycyA9PT0gMCB8fCBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvblBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXG4gICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXG4gICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcbiAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0FOQ0VMTEVEO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfRU5ERUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGFuXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnBYID0gbnVsbDtcbiAgICB0aGlzLnBZID0gbnVsbDtcbn1cblxuaW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGFuJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH0sXG5cbiAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG4gICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG4gICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geSAhPSB0aGlzLnBZO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblxuICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQaW5jaFxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQaW5jaFJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQuc2NhbGUgLSAxKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBpbk91dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFByZXNzXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbn1cblxuaW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncHJlc3MnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGltZTogMjUxLCAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPiBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSb3RhdGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChSb3RhdGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUm90YXRlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncm90YXRlJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFN3aXBlXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3N3aXBlJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgdmVsb2NpdHk6IDAuMyxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUGFuUmVjb2duaXplci5wcm90b3R5cGUuZ2V0VG91Y2hBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgdmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG4gICAgICAgICAgICBpbnB1dC5tYXhQb2ludGVycyA9PSB0aGlzLm9wdGlvbnMucG9pbnRlcnMgJiZcbiAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQSB0YXAgaXMgZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG9pbmcgYSBzbWFsbCB0YXAvY2xpY2suIE11bHRpcGxlIHRhcHMgYXJlIHJlY29nbml6ZWQgaWYgdGhleSBvY2N1clxuICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG4gKiBhIHNpbmdsZSB0YXAuXG4gKlxuICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG4gKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gVGFwUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsXG4gICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG4gICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuICAgIHRoaXMucENlbnRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbn1cblxuaW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3RhcCcsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0YXBzOiAxLFxuICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG4gICAgICAgIHRocmVzaG9sZDogOSwgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG4gICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cbiAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG4gICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cbiAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRhcCBjb3VudCBtYXRjaGVzIHdlIGhhdmUgcmVjb2duaXplZCBpdCxcbiAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG4gICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuICAgICAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGFwQ291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuICAgIHJldHVybiBuZXcgTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuSGFtbWVyLlZFUlNJT04gPSAnMi4wLjcnO1xuXG4vKipcbiAqIGRlZmF1bHQgc2V0dGluZ3NcbiAqIEBuYW1lc3BhY2VcbiAqL1xuSGFtbWVyLmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG4gICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRvbUV2ZW50czogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cbiAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcbiAgICAgKi9cbiAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZW5hYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZFxuICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG4gICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0VGFyZ2V0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3NcbiAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRDbGFzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHByZXNldDogW1xuICAgICAgICAvLyBSZWNvZ25pemVyQ2xhc3MsIG9wdGlvbnMsIFtyZWNvZ25pemVXaXRoLCAuLi5dLCBbcmVxdWlyZUZhaWx1cmUsIC4uLl1cbiAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG4gICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG4gICAgICAgIFtTd2lwZVJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfV0sXG4gICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXIsIHtldmVudDogJ2RvdWJsZXRhcCcsIHRhcHM6IDJ9LCBbJ3RhcCddXSxcbiAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cbiAgICBdLFxuXG4gICAgLyoqXG4gICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cbiAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIGNzc1Byb3BzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcbiAgICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJEcmFnOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG4gICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG4gICAgICAgICAqL1xuICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG4gICAgfVxufTtcblxudmFyIFNUT1AgPSAxO1xudmFyIEZPUkNFRF9TVE9QID0gMjtcblxuLyoqXG4gKiBNYW5hZ2VyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG5cbiAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXG4gICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cbiAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcbiAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuICAgIH0sIHRoaXMpO1xufVxuXG5NYW5hZ2VyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcbiAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG4gICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcbiAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXI7XG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cbiAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcbiAgICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblxuICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cbiAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cbiAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuICAgICAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG4gICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuICAgICAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcbiAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkgeyAvLyAzXG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG4gICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcbiAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxOdWxsfVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT0gcmVjb2duaXplcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb2duaXplcnMucHVzaChyZWNvZ25pemVyKTtcbiAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblxuICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuICAgICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG4gICAgICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG4gICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcbiAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtCb29sZWFufSBhZGRcbiAqL1xuZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByb3A7XG4gICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICB9XG59XG5cbi8qKlxuICogdHJpZ2dlciBkb20gZXZlbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7XG4gICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcbiAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG59XG5cbmFzc2lnbihIYW1tZXIsIHtcbiAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG4gICAgSU5QVVRfTU9WRTogSU5QVVRfTU9WRSxcbiAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcbiAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblxuICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcbiAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG4gICAgU1RBVEVfQ0hBTkdFRDogU1RBVEVfQ0hBTkdFRCxcbiAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG4gICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcbiAgICBTVEFURV9DQU5DRUxMRUQ6IFNUQVRFX0NBTkNFTExFRCxcbiAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblxuICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSxcbiAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG4gICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG4gICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsXG4gICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcbiAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXG4gICAgTWFuYWdlcjogTWFuYWdlcixcbiAgICBJbnB1dDogSW5wdXQsXG4gICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXG4gICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcbiAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuICAgIFBvaW50ZXJFdmVudElucHV0OiBQb2ludGVyRXZlbnRJbnB1dCxcbiAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcbiAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXG4gICAgUmVjb2duaXplcjogUmVjb2duaXplcixcbiAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG4gICAgVGFwOiBUYXBSZWNvZ25pemVyLFxuICAgIFBhbjogUGFuUmVjb2duaXplcixcbiAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsXG4gICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cbiAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG4gICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcbiAgICBlYWNoOiBlYWNoLFxuICAgIG1lcmdlOiBtZXJnZSxcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBpbmhlcml0OiBpbmhlcml0LFxuICAgIGJpbmRGbjogYmluZEZuLFxuICAgIHByZWZpeGVkOiBwcmVmaXhlZFxufSk7XG5cbi8vIHRoaXMgcHJldmVudHMgZXJyb3JzIHdoZW4gSGFtbWVyIGlzIGxvYWRlZCBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EXG4vLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cbnZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmZyZWVHbG9iYWwuSGFtbWVyID0gSGFtbWVyO1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gSGFtbWVyO1xuICAgIH0pO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG59IGVsc2Uge1xuICAgIHdpbmRvd1tleHBvcnROYW1lXSA9IEhhbW1lcjtcbn1cblxufSkod2luZG93LCBkb2N1bWVudCwgJ0hhbW1lcicpO1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsImltcG9ydCB7XG4gIEZvb3RlcixcbiAgSGVhZGVyLFxuICBTdGlja3lCYXIsXG59IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBEYXNoYm9hcmQsXG4gIEhvbWUsXG4gIFByb2plY3RQcmV2aWV3LFxuICBSZWdpc3RlcixcbiAgU3R5bGVndWlkZSxcbiAgVGVhc2VyLFxufSBmcm9tICcuL3BhZ2VzJztcbmltcG9ydCB7XG4gIEFjY29yZGlvbixcbiAgQWpheE1vZGFsLFxuICBBbGVydCxcbiAgQW5pbWF0ZVNoYXBlcyxcbiAgQ2FyZFN0YWNrLFxuICBDYXRlZ29yeUZpbHRlcixcbiAgSG9tZUNvbmNsdXNpb25TaGFwZXMsXG4gIEhvbWVOdW1iZXJBbmltYXRpb24sXG4gIEhvbWVUaG91Z2h0U3RhcnRlcixcbiAgSG9tZVZpZGVvUGxheWVyLFxuICBMaXN0QWNjb3JkaW9uLFxuICBSZXNvdXJjZU5hdixcbiAgU2Nyb2xsVG8sXG59IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBDb25zZW50Rm9ybSxcbiAgRm9ybXMsXG4gIENoZWNrTGlzdCxcbiAgSW5zcGlyaW5nRWR1Y2F0b3IsXG4gIFBhcmVudGFsQ29uc2VudCxcbiAgUHJvZmlsZSxcbiAgU3RlcEZvcm0sXG4gIFN0ZXBTdW1tYXJ5Rm9ybSxcbiAgVGVhbUZvcm0sXG4gIFRlYXNlckZvcm0sXG59IGZyb20gJy4vZm9ybXMnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCBSaXBwbGUsIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi91dGlsJztcblxuZGVjbGFyZSBjb25zdCBhbmd1bGFyOiBhbnk7XG5kZWNsYXJlIGNvbnN0IGdsdWU6IGFueTtcbmRlY2xhcmUgY29uc3QgaGVyY3VsZXM6IGFueTtcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBNRENfQlVUVE9OUzogJy5tZGMtYnV0dG9uJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvcmUge1xuICBwYWdlPzogc3RyaW5nO1xuICBwaGFzZT86IHN0cmluZztcbiAgY2FyZFN0YWNrPzogQ2FyZFN0YWNrO1xuICBoZWFkZXI6IEhlYWRlcjtcbiAgZm9vdGVyOiBGb290ZXI7XG4gIHRlYXNlcj86IFRlYXNlcjtcbiAgc3R5bGVndWlkZT86IFN0eWxlZ3VpZGU7XG4gIGZvcm1zPzogRm9ybXM7XG4gIG1kY0J1dHRvbnM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgaG9tZT86IEhvbWU7XG4gIGhvbWVDb25jbHVzaW9uU2hhcGVzPzogSG9tZUNvbmNsdXNpb25TaGFwZXM7XG4gIGhvbWVOdW1iZXJBbmltYXRpb25zPzogSG9tZU51bWJlckFuaW1hdGlvbjtcbiAgaG9tZVRob3VnaHRTdGFydGVyPzogSG9tZVRob3VnaHRTdGFydGVyO1xuICBob21lVmlkZW9QbGF5ZXI/OiBIb21lVmlkZW9QbGF5ZXI7XG4gIGFqYXhNb2RhbD86IEFqYXhNb2RhbDtcbiAgcHJvZmlsZT86IFByb2ZpbGU7XG4gIHByb2plY3RQcmV2aWV3PzogUHJvamVjdFByZXZpZXc7XG4gIHJlZ2lzdGVyPzogUmVnaXN0ZXI7XG4gIHN0ZXBGb3JtPzogU3RlcEZvcm07XG4gIHN0ZXBTdW1tYXJ5Rm9ybT86IFN0ZXBTdW1tYXJ5Rm9ybTtcbiAgdGVhbUZvcm0/OiBUZWFtRm9ybTtcbiAgcHJlZmVyc1JlZHVjZWRNb3Rpb246IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIENvcmUgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYWdlPzogc3RyaW5nKSB7XG4gICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICB0aGlzLnBoYXNlID0gZG9jdW1lbnQuYm9keS5kYXRhc2V0LnBoYXNlO1xuICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcih0aGlzKTtcbiAgICB0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIodGhpcyk7XG4gICAgdGhpcy5tZGNCdXR0b25zID0gbm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLk1EQ19CVVRUT05TKSk7XG4gICAgdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbiknKS5tYXRjaGVzO1xuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLm1kY0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBpZiAoUmlwcGxlKSB7XG4gICAgICAgIG5ldyBSaXBwbGUoYnV0dG9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuUkVEVUNFX01PVElPTik7XG4gICAgfVxuICAgIHRoaXMuYW5ndWxhckJvb3RzdHJhcCgpO1xuXG4gICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMucGFnZSkge1xuICAgICAgY2FzZSAnY29tcGV0aXRpb24taW5mbyc6XG4gICAgICAgIHRoaXMuY2FyZFN0YWNrID0gbmV3IENhcmRTdGFjaygpO1xuICAgICAgICB0aGlzLmFqYXhNb2RhbCA9IG5ldyBBamF4TW9kYWwodGhpcyk7XG4gICAgICAgIGlmICghdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgICAgIG5ldyBBbmltYXRlU2hhcGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlZHVjYXRvci1yZXNvdXJjZXMnOlxuICAgICAgICB0aGlzLmNhcmRTdGFjayA9IG5ldyBDYXJkU3RhY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHVkZW50LXJlc291cmNlcyc6XG4gICAgICAgIHRoaXMuY2FyZFN0YWNrID0gbmV3IENhcmRTdGFjaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZhcSc6XG4gICAgICAgIG5ldyBTY3JvbGxUbygpO1xuICAgICAgICBuZXcgQWNjb3JkaW9uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaG9tZSc6XG4gICAgICAgIGlmICh0aGlzLnBoYXNlID09PSAnb3BlbicpIHsgLy8gUGhhc2UgMVxuICAgICAgICAgIHRoaXMuY2FyZFN0YWNrID0gbmV3IENhcmRTdGFjaygpO1xuICAgICAgICAgIHRoaXMuYWpheE1vZGFsID0gbmV3IEFqYXhNb2RhbCh0aGlzKTtcbiAgICAgICAgICBuZXcgQ2F0ZWdvcnlGaWx0ZXIoKTtcbiAgICAgICAgICB0aGlzLmhvbWUgPSBuZXcgSG9tZSh0aGlzKTtcbiAgICAgICAgICBpZiAoIXRoaXMucHJlZmVyc1JlZHVjZWRNb3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuaG9tZUNvbmNsdXNpb25TaGFwZXMgPSBuZXcgSG9tZUNvbmNsdXNpb25TaGFwZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5ob21lTnVtYmVyQW5pbWF0aW9ucyA9IG5ldyBIb21lTnVtYmVyQW5pbWF0aW9uKHRoaXMpO1xuICAgICAgICAgIHRoaXMuaG9tZVRob3VnaHRTdGFydGVyID0gbmV3IEhvbWVUaG91Z2h0U3RhcnRlcih0aGlzKTtcbiAgICAgICAgICB0aGlzLmhvbWVWaWRlb1BsYXllciA9IG5ldyBIb21lVmlkZW9QbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBoYXNlID09PSAnanVkZ2luZycpIHsgLy8gUGhhc2UgMlxuICAgICAgICAgIHRoaXMuaG9tZSA9IG5ldyBIb21lKHRoaXMpO1xuICAgICAgICAgIG5ldyBUZWFzZXJGb3JtKHRoaXMpO1xuICAgICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgICAgdGhpcy5ob21lVGhvdWdodFN0YXJ0ZXIgPSBuZXcgSG9tZVRob3VnaHRTdGFydGVyKCk7XG4gICAgICAgICAgdGhpcy5ob21lVmlkZW9QbGF5ZXIgPSBuZXcgSG9tZVZpZGVvUGxheWVyKCk7XG4gICAgICAgICAgdGhpcy5hamF4TW9kYWwgPSBuZXcgQWpheE1vZGFsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBQaGFzZSAzK1xuICAgICAgICAgIHRoaXMuaG9tZSA9IG5ldyBIb21lKHRoaXMpO1xuICAgICAgICAgIG5ldyBUZWFzZXJGb3JtKHRoaXMpO1xuICAgICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgICAgdGhpcy5hamF4TW9kYWwgPSBuZXcgQWpheE1vZGFsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb21wZXRpdGlvbi1wYXN0LXByb2plY3RzJzpcbiAgICAgICAgdGhpcy5hamF4TW9kYWwgPSBuZXcgQWpheE1vZGFsKHRoaXMpO1xuICAgICAgICBjb25zdCBsaXN0QWNjb3JkaW9uID1cbiAgICAgICAgICAgIG5ldyBMaXN0QWNjb3JkaW9uKCcuanMtcGFzdC1wcm9qZWN0cy1saXN0JywgJy5qcy1wYXN0LXByb2plY3RzLWJ1dHRvbicpO1xuICAgICAgICBuZXcgQ2F0ZWdvcnlGaWx0ZXIobGlzdEFjY29yZGlvbi5leHBhbmRMaXN0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWdpc3Rlcic6XG4gICAgICAgIG5ldyBTdGlja3lCYXIodHJ1ZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXIgPSBuZXcgUmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3R5bGVndWlkZSc6XG4gICAgICAgIHRoaXMuc3R5bGVndWlkZSA9IG5ldyBTdHlsZWd1aWRlKHRoaXMpO1xuICAgICAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RlYXNlcic6XG4gICAgICAgIHRoaXMudGVhc2VyID0gbmV3IFRlYXNlcih0aGlzKTtcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkYXNoYm9hcmQnOlxuICAgICAgICBuZXcgRGFzaGJvYXJkKHRoaXMpO1xuICAgICAgICBuZXcgU3RpY2t5QmFyKHRydWUpO1xuICAgICAgICBuZXcgQWxlcnQodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1wcm9qZWN0LWFib3V0LW1lJzpcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVwRm9ybSA9IG5ldyBTdGVwRm9ybSh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLXByb2plY3QtYmlibGlvZ3JhcGh5JzpcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVwRm9ybSA9IG5ldyBTdGVwRm9ybSh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLXByb2plY3QtaGVhbHRoLXNhZmV0eSc6XG4gICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlcEZvcm0gPSBuZXcgU3RlcEZvcm0odGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncHJvamVjdC1wcmV2aWV3JzpcbiAgICAgICAgbmV3IFN0aWNreUJhcih0cnVlKTtcbiAgICAgICAgbmV3IFNjcm9sbFRvKCk7XG4gICAgICAgIHRoaXMucHJvamVjdFByZXZpZXcgPSBuZXcgUHJvamVjdFByZXZpZXcodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1wcm9qZWN0LXN1Ym1pdC1yZXZpZXcnOlxuICAgICAgICBuZXcgU2Nyb2xsVG8oKTtcbiAgICAgICAgbmV3IFN0aWNreUJhcih0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLXByb2plY3Qtc3VtbWFyeSc6XG4gICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlcFN1bW1hcnlGb3JtID0gbmV3IFN0ZXBTdW1tYXJ5Rm9ybSh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLXByb2plY3QtcXVlc3Rpb24nOlxuICAgICAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZXBGb3JtID0gbmV3IFN0ZXBGb3JtKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3lvdXItcHJvamVjdC1yZXNlYXJjaCc6XG4gICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlcEZvcm0gPSBuZXcgU3RlcEZvcm0odGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1wcm9qZWN0LW1ldGhvZCc6XG4gICAgICAgIHRoaXMuZm9ybXMgPSBuZXcgRm9ybXModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlcEZvcm0gPSBuZXcgU3RlcEZvcm0odGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1wcm9qZWN0LXJlc3VsdHMnOlxuICAgICAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZXBGb3JtID0gbmV3IFN0ZXBGb3JtKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3lvdXItcHJvamVjdC1jb25jbHVzaW9uJzpcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVwRm9ybSA9IG5ldyBTdGVwRm9ybSh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLWFjY291bnQnOlxuICAgICAgICBuZXcgU2Nyb2xsVG8oKTtcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9maWxlID0gbmV3IFByb2ZpbGUodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1hY2NvdW50LXRlYW0nOlxuICAgICAgICBuZXcgU2Nyb2xsVG8oKTtcbiAgICAgICAgdGhpcy5mb3JtcyA9IG5ldyBGb3Jtcyh0aGlzKTtcbiAgICAgICAgdGhpcy50ZWFtRm9ybSA9IG5ldyBUZWFtRm9ybSh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5b3VyLWFjY291bnQtY29uc2VudCc6XG4gICAgICAgIG5ldyBTY3JvbGxUbygpO1xuICAgICAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMpO1xuICAgICAgICBuZXcgQ29uc2VudEZvcm0odGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneW91ci1wcm9qZWN0LXN1Ym1pdC1jaGVja2xpc3QnOlxuICAgICAgICBuZXcgQ2hlY2tMaXN0KHRoaXMpO1xuICAgICAgICBuZXcgU3RpY2t5QmFyKHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BhcmVudGFsLWNvbnNlbnQnOlxuICAgICAgICBuZXcgUGFyZW50YWxDb25zZW50KHRoaXMpO1xuICAgICAgICBuZXcgU3RpY2t5QmFyKHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3lvdXItcHJvamVjdC1pbnNwaXJpbmctZWR1Y2F0b3InOlxuICAgICAgICB0aGlzLmZvcm1zID0gbmV3IEZvcm1zKHRoaXMpO1xuICAgICAgICBuZXcgSW5zcGlyaW5nRWR1Y2F0b3IodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhZ2UuaW5jbHVkZXMoJ3N0dWRlbnQtcmVzb3VyY2VzLScpIHx8IHRoaXMucGFnZS5pbmNsdWRlcygnZWR1Y2F0b3ItcmVzb3VyY2VzLScpKSB7XG4gICAgICBuZXcgUmVzb3VyY2VOYXYoKTtcbiAgICAgIGlmICghdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgICBuZXcgQW5pbWF0ZVNoYXBlcygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFuZ3VsYXJCb290c3RyYXAoKSB7XG4gICAgYW5ndWxhci5tb2R1bGUoJ2dzZicsIFtcbiAgICAgIGdsdWUubGl0ZS5tb2R1bGUubmFtZSxcbiAgICAgIGdsdWUubmcuY2Fyb3VzZWwubW9kdWxlLm5hbWUsXG4gICAgICBnbHVlLm5nLmNhcm91c2VsLmJyZWFrcG9pbnRzLm1vZHVsZS5uYW1lLFxuICAgICAgZ2x1ZS5uZy5wYWdpbmF0aW9uLm1vZHVsZS5uYW1lLFxuICAgICAgZ2x1ZS5uZy56aXBweS5tb2R1bGUubmFtZSxcbiAgICAgIGdsdWUubmcuemlwcHkuc2V0Lm1vZHVsZS5uYW1lLFxuICAgICAgZ2x1ZS5uZy56aXBweS50b2dnbGVBbGwubW9kdWxlLm5hbWUsXG4gICAgICBnbHVlLm5nLnRhYmJ5Lm1vZHVsZS5uYW1lLFxuICAgICAgaGVyY3VsZXMudGVtcGxhdGVzLm1vZHVsZS5uYW1lLFxuICAgICAgaGVyY3VsZXMuY29tcG9uZW50cy5oZWFkZXIubW9kdWxlLm5hbWUsXG4gICAgXSlcbiAgICAudmFsdWUoJ2dsdWVaaXBweVNtb290aEV4cGFuZEZ4RHVyYXRpb24nLCAzMDApXG4gICAgLnZhbHVlKCdnbHVlTW9kYWxTZXJ2aWNlU3RvcmVSb3V0ZURpc2FibGUnLCB0cnVlKVxuICAgIC5jb25maWcoWyckcHJvdmlkZScsICgkcHJvdmlkZTogYW55KSA9PiB7XG4gICAgICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRicm93c2VyJywgWyckZGVsZWdhdGUnLCAoJGRlbGVnYXRlOiBhbnkpID0+IHtcbiAgICAgICAgJGRlbGVnYXRlLm9uVXJsQ2hhbmdlID0gKCkgPT4geyB9O1xuICAgICAgICAkZGVsZWdhdGUudXJsID0gKCkgPT4gJyc7XG4gICAgICAgIHJldHVybiAkZGVsZWdhdGU7XG4gICAgICB9XSk7XG4gICAgfV0pO1xuXG4gICAgLy8gQWRkIHlvdXIgY29udHJvbGxlcnMgaGVyZSBpZTpcbiAgICAvLyBnc2YuY29udHJvbGxlcignTXlDb250cm9sbGVyVGl0bGUnLCBteUNvbnRyb2xsZXJGaWxlKTtcblxuICAgIGdsdWUuYXBwLmJvb3RzdHJhcCgnZ3NmJyk7XG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBFbnRyeSBwb2ludCBmb3IgR1NGIGFwcGxpY2F0aW9uLlxuICovXG5cbmltcG9ydCBDb3JlIGZyb20gJy4vQ29yZSc7XG5cbmNvbnN0IGNvcmUgPSBuZXcgQ29yZShkb2N1bWVudC5ib2R5LmRhdGFzZXRbJ3BhZ2UnXSk7XG5cbmNvcmUuaW5pdCgpO1xuIiwiaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmRlY2xhcmUgdmFyIFR3ZWVuTWF4OiBhbnk7XG5kZWNsYXJlIHZhciBRdWFkOiBhbnk7XG5cbmNvbnN0IERFRkFVTFRfQU5JTUFUSU9OX1RJTUlORyA9IDAuNTtcbmNvbnN0IExJTktfU0VMRUNUT1IgPSAnLmpzLWFjY29yZGlvbi1pdGVtJztcbmNvbnN0IFBBTkVMX1NFTEVDVE9SID0gJy5qcy1hY2NvcmRpb24tcGFuZWwnO1xuXG5pbnRlcmZhY2UgSUFjY29yZGlvbkl0ZW0ge1xuICBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudDtcbiAgdGFyZ2V0SWQ6IHN0cmluZztcbiAgdGFyZ2V0PzogSFRNTEVsZW1lbnQgfCBudWxsO1xuICBwYW5lbD86IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgaXNFeHBhbmRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFjY29yZGlvbiB7XG4gIGl0ZW1zOiBBcnJheTxJQWNjb3JkaW9uSXRlbT47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgbGlua0VsZW1lbnRzID1cbiAgICAgICAgbm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoTElOS19TRUxFQ1RPUikpO1xuXG4gICAgdGhpcy5pdGVtcyA9IGxpbmtFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldElkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldElkID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRJZCkgYXMgSFRNTEVsZW1lbnQgOiBudWxsO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5rOiBlbGVtZW50IGFzIEhUTUxBbmNob3JFbGVtZW50LFxuICAgICAgICB0YXJnZXRJZDogdGFyZ2V0SWQgfHwgJycsXG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICBwYW5lbDogdGFyZ2V0ID8gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoUEFORUxfU0VMRUNUT1IpIGFzIEhUTUxFbGVtZW50IDogbnVsbCxcbiAgICAgICAgaXNFeHBhbmRlZDogZmFsc2UsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuaXRlbXMpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jaGVja0hhc2goKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtLmxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQWNjb3JkaW9uQ2xpY2soaXRlbSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuY2hlY2tIYXNoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVBY2NvcmRpb25DbGljayhpdGVtOiBJQWNjb3JkaW9uSXRlbSkge1xuICAgIGlmIChpdGVtLmlzRXhwYW5kZWQpIHtcbiAgICAgIHRoaXMuY29sbGFwc2VJdGVtKGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV4cGFuZEl0ZW0oaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGNoZWNrSGFzaCgpIHtcbiAgICBjb25zdCBjdXJyZW50SGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoY3VycmVudEhhc2ggPT09IGl0ZW0udGFyZ2V0SWQpIHtcbiAgICAgICAgLy8gTmVlZHMgYSBzbGlnaHQgZGVsYXkgdG8gZ2V0IGFjY3VyYXRlIHNjcm9sbCBwb3NpdGlvblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U2Nyb2xsID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICBpZiAoaXRlbS5wYW5lbCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGN1cnJlbnRTY3JvbGwgLSAoaXRlbS5wYW5lbC5vZmZzZXRIZWlnaHQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwKTtcbiAgICAgICAgdGhpcy5leHBhbmRJdGVtKGl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29sbGFwc2VJdGVtKGl0ZW06IElBY2NvcmRpb25JdGVtKSB7XG4gICAgaWYgKCFpdGVtLmlzRXhwYW5kZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBpdGVtLmlzRXhwYW5kZWQgPSBmYWxzZTtcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgdW5kZWZpbmVkLCAnICcpO1xuXG4gICAgVHdlZW5NYXgudG8oaXRlbS50YXJnZXQsIERFRkFVTFRfQU5JTUFUSU9OX1RJTUlORywge1xuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgZWFzZTogUXVhZC5lYXNlT3V0LFxuICAgICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgICBpdGVtLmxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgaWYgKGl0ZW0udGFyZ2V0KSB7XG4gICAgICAgICAgaXRlbS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBleHBhbmRJdGVtKGl0ZW06IElBY2NvcmRpb25JdGVtKSB7XG4gICAgaWYgKGl0ZW0uaXNFeHBhbmRlZCB8fCAhaXRlbS5wYW5lbCkgeyByZXR1cm47IH1cblxuICAgIGl0ZW0uaXNFeHBhbmRlZCA9IHRydWU7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIHVuZGVmaW5lZCwgaXRlbS50YXJnZXRJZCk7XG5cbiAgICBUd2Vlbk1heC50byhpdGVtLnRhcmdldCwgREVGQVVMVF9BTklNQVRJT05fVElNSU5HLCB7XG4gICAgICBoZWlnaHQ6IGl0ZW0ucGFuZWwub2Zmc2V0SGVpZ2h0LFxuICAgICAgZWFzZTogUXVhZC5lYXNlT3V0LFxuICAgICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgICBpdGVtLmxpbmsuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcblxuICAgICAgICBpZiAoaXRlbS50YXJnZXQpIHtcbiAgICAgICAgICBpdGVtLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBBQ1RJT05fQ0xBU1NFUywgbm9kZUxpc3RUb0FycmF5IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFVQUEVSX0FHRV9SQU5HRV9DT1VOVFJJRVMgPSBuZXcgU2V0KFsnQVQnLCAnQkUnLCAnQkcnLCAnSFInLCAnQ1knLCAnQ1onLCAnREsnLCAnRUUnLFxuJ0ZJJywgJ0ZSJywgJ0RFJywgJ0dSJywgJ0hVJywgJ0lFJywgJ0lUJywgJ0xWJywgJ0xUJywgJ0xVJywgJ01UJywgJ05MJywgJ1BMJywgJ1BUJyxcbidSTycsICdTSycsICdTSScsICdFUycsICdTRScsICdVSycsICdHQiddKTtcbmNvbnN0IE1JRF9BR0VfUkFOR0VfQ09VTlRSSUVTID0gbmV3IFNldChbJ0lMJywgJ0tSJ10pO1xuXG50eXBlIEFnZVJhbmdlID0gJzEzLTE1JyB8ICcxNC0xNScgfCAnMTYtMTgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZ2VSYW5nZVJlc3RyaWN0aW9ucyB7XG4gIGNvdW50cnk6IEhUTUxTZWxlY3RFbGVtZW50O1xuICByZWdpc3RlclRlcm1zOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgYWdlUmFuZ2VDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBhZ2VSYW5nZXM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgYWdlUmFuZ2VMYWJlbHM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgYWdlUmFuZ2UgPSAnJztcblxuICAvKipcbiAgICogQWdlUmFuZ2VSZXN0cmljdGlvbnMgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb3VudHJ5OiBIVE1MU2VsZWN0RWxlbWVudCxcbiAgICBhZ2VSYW5nZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgcmVnaXN0ZXJUZXJtcz86IEhUTUxFbGVtZW50LFxuICApIHtcbiAgICB0aGlzLmNvdW50cnkgPSBjb3VudHJ5O1xuICAgIHRoaXMucmVnaXN0ZXJUZXJtcyA9IHJlZ2lzdGVyVGVybXM7XG4gICAgdGhpcy5hZ2VSYW5nZUNvbnRhaW5lciA9IGFnZVJhbmdlQ29udGFpbmVyO1xuICAgIHRoaXMuYWdlUmFuZ2VzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMuYWdlUmFuZ2VDb250YWluZXJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKTtcbiAgICB0aGlzLmFnZVJhbmdlTGFiZWxzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMuYWdlUmFuZ2VDb250YWluZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xhYmVsJykpO1xuICAgIHRoaXMuY291bnRyeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUNvdW50cnlDaGFuZ2UpO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpIHtcbiAgICB0aGlzLmFnZVJhbmdlcy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVBZ2VDaGFuZ2UpO1xuICAgICAgaWYgKChpbnB1dCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMuYWdlUmFuZ2UgPSAoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXRBZ2VWaXNpYmlsaXR5KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQ291bnRyeUNoYW5nZSgpIHtcbiAgICB0aGlzLnJlc2V0QWdlcygpO1xuICAgIHRoaXMuc2V0QWdlVmlzaWJpbGl0eSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUFnZUNoYW5nZShldmVudDogRXZlbnQpIHtcbiAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICB0aGlzLmFnZVJhbmdlID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgcmVzZXRBZ2VzKCkge1xuICAgIHRoaXMuYWdlUmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7XG4gICAgICAocmFuZ2UgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgKHJhbmdlIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSk7XG4gICAgdGhpcy5hZ2VSYW5nZUxhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xuICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZ2VSYW5nZSA9ICcnO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldEFnZVZpc2liaWxpdHkoKSB7XG4gICAgY29uc3QgdXBwZXJBZ2VSYW5nZSA9IFVQUEVSX0FHRV9SQU5HRV9DT1VOVFJJRVMuaGFzKHRoaXMuY291bnRyeS52YWx1ZSk7XG4gICAgY29uc3QgbWlkQWdlUmFuZ2UgPSBNSURfQUdFX1JBTkdFX0NPVU5UUklFUy5oYXModGhpcy5jb3VudHJ5LnZhbHVlKTtcbiAgICBpZiAodXBwZXJBZ2VSYW5nZSkge1xuICAgICAgdGhpcy5zZXRBZ2VJbnB1dHNIaWRkZW4obmV3IFNldDxBZ2VSYW5nZT4oWycxMy0xNScsICcxNC0xNSddKSk7XG4gICAgICB0aGlzLnJlZ2lzdGVyVGVybXMgJiYgdGhpcy5yZWdpc3RlclRlcm1zLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB9IGVsc2UgaWYgKG1pZEFnZVJhbmdlKSB7XG4gICAgICB0aGlzLnNldEFnZUlucHV0c0hpZGRlbihuZXcgU2V0PEFnZVJhbmdlPihbJzEzLTE1J10pKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJUZXJtcyAmJiB0aGlzLnJlZ2lzdGVyVGVybXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEFnZUlucHV0c0hpZGRlbihuZXcgU2V0PEFnZVJhbmdlPihbJzE0LTE1J10pKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJUZXJtcyAmJiB0aGlzLnJlZ2lzdGVyVGVybXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZXRBZ2VJbnB1dHNIaWRkZW4ocmFuZ2VTdHJpbmc6IFNldDxBZ2VSYW5nZT4pIHtcbiAgICB0aGlzLmFnZVJhbmdlcy5tYXAoKHJhbmdlKSA9PiB7XG4gICAgICBpZiAocmFuZ2VTdHJpbmcuaGFzKChyYW5nZSBhcyBhbnkpLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICB9XG4gICAgfSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKGlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICh0aGlzLmFnZVJhbmdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7aW5wdXQuaWR9XCJdYCkgYXMgSFRNTExhYmVsRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF4aW9zSW5zdGFuY2UsIG5vZGVMaXN0VG9BcnJheSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIE1PREFMOiAnLmpzLW1vZGFsLWNvbnRhaW5lcicsXG4gIE1PREFMX0xJTks6ICcuanMtbW9kYWwtbGluaycsXG4gIE1PREFMX0NMT1NFOiAnLmgtYy1tb2RhbF9fY2xvc2UnLFxuICBNT0RBTF9PVkVSTEFZOiAnLmdsdWUtYy1tb2RhbF9fb3ZlcmxheScsXG4gIE1PREFMX0NPTlRFTlQ6ICcuZ2x1ZS1jLW1vZGFsX19jb250ZW50Jyxcbn07XG5cbmNvbnN0IGxvYWRlckh0bWwgPSBgXG48ZGl2IHJvbGU9XCJwcm9ncmVzc2JhclwiIGNsYXNzPVwibWRjLWxpbmVhci1wcm9ncmVzcyBtZGMtbGluZWFyLXByb2dyZXNzLS1pbmRldGVybWluYXRlXCI+XG4gIDxkaXYgY2xhc3M9XCJtZGMtbGluZWFyLXByb2dyZXNzX19idWZmZXJpbmctZG90c1wiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibWRjLWxpbmVhci1wcm9ncmVzc19fYnVmZmVyXCI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJtZGMtbGluZWFyLXByb2dyZXNzX19iYXIgbWRjLWxpbmVhci1wcm9ncmVzc19fcHJpbWFyeS1iYXJcIj5cbiAgICA8c3BhbiBjbGFzcz1cIm1kYy1saW5lYXItcHJvZ3Jlc3NfX2Jhci1pbm5lclwiPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJtZGMtbGluZWFyLXByb2dyZXNzX19iYXIgbWRjLWxpbmVhci1wcm9ncmVzc19fc2Vjb25kYXJ5LWJhclwiPlxuICAgIDxzcGFuIGNsYXNzPVwibWRjLWxpbmVhci1wcm9ncmVzc19fYmFyLWlubmVyXCI+PC9zcGFuPlxuICA8L2Rpdj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWpheE1vZGFsIHtcbiAgY29yZTogQ29yZTtcbiAgbW9kYWw6IEhUTUxFbGVtZW50O1xuICBtb2RhbExpbmtzOiBBcnJheTxIVE1MRWxlbWVudD47XG4gIG1vZGFsQ2xvc2VCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuICBtb2RhbE92ZXJsYXk6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBBamF4TW9kYWwgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLm1vZGFsTGlua3MgPSBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuTU9EQUxfTElOSykpO1xuICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5NT0RBTCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5tb2RhbENsb3NlQnV0dG9uID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5NT0RBTF9DTE9TRSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy5tb2RhbE92ZXJsYXkgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLk1PREFMX09WRVJMQVkpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuYXR0YWNoRXZlbnRzKCk7XG4gIH1cblxuICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbExpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU1vZGFsTGlua0NsaWNrKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5tb2RhbENsb3NlQnV0dG9uKSB7XG4gICAgICB0aGlzLm1vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uTW9kYWxDbG9zZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGtleUV2ZW50ID0gZSBhcyBLZXlib2FyZEV2ZW50O1xuICAgICAgaWYgKGtleUV2ZW50LmNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHRoaXMub25Nb2RhbENsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5tb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKGUuY3VycmVudFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5vbk1vZGFsQ2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVNb2RhbExpbmtDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKGUuY3VycmVudFRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RhbENvbnRlbnRDb250YWluZXIgPSAodGhpcy5tb2RhbFxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuTU9EQUxfQ09OVEVOVCkgYXMgSFRNTEVsZW1lbnQpO1xuICAgIG1vZGFsQ29udGVudENvbnRhaW5lci5pbm5lckhUTUwgPSBsb2FkZXJIdG1sO1xuICAgIGNvbnN0IHRhcmdldCA9IChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWY7XG4gICAgYXhpb3NJbnN0YW5jZS5nZXQodGFyZ2V0KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2VIdG1sID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gcmVzcG9uc2VIdG1sO1xuICAgICAgY29uc3QgY29udGVudCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTtcbiAgICAgIGlmIChjb250ZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1vZGFsQ29udGVudENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vZGFsQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvbk1vZGFsQ2xvc2UoKSB7XG4gICAgY29uc3QgbW9kYWxDb250ZW50Q29udGFpbmVyID0gKHRoaXMubW9kYWxcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5NT0RBTF9DT05URU5UKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgbW9kYWxDb250ZW50Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCB3cml0ZUNvb2tpZSwgcmVhZENvb2tpZSwgQUNUSU9OX0NMQVNTRVMgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBBTEVSVFM6ICcuanMtYWxlcnQnLFxuICBESVNNSVNTX0JVVFRPTlM6ICcuanMtZGlzbWlzcy1hbGVydCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGVydCB7XG4gIGNvcmU6IENvcmU7XG4gIGFsZXJ0czogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICBkaXNtaXNzQnV0dG9uczogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICBjb29raWVWYWx1ZTogU2V0PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEFsZXJ0IGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5kaXNtaXNzQnV0dG9ucyA9IG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SUy5ESVNNSVNTX0JVVFRPTlMpKTtcbiAgICB0aGlzLmFsZXJ0cyA9IG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SUy5BTEVSVFMpKTtcbiAgICB0aGlzLmNvb2tpZVZhbHVlID0gcmVhZENvb2tpZSgnYWxlcnQtZGlzbWlzc2VkJykgIT09IG51bGwgP1xuICAgICAgbmV3IFNldCgocmVhZENvb2tpZSgnYWxlcnQtZGlzbWlzc2VkJykgYXMgc3RyaW5nKS5yZXBsYWNlKC9cIi9nLCAnJykuc3BsaXQoJywnKSkgOiBuZXcgU2V0KCk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldEFsZXJ0VmlzaWJpbGl0eSgpO1xuICAgIHRoaXMuZGlzbWlzc0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZURpc21pc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHRlYXJEb3duKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzbWlzc0J1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZURpc21pc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldEFsZXJ0VmlzaWJpbGl0eSgpOiB2b2lkIHtcbiAgICB0aGlzLmFsZXJ0cy5mb3JFYWNoKChhbGVydCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29va2llVmFsdWUuaGFzKChhbGVydC5kYXRhc2V0LmFsZXJ0IGFzIHN0cmluZykpKSB7XG4gICAgICAgIGFsZXJ0LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVEaXNtaXNzKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgYWxlcnRUeXBlID0gKGUuY3VycmVudFRhcmdldCBhcyBIVE1MQnV0dG9uRWxlbWVudCkuZGF0YXNldC5hbGVydDtcbiAgICBpZiAoIWFsZXJ0VHlwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvb2tpZVZhbHVlID0gdGhpcy5jb29raWVWYWx1ZS5hZGQoYWxlcnRUeXBlLnJlcGxhY2UoL1wiL2csICcnKSk7XG4gICAgd3JpdGVDb29raWUoJ2FsZXJ0LWRpc21pc3NlZCcsIEFycmF5LmZyb20odGhpcy5jb29raWVWYWx1ZSkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5zZXRBbGVydFZpc2liaWxpdHkoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCBpc0luVmlld3BvcnQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBTSEFQRVNfQ09OVEFJTkVSOiAnLmpzLWFuaW1hdGUtc2hhcGVzJyxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFuaW1hdGVkU2hhcGUge1xuICBlbDogSFRNTEVsZW1lbnQ7XG4gIHhGYWN0b3I6IG51bWJlcjtcbiAgeUZhY3RvcjogbnVtYmVyO1xuICBkaXJlY3Rpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0ZVNoYXBlcyB7XG4gIHNoYXBlc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHNoYXBlc1RvQW5pbWF0ZTogQXJyYXk8SUFuaW1hdGVkU2hhcGU+O1xuICBzaGFwZVBhdGhzOiBBcnJheTxIVE1MRWxlbWVudD47XG5cbiAgLyoqXG4gICAqIEFuaW1hdGVTaGFwZXMgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNoYXBlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNIQVBFU19DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc2hhcGVQYXRocyA9IG5vZGVMaXN0VG9BcnJheSh0aGlzLnNoYXBlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoLCBwb2x5Z29uJykpO1xuICAgIHRoaXMuc2hhcGVzVG9BbmltYXRlID0gdGhpcy5zaGFwZVBhdGhzLm1hcCgocGF0aCkgPT4ge1xuICAgICAgcGF0aC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWw6IHBhdGgsXG4gICAgICAgIHhGYWN0b3I6IHRoaXMuZ2V0UmFuZG9tSW50KDMwLCA3MCksXG4gICAgICAgIHlGYWN0b3I6IHRoaXMuZ2V0UmFuZG9tSW50KDUsIDEyMCksXG4gICAgICAgIGRpcmVjdGlvbjogcGF0aC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpID8gLTEgOiAxLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLmhhbmRsZVNjcm9sbCgpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnNoYXBlc0NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5zaGFwZXNDb250YWluZXIgJiYgaXNJblZpZXdwb3J0KHRoaXMuc2hhcGVzQ29udGFpbmVyKSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnNoYXBlc1RvQW5pbWF0ZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHRoaXMuYW5pbWF0ZVNoYXBlKHRoaXMuc2hhcGVzVG9BbmltYXRlW2luZGV4XSk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGFuaW1hdGVTaGFwZShzaGFwZTogSUFuaW1hdGVkU2hhcGUpIHtcbiAgICBjb25zdCBzaGFwZVRvcCA9IHNoYXBlLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICBzaGFwZS5lbC5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICBgdHJhbnNsYXRlM2QoJHtzaGFwZVRvcCAvIHNoYXBlLnlGYWN0b3J9cHgsXG4gICAgICAgICR7c2hhcGUuZGlyZWN0aW9uICogKHNoYXBlVG9wIC8gc2hhcGUueEZhY3Rvcil9cHgsIDApXG4gICAgICAgIHJvdGF0ZSgke3NoYXBlLmRpcmVjdGlvbiAqIChzaGFwZVRvcCAvIDkwKX1kZWcpYDtcbiAgfVxuXG4gIGdldFJhbmRvbUludChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgfVxuXG59XG4iLCIvLyBUeXBlc2NyaXB0IGRvZXNuJ3QgdW5kZXJzdGFuZCBBdWRpb0NvbnRleHQgY29ycmVjdGx5IHdoZW4gYSBjaGlsZCBvZiB3aW5kb3csIGFuZCBTYWZhcmkgdGhyb3dzXG4vLyBhIGhhcmQgZXJyb3IgaWYgdHJ5aW5nIHRvIGFkZHJlc3MgQXVkaW9Db250ZXh0IG91dHNpZGUgb2YgdGhlIHdpbmRvdyBzY29wZS4gVGhpcyBmaXhlcyB0aGUgdHlwaW5nXG4vLyBmb3IgaXQgaWYgeW91IGFkZHJlc3MgaXQgdmlhIFdpbmRvdyB0eXBlZCBhcyBhbnkuXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBBdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgICB3ZWJraXRBdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgfVxufVxuLyogdHNsaW50OmVuYWJsZSAqL1xuXG5leHBvcnQgY2xhc3MgQXVkaW9QbGF5ZXIge1xuICBhdWRpb0N0eDogQXVkaW9Db250ZXh0O1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBpc0xvYWRlZCA9IGZhbHNlO1xuICBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICBzb3VyY2U/OiBBdWRpb0J1ZmZlclNvdXJjZU5vZGUgfCBudWxsO1xuICBnYWluTm9kZT86IEdhaW5Ob2RlIHwgbnVsbDtcbiAgb25Mb2FkZWQ/OiBGdW5jdGlvbjtcbiAgdm9sdW1lID0gMTtcbiAgZGF0YT86IEF1ZGlvQnVmZmVyIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihmaWxlbmFtZT86IHN0cmluZywgb25Mb2FkZWQ/OiBGdW5jdGlvbikge1xuICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZmlsZSBuYW1lIHdhcyBwcm92aWRlZCB0byBhdWRpbyBwbGF5ZXInKTtcbiAgICB9XG5cbiAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG5cbiAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IGFzIGFueSB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0IGFzIGFueSkoKTtcblxuICAgIHRoaXMub25Mb2FkZWQgPSBvbkxvYWRlZDtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodGhpcy5maWxlbmFtZSk7XG5cbiAgICByZXR1cm4gd2luZG93LmZldGNoKHJlcXVlc3QsIHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAudGhlbigoYnVmZmVyKSA9PiB7XG4gICAgICAgIC8vIERlY29kZSB0aGUgYXVkaW8gZGF0YSBnb3R0ZW4gZnJvbSB0aGUgZmV0Y2ggYW5kIGNhY2hlIGl0IHNvIGl0IGNhbiBiZSByZXVzZWQgd2l0aG91dFxuICAgICAgICAvLyBuZWVkaW5nIGEgbmV3IHJlcXVlc3QuXG4gICAgICAgIHRoaXMuYXVkaW9DdHguZGVjb2RlQXVkaW9EYXRhKGJ1ZmZlciwgKGRhdGEpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IG51bGw7XG4gICAgICAgICAgdGhpcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5jcmVhdGVOb2RlcygpO1xuXG4gICAgICAgICAgLy8gSWYgYW4gZXh0ZXJuYWwgY2FsbGJhY2sgd2FzIHByb3ZpZGVkIHRvIHJ1biB3aGVuIGF1ZGlvIGZpbmlzaGVzIGxvYWRpbmcsIHJ1biBpdCBub3cuXG4gICAgICAgICAgaWYgKHRoaXMub25Mb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Mb2FkZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIGlmIHRoaXMgaXMgcmVhY2hlZFxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvcn1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGF1ZGlvIG5vZGUocylcbiAgICovXG4gIGNyZWF0ZU5vZGVzKCkge1xuICAgIGlmICghdGhpcy5pc0xvYWRlZCB8fCAhdGhpcy5hdWRpb0N0eCkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICB0aGlzLmdhaW5Ob2RlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVHYWluKCk7XG4gICAgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKTtcbiAgICB0aGlzLnNvdXJjZS5idWZmZXIgPSB0aGlzLmRhdGEgfHwgbnVsbDtcbiAgICB0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbik7XG4gIH1cblxuICBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLnZvbHVtZSA9IHZvbHVtZTtcblxuICAgIGlmICghdGhpcy5nYWluTm9kZSkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuZ2Fpbk5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWUoXG4gICAgICB0aGlzLnZvbHVtZSxcbiAgICAgIHRoaXMuYXVkaW9DdHguY3VycmVudFRpbWUsXG4gICAgICAwLjAxLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgcGxheWluZyB0aGUgYXVkaW9cbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSA9IDApIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCB8fCAhdGhpcy5pc0xvYWRlZCkgeyByZXR1cm47IH1cblxuICAgIHRoaXMuYXVkaW9DdHgucmVzdW1lKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmNyZWF0ZU5vZGVzKCk7XG4gICAgICB0aGlzLmNvbm5lY3QoKTtcblxuICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgIHRoaXMuc291cmNlLnN0YXJ0KDAsIHN0YXJ0VGltZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBwbGF5aW5nIHRoZSBhdWRpb1xuICAgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0IHRoZSBhdWRpbyBzb3VyY2UgdG8gdGhlIGF1ZGlvIGRlc3RpbmF0aW9uXG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkIHx8ICF0aGlzLmdhaW5Ob2RlIHx8ICF0aGlzLmlzTG9hZGVkIHx8ICF0aGlzLmF1ZGlvQ3R4KSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb24pO1xuXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCB0aGUgYXVkaW8gZnJvbSB0aGUgYXVkaW8gZGVzdGluYXRpb24gdG8gc3RvcCBwbGF5aW5nXG4gICAqL1xuICBkaXNjb25uZWN0KCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCB8fCAhdGhpcy5zb3VyY2UgfHwgIXRoaXMuaXNMb2FkZWQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KCk7XG5cbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gIH1cbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCBDS0VESVRPUl9TRVRUSU5HUyB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIFRFWFRBUkVBOiAnLmpzLXJpY2gtdGV4dGFyZWEnLFxuICBJTkxJTkVfVEVYVEFSRUE6ICcuanMtaW5saW5lLXRleHRhcmVhJyxcbiAgSEVMUF9DT05UQUlORVI6ICcuanMtaGVscC1jb250YWluZXInLFxufTtcblxuY29uc3QgUkVNT1ZFX0JVVFRPTlNfTU9CSUxFID0gWydBYm91dCcsICdBbmNob3InLCAnQ29weScsICdDdXQnLFxuICAgICdGb3JtYXQnLCAnSWZyYW1lJywgJ0p1c3RpZnlCbG9jaycsICdKdXN0aWZ5Q2VudGVyJywgJ0p1c3RpZnlMZWZ0JyxcbiAgICAnSnVzdGlmeVJpZ2h0JywgJ051bWJlcmVkTGlzdCcsICdQYXN0ZScsICdTY2F5dCcsICdTdHJpa2UnLCAnU3Vic2NyaXB0JyxcbiAgICAnU3VwZXJzY3JpcHQnLCAnVGFibGUnLCAnVW5kZXJsaW5lJywgJ1VubGluayddO1xuXG5jb25zdCBURVhUX0FSRUFfSEVJR0hUX1RBQkxFVCA9IDQwMDtcbmNvbnN0IFRFWFRfQVJFQV9IRUlHSFRfTU9CSUxFID0gMjQyO1xuXG5leHBvcnQgY2xhc3MgQ0tFZGl0IHtcbiAgY29yZTogQ29yZTtcbiAgZWRpdG9yPzogQ0tFRElUT1IuZWRpdG9yO1xuICB0ZXh0YXJlYXM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgaW5saW5lVGV4dGFyZWFzOiBBcnJheTxIVE1MRWxlbWVudD47XG4gIGhlbHBDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBvbkNoYW5nZUNhbGxCYWNrOiAoKGU6IENLRURJVE9SLmV2ZW50SW5mbykgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIGlzTW9iaWxlU2NyZWVuU2l6ZTogYm9vbGVhbjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBGb3JtcyBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUsIG9uQ2hhbmdlQ2FsbGJhY2s/OiAoZTogQ0tFRElUT1IuZXZlbnRJbmZvKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbEJhY2sgPSBvbkNoYW5nZUNhbGxiYWNrO1xuICAgIHRoaXMudGV4dGFyZWFzID0gbm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLlRFWFRBUkVBKSk7XG4gICAgdGhpcy5pbmxpbmVUZXh0YXJlYXMgPSBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuSU5MSU5FX1RFWFRBUkVBKSk7XG4gICAgdGhpcy5oZWxwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuSEVMUF9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuaXNNb2JpbGVTY3JlZW5TaXplID0gd2luZG93LmlubmVyV2lkdGggPCA2MDA7XG4gICAgaWYgKHRoaXMuaGVscENvbnRhaW5lcikge1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlbHBDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gNDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gMTQ4O1xuICAgIH1cblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICAvLyBXYWl0IGZvciBsYXlvdXQgdG8gY29tcGxldGUgZm9yIHppcHB5IGNvbXBvbmVudFxuICAgIGlmICh0aGlzLmlzTW9iaWxlU2NyZWVuU2l6ZSkge1xuICAgICAgdGhpcy5oZWlnaHQgPSBURVhUX0FSRUFfSEVJR0hUX01PQklMRTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTAyNCkge1xuICAgICAgdGhpcy5oZWlnaHQgPSBURVhUX0FSRUFfSEVJR0hUX1RBQkxFVDtcbiAgICB9XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNldFRleHRhcmVhcygpLCA2MDApO1xuICAgIHRoaXMuc2V0SW5saW5lVGV4dGFyZWFzKCk7XG4gICAgQ0tFRElUT1Iub24oJ2luc3RhbmNlUmVhZHknLCAoIGV2ICkgPT4ge1xuICAgICAgdGhpcy5lZGl0b3IgPSBldi5lZGl0b3I7XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0VGV4dGFyZWFzKCkge1xuICAgIHRoaXMudGV4dGFyZWFzLmZvckVhY2goKHRleHRhcmVhKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0YXJlYUVkaXRvciA9IChDS0VESVRPUiBhcyBhbnkpLnJlcGxhY2UodGV4dGFyZWEgYXMgSFRNTFRleHRBcmVhRWxlbWVudCwge1xuICAgICAgICAuLi5DS0VESVRPUl9TRVRUSU5HUyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgd29yZGNvdW50OiB7XG4gICAgICAgICAgc2hvd1BhcmFncmFwaHM6IGZhbHNlLFxuICAgICAgICAgIG1heFdvcmRDb3VudDogdGV4dGFyZWEuZGF0YXNldC53b3JkY291bnQgfHwgMjUwLFxuICAgICAgICAgIGhhcmRMaW1pdDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmtTaG93VGFyZ2V0VGFiOiBmYWxzZSxcbiAgICAgICAgcmVtb3ZlQnV0dG9uczogdGhpcy5pc01vYmlsZVNjcmVlblNpemUgP1xuICAgICAgICAgICAgUkVNT1ZFX0JVVFRPTlNfTU9CSUxFLmpvaW4oJywnKSA6IENLRURJVE9SX1NFVFRJTkdTLnJlbW92ZUJ1dHRvbnMsXG4gICAgICB9KTtcbiAgICAgIHRleHRhcmVhRWRpdG9yLm9uKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVRleHRhcmVhQ2hhbmdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZXRJbmxpbmVUZXh0YXJlYXMoKSB7XG4gICAgdGhpcy5pbmxpbmVUZXh0YXJlYXMuZm9yRWFjaCgodGV4dGFyZWEpID0+IHtcbiAgICAgIGNvbnN0IHRleHRhcmVhRWRpdG9yID0gKENLRURJVE9SIGFzIGFueSkuaW5saW5lKFxuICAgICAgICB0ZXh0YXJlYSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLkNLRURJVE9SX1NFVFRJTkdTLFxuICAgICAgICAgIHJlbW92ZVBsdWdpbnM6ICdpbWFnZSx0YWJsZSx0YWJsZXRvb2xzdG9vbGJhcix0YWJsZXRvb2xzLGdvb2dsZWRvY3MsJ1xuICAgICAgICAgICAgICArICd0YWJsZXNlbGVjdGlvbixwaWNrZXIsaWZyYW1lLGRvY3VtZW50LGp1c3RpZnksbGlzdCxmb3JtYXQsbGluaycsXG4gICAgICAgICAgd29yZGNvdW50OiB7XG4gICAgICAgICAgICBzaG93UGFyYWdyYXBoczogZmFsc2UsXG4gICAgICAgICAgICBtYXhXb3JkQ291bnQ6IHRleHRhcmVhLmRhdGFzZXQud29yZGNvdW50IHx8IDEwMCxcbiAgICAgICAgICAgIGhhcmRMaW1pdDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICB0ZXh0YXJlYUVkaXRvci5vbignY2hhbmdlJywgdGhpcy5oYW5kbGVUZXh0YXJlYUNoYW5nZSk7XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlVGV4dGFyZWFDaGFuZ2UoZTogQ0tFRElUT1IuZXZlbnRJbmZvKSB7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxCYWNrICYmIHRoaXMub25DaGFuZ2VDYWxsQmFjayhlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0ICogYXMgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSwgTUVESUFfUVVFUklFUywgQUNUSU9OX0NMQVNTRVMgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBDQVJEX1NUQUNLOiAnLmpzLWNhcmQtc3RhY2stY2Fyb3VzZWwnLFxuICBDQVJEOiAnLmpzLWNhcmQtc3RhY2stY2FyZCcsXG4gIFBSRVZJT1VTOiAnLmpzLWNhcmQtc3RhY2stcGFnaW5hdGlvbi1wcmV2aW91cycsXG4gIE5FWFQ6ICcuanMtY2FyZC1zdGFjay1wYWdpbmF0aW9uLW5leHQnLFxuICBQQUdJTkFUSU9OX0NPTlRBSU5FUjogJy5qcy1jYXJkLXN0YWNrLXBhZ2luYXRpb24nLFxuICBDQVJEU19VTDogJy5qcy1jYXJkLXN0YWNrLWxpc3QnLFxufTtcblxuY29uc3QgT0ZGU0NSRUVOX0FNT1VOVCA9ICctMjIwJSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRTdGFjayB7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBjYXJkczogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICBjdXJyZW50SW5kZXggPSAwO1xuICBuZXh0OiBIVE1MRWxlbWVudDtcbiAgcHJldjogSFRNTEVsZW1lbnQ7XG4gIHBhZ2luYXRpb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwYWdpbmF0aW9uTGk6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgbWVkU2NyZWVuOiBib29sZWFuO1xuICBoYW1tZXI6IEhhbW1lck1hbmFnZXIgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBIZWFkZXIgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXI/OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmhhbW1lciA9IG51bGw7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ0FSRF9TVEFDSykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5jYXJkcyA9IG5vZGVMaXN0VG9BcnJheSh0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SUy5DQVJEKSk7XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuTkVYVCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5wcmV2ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUFJFVklPVVMpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lciA9XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlBBR0lOQVRJT05fQ09OVEFJTkVSKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnBhZ2luYXRpb25MaSA9IFtdO1xuICAgIHRoaXMubWVkU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoTUVESUFfUVVFUklFUy5TTUFMTCkubWF0Y2hlcztcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgdGhlIENhcmRTdGFjayBpZiBzbWFsbCBzY3JlZW5cbiAgICogU2V0cyBldmVudCBsaXN0ZW5lcnNcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubWVkU2NyZWVuKSB7XG4gICAgICB0aGlzLnN0YXJ0dXAoKTtcbiAgICAgIHRoaXMubmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ29Ub05leHQpO1xuICAgICAgdGhpcy5wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb1RvUHJldmlvdXMpO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgd2luZG93IHJlc2l6ZSBldmVudCBhbmQga2lja3Mgb2ZmIHRvIGluaXRpYWxpemVyXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlc2l6ZSgpOiB2b2lkIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc2V0Q2FyZFN0YWNrQnlTY3JlZW5TaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSBDYXJkU3RhY2sgVUksIGFycm93cywgYW5kIHN3aXBlIGhhbmRsZXJcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgc3RhcnR1cCgpOiB2b2lkIHtcbiAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgdGhpcy5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb1RvTmV4dCk7XG4gICAgdGhpcy5wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb1RvUHJldmlvdXMpO1xuICAgIHRoaXMuc2V0VXBDYXJkcygpO1xuICAgIHRoaXMuc2V0VmlzaWJsZUNhcmRzKCk7XG4gICAgdGhpcy5zZXRWaXNpYmxlQXJyb3dzKCk7XG4gICAgdGhpcy5zZXRVcFRhYkxpc3QoKTtcbiAgICB0aGlzLmhhbW1lciA9IG5ldyBIYW1tZXIuTWFuYWdlcihcbiAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNBUkRTX1VMKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgdGhpcy5oYW1tZXIuYWRkKG5ldyBIYW1tZXIuU3dpcGUoe1xuICAgICAgZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgfSkpO1xuICAgIHRoaXMuaGFtbWVyLm9uKCdzd2lwZScsIHRoaXMuaGFuZGxlU3dpcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlYXJzIGRvd24gdGhlIENhcmRTdGFjayBVSSwgcmVtb3ZlcyBsaXN0ZW5lcnMsIGRlc3Ryb3lzIHN3aXBlIGhhbmRsZXJcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgdGVhckRvd24oKTogdm9pZCB7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB0aGlzLmNhcmRzLmZvckVhY2goKGNhcmQsIGkpID0+IHtcbiAgICAgIGNhcmQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgY2FyZC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYi1pbmRleCcpO1xuICAgICAgY2FyZC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgfSk7XG4gICAgdGhpcy5wYWdpbmF0aW9uTGkgPSBbXTtcbiAgICB0aGlzLnBhZ2luYXRpb25Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5uZXh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb1RvTmV4dCk7XG4gICAgdGhpcy5wcmV2LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb1RvUHJldmlvdXMpO1xuICAgIGlmICh0aGlzLmhhbW1lcikge1xuICAgICAgdGhpcy5oYW1tZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdpbmRvdyByZXNpemUgdG8gYnVpbGQgb3IgdGVhciBkb3duIHRoZSBDYXJkU3RhY2tcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgc2V0Q2FyZFN0YWNrQnlTY3JlZW5TaXplKCk6IHZvaWQge1xuICAgIHRoaXMubWVkU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoTUVESUFfUVVFUklFUy5TTUFMTCkubWF0Y2hlcztcbiAgICBpZiAodGhpcy5tZWRTY3JlZW4gJiYgdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgdGhpcy50ZWFyRG93bigpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMubWVkU2NyZWVuICYmICF0aGlzLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLnN0YXJ0dXAoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgcmFuZG9tIG51bWJlciBmcm9tIC00IHRvIDQuIFVzZWQgaW4gbGF5b3V0LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBnZW5lcmF0ZVJhbmRvbVNrZXcoKTogbnVtYmVyIHtcbiAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkgKyAxOyAvLyB0aGlzIHdpbGwgZ2V0IGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgNFxuICAgIHJldHVybiBudW0gKj0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgPT09IDEgPyAxIDogLTE7IC8vIHNldHMgcG9zIG9yIG5lZ1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIHRoZSBjYXJkcyB2aXN1YWwgbGF5b3V0XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIHNldFVwQ2FyZHMoKTogdm9pZCB7XG4gICAgdGhpcy5jYXJkcy5mb3JFYWNoKChjYXJkLCBpKSA9PiB7XG4gICAgICBjYXJkLnN0eWxlLnpJbmRleCA9IGAke3RoaXMuY2FyZHMubGVuZ3RoIC0gaX1gO1xuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgY2FyZC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDApZGVnJztcbiAgICAgICAgY2FyZC5zZXRBdHRyaWJ1dGUoJ3RhYi1pbmRleCcsICctMScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgYHJvdGF0ZSgke3RoaXMuZ2VuZXJhdGVSYW5kb21Ta2V3KCl9ZGVnKVxuICAgICAgICAgICAgdHJhbnNsYXRlM2QoJHt0aGlzLmdlbmVyYXRlUmFuZG9tU2tldygpfXB4LCAke3RoaXMuZ2VuZXJhdGVSYW5kb21Ta2V3KCl9cHgsIDApYDtcbiAgICAgICAgY2FyZC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSBkb3RzIGF0IHRoZSBib3R0b20gb2YgdGhlIGNhcm91c2VsXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIHNldFVwVGFiTGlzdCgpOiB2b2lkIHtcbiAgICBjb25zdCB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgdWwuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcbiAgICB1bC5jbGFzc0xpc3QuYWRkKCdnbHVlLXBhZ2luYXRpb24tcGFnZS1saXN0JywgJ2dsdWUtby1wYWdpbmF0aW9uX19wYWdlLWxpc3QnKTtcbiAgICB0aGlzLmNhcmRzLmZvckVhY2goKF9jYXJkLCBpKSA9PiB7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZScsIGAke2l9YCk7XG4gICAgICBsaS5jbGFzc0xpc3QuYWRkKCdnbHVlLW8tcGFnaW5hdGlvbl9fYnV0dG9uLWNvbnRhaW5lcicsXG4gICAgICAgICAgJ2dsdWUtby1wYWdpbmF0aW9uX19wYWdlLWxpc3QtYnV0dG9uLWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5wYWdpbmF0aW9uTGkucHVzaChsaSk7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYicpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJywgYCR7aX1gKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdnbHVlLW8tcGFnaW5hdGlvbl9fYnV0dG9uJyxcbiAgICAgICAgICAnZ2x1ZS1vLXBhZ2luYXRpb25fX3BhZ2UtbGlzdC1idXR0b24nKTtcblxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVUYWJDbGljayk7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyk7XG4gICAgICB9XG4gICAgICBsaS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgIH0pO1xuICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh1bCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB3aGljaCBjYXJkcyBzaG91bGQgYmUgdmlzaWJsZSBiYXNlZCBvbiB0aGUgY3VycmVudEluZGV4XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIHNldFZpc2libGVDYXJkcygpIHtcbiAgICAvLyBzZXQgdGhlIGN1cnJlbnQgKyAyIGFuZCB0aGUgcHJldiBhcyB2aXNpYmxlXG4gICAgdGhpcy5jYXJkcy5mb3JFYWNoKChjYXJkLCBpKSA9PiB7XG4gICAgICBjYXJkLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICBpZiAoaSA+PSB0aGlzLmN1cnJlbnRJbmRleCAtIDEgJiYgaSA8PSB0aGlzLmN1cnJlbnRJbmRleCArIDIpIHtcbiAgICAgICAgY2FyZC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgb3IgaGlkZSBjYXJvdXNlbCBhcnJvd3Mgd2hlbiBuZWVkZWRcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgc2V0VmlzaWJsZUFycm93cygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IDApIHtcbiAgICAgIHRoaXMucHJldi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICB0aGlzLnByZXYuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gdGhpcy5jYXJkcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLm5leHQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgdGhpcy5uZXh0LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXYuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIHRoaXMubmV4dC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgdGhpcy5wcmV2LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgIHRoaXMubmV4dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFuaW1hdGVzIG91dCBhbGwgb3RoZXIgY2FyZHMgYmVzaWRlcyB0aGUgMyB2aXNpYmxlXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5kZXhlcyAtIHRoZSBpbmRleGVzIG9mIHRoZSBjYXJkcyB0byBhbmltYXRlXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIGFuaW1hdGVPdXQoLi4uaW5kZXhlczogQXJyYXk8bnVtYmVyPik6IHZvaWQge1xuICAgIGluZGV4ZXMuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgIHRoaXMuY2FyZHNbaW5kZXhdLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHt0aGlzLmdlbmVyYXRlUmFuZG9tU2tldygpfWRlZylcbiAgICAgICAgICB0cmFuc2xhdGVYKCR7T0ZGU0NSRUVOX0FNT1VOVH0pIHJvdGF0ZSgke3RoaXMuZ2VuZXJhdGVSYW5kb21Ta2V3KCl9ZGVnKWA7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZXMgaW4gdGhlIDMgdmlzaWJsZSBjYXJkc1xuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGluZGV4ZXMgLSB0aGUgaW5kZXhlcyBvZiB0aGUgY2FyZHMgdG8gYW5pbWF0ZVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIEBhdXRvYmluZFxuICBhbmltYXRlSW4oLi4uaW5kZXhlczogQXJyYXk8bnVtYmVyPik6IHZvaWQge1xuICAgIGluZGV4ZXMuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgIHRoaXMuY2FyZHNbaW5kZXhdLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHt0aGlzLmdlbmVyYXRlUmFuZG9tU2tldygpfWRlZylcbiAgICAgICAgICB0cmFuc2xhdGVYKDApIHJvdGF0ZSgke3RoaXMuZ2VuZXJhdGVSYW5kb21Ta2V3KCl9ZGVnKWA7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjYXJvdXNlbCBkb3QgY2xpY2tzXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIENsaWNrIGV2ZW50XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVRhYkNsaWNrKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KTtcbiAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHRhcmdldC5kYXRhc2V0LnBhZ2UgfHwgJzAnLCAxMCk7XG4gICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKGluZGV4KTtcbiAgICB0aGlzLmdvVG9DYXJkKGluZGV4KTtcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgIHRoaXMuc2V0VmlzaWJsZUNhcmRzKCk7XG4gICAgdGhpcy5zZXRWaXNpYmxlQXJyb3dzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBkaXNwbGF5IGZvciBjYXJvdXNlbCBkb3RzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIHdoaWNoIGluZGV4IG9mIGNhcm91c2VsIGRvdCB0byBkaXNwbGF5XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIHVwZGF0ZVBhZ2luYXRpb24oaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGFnaW5hdGlvbkxpLmZvckVhY2goKGxpKSA9PiB7XG4gICAgICBpZiAocGFyc2VJbnQobGkuZGF0YXNldC5wYWdlIHx8ICcwJywgMTApID09PSBpbmRleCkge1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgKGxpLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpIGFzIEhUTUxFbGVtZW50KS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIChsaS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSBhcyBIVE1MRWxlbWVudCkuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB3aGljaCBjYXJkIHNob3VsZCBiZSB0aGUgZm9jdXMuIEtpY2tzIG9mZiBhbmltYXRpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIHdoaWNoIGluZGV4IG9mIGNhcm91c2VsIGNhcmQgdG8gZGlzcGxheVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIEBhdXRvYmluZFxuICBnb1RvQ2FyZChpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jYXJkcy5mb3JFYWNoKChjYXJkLCBpKSA9PiB7XG4gICAgICBjYXJkLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgY2FyZC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYi1pbmRleCcpO1xuICAgIH0pO1xuXG4gICAgaWYgKGluZGV4ID4gdGhpcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZU91dCguLi5BcnJheS5mcm9tKFsuLi5BcnJheShpbmRleCldLmtleXMoKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaWZmZXJlbmNlID0gdGhpcy5jdXJyZW50SW5kZXggLSBpbmRleDtcbiAgICAgIGlmIChkaWZmZXJlbmNlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHRoaXMuY2FyZHMubGVuZ3RoIC0gaW5kZXggPCAzID8gdGhpcy5jYXJkcy5sZW5ndGggLSBpbmRleCA6IDM7XG4gICAgICAgIHRoaXMuYW5pbWF0ZUluKC4uLkFycmF5LmZyb20obmV3IEFycmF5KGFtb3VudCksICh4LCBpKSA9PiBpICsgaW5kZXgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZUluKC4uLkFycmF5LmZyb20obmV3IEFycmF5KGRpZmZlcmVuY2UpLCAoeCwgaSkgPT4gaSArIGluZGV4KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jYXJkc1tpbmRleF0uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIHRoaXMuY2FyZHNbaW5kZXhdLnNldEF0dHJpYnV0ZSgndGFiLWluZGV4JywgJy0xJyk7XG4gICAgdGhpcy5jYXJkc1tpbmRleF0uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwKSc7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZW1lbnQgd2hpY2ggY2FyZCBzaG91bGQgYmUgdmlzaWJsZVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIEBhdXRvYmluZFxuICBnb1RvTmV4dCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggKyAxID49IHRoaXMuY2FyZHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5nb1RvQ2FyZCh0aGlzLmN1cnJlbnRJbmRleCArIDEpO1xuICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbih0aGlzLmN1cnJlbnRJbmRleCArIDEpO1xuICAgIHRoaXMuY3VycmVudEluZGV4ICs9IDE7XG4gICAgdGhpcy5zZXRWaXNpYmxlQ2FyZHMoKTtcbiAgICB0aGlzLnNldFZpc2libGVBcnJvd3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNyZW1lbnQgd2hpY2ggY2FyZCBzaG91bGQgYmUgdmlzaWJsZVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIEBhdXRvYmluZFxuICBnb1RvUHJldmlvdXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdvVG9DYXJkKHRoaXMuY3VycmVudEluZGV4IC0gMSk7XG4gICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKHRoaXMuY3VycmVudEluZGV4IC0gMSk7XG5cbiAgICB0aGlzLmN1cnJlbnRJbmRleCAtPSAxO1xuICAgIHRoaXMuc2V0VmlzaWJsZUNhcmRzKCk7XG4gICAgdGhpcy5zZXRWaXNpYmxlQXJyb3dzKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBzd2lwZSBldmVudCBmcm9tIEhhbW1lclxuICAgKiBAcGFyYW0ge0hhbW1lcklucHV0fSBlIC0gSGFtbWVyIGV2ZW50IChzd2lwZSlcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3dpcGUoZTogSGFtbWVySW5wdXQpOiB2b2lkIHtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBlLm9mZnNldERpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uID09PSA0KSB7XG4gICAgICB0aGlzLmdvVG9QcmV2aW91cygpO1xuICAgIH1cbiAgICBpZiAoZGlyZWN0aW9uID09PSAyKSB7XG4gICAgICB0aGlzLmdvVG9OZXh0KCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBBQ1RJT05fQ0xBU1NFUywgbm9kZUxpc3RUb0FycmF5IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFBBUkVOVF9TRUxFQ1RPUiA9ICcuanMtY2F0ZWdvcnktZmlsdGVyJztcbmNvbnN0IElURU1fU0VMRUNUT1IgPSAnLmpzLWZpbHRlci1pdGVtJztcbmNvbnN0IEJVVFRPTl9TRUxFQ1RPUiA9ICcuanMtZmlsdGVyLWJ1dHRvbic7XG5cbmludGVyZmFjZSBJRmlsdGVyYWJsZUl0ZW0ge1xuICBjYXRlZ29yaWVzOiBBcnJheTxzdHJpbmc+O1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbn1cblxuaW50ZXJmYWNlIElGaWx0ZXJCdXR0b24ge1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBlbGVtZW50OiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgaXNTZWxlY3RlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIENhdGVnb3J5RmlsdGVyIHtcbiAgcGFyZW50OiBIVE1MRWxlbWVudDtcbiAgaXRlbXM6IEFycmF5PElGaWx0ZXJhYmxlSXRlbT47XG4gIGJ1dHRvbnM6IEFycmF5PElGaWx0ZXJCdXR0b24+O1xuICBhY3RpdmVDYXRlZ29yaWVzOiBTZXQ8c3RyaW5nPjtcbiAgYWxsb3dNdWx0aXBsZUNhdGVnb3JpZXM6IGJvb2xlYW47XG4gIG9wdGlvbmFsQ2FsbGJhY2s/OiBGdW5jdGlvbjtcblxuICBjb25zdHJ1Y3RvcihjYWxsYmFjaz86IEZ1bmN0aW9uKSB7XG4gICAgdGhpcy5wYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBBUkVOVF9TRUxFQ1RPUikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICB0aGlzLmFsbG93TXVsdGlwbGVDYXRlZ29yaWVzID1cbiAgICAgICAgdGhpcy5wYXJlbnQuZGF0YXNldC5hbGxvd011bHRpcGxlQ2F0ZWdvcmllcyAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgY29uc3QgaXRlbUVsZW1lbnRzID1cbiAgICAgICAgbm9kZUxpc3RUb0FycmF5KHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoSVRFTV9TRUxFQ1RPUikpIGFzIEFycmF5PEhUTUxFbGVtZW50PjtcblxuICAgIHRoaXMuaXRlbXMgPSBpdGVtRWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeUtleSA9IGVsZW1lbnQuZGF0YXNldC5jYXRlZ29yaWVzIHx8ICcnO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yeUtleS5zcGxpdCgnLCcpLFxuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnRzID1cbiAgICAgICAgbm9kZUxpc3RUb0FycmF5KHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQlVUVE9OX1NFTEVDVE9SKSkgYXMgQXJyYXk8SFRNTEJ1dHRvbkVsZW1lbnQ+O1xuXG4gICAgdGhpcy5idXR0b25zID0gYnV0dG9uRWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGVsZW1lbnQuZGF0YXNldC5jYXRlZ29yeSB8fCAnJztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICB0aGlzLmFjdGl2ZUNhdGVnb3JpZXMgPSBuZXcgU2V0KCk7XG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub3B0aW9uYWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDAgJiYgdGhpcy5idXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5idXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUJ1dHRvbkNsaWNrLmJpbmQodGhpcywgYnV0dG9uKSk7XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQnV0dG9uQ2xpY2soYnV0dG9uOiBJRmlsdGVyQnV0dG9uKSB7XG4gICAgaWYgKCF0aGlzLmFsbG93TXVsdGlwbGVDYXRlZ29yaWVzKSB7XG4gICAgICB0aGlzLmFjdGl2ZUNhdGVnb3JpZXMuY2xlYXIoKTtcbiAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKChjdXJyZW50QnV0dG9uKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50QnV0dG9uICE9PSBidXR0b24pIHtcbiAgICAgICAgICBjdXJyZW50QnV0dG9uLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBjdXJyZW50QnV0dG9uLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIWJ1dHRvbi5pc1NlbGVjdGVkKSB7XG4gICAgICBidXR0b24uZWxlbWVudC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgICBidXR0b24uaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLmFjdGl2ZUNhdGVnb3JpZXMuYWRkKGJ1dHRvbi5jYXRlZ29yeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbi5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICAgIGJ1dHRvbi5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmFjdGl2ZUNhdGVnb3JpZXMuZGVsZXRlKGJ1dHRvbi5jYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoKTtcbiAgfVxuXG4gIHVwZGF0ZVZpc2libGVJdGVtcygpIHtcbiAgICBjb25zdCBzaG93QWxsID0gdGhpcy5hY3RpdmVDYXRlZ29yaWVzLnNpemUgPT09IDA7XG5cbiAgICBpZiAoIXNob3dBbGwpIHtcbiAgICAgIHRoaXMucGFyZW50LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJlbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIH1cblxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKHNob3dBbGwpIHtcbiAgICAgICAgdGhpcy5lbmFibGVJdGVtKGl0ZW0pO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVJdGVtKGl0ZW0pO1xuICAgICAgfSBlbHNlIGlmICghc2hvd0FsbCkge1xuICAgICAgICBsZXQgc2hvdWxkU2hvdyA9IGZhbHNlO1xuICAgICAgICBpdGVtLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0KSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ2F0ZWdvcmllcy5oYXMoY2F0KSkge1xuICAgICAgICAgICAgc2hvdWxkU2hvdyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFzaG91bGRTaG93KSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVJdGVtKGl0ZW0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkU2hvdykge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUl0ZW0oaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLm9wdGlvbmFsQ2FsbGJhY2spIHtcbiAgICAgIHRoaXMub3B0aW9uYWxDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVJdGVtKGl0ZW06IElGaWx0ZXJhYmxlSXRlbSkge1xuICAgIGl0ZW0uZWxlbWVudC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLklOQUNUSVZFKTtcbiAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIGl0ZW0uZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBpdGVtLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICB9XG5cbiAgZW5hYmxlSXRlbShpdGVtOiBJRmlsdGVyYWJsZUl0ZW0pIHtcbiAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5JTkFDVElWRSk7XG4gICAgaXRlbS5lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICBpdGVtLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICB9XG5cbiAgYWN0aXZhdGVJdGVtKGl0ZW06IElGaWx0ZXJhYmxlSXRlbSkge1xuICAgIGl0ZW0uZWxlbWVudC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gIH1cblxuICBkZWFjdGl2YXRlSXRlbShpdGVtOiBJRmlsdGVyYWJsZUl0ZW0pIHtcbiAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICB9XG59XG4iLCJkZWNsYXJlIGNvbnN0IFR3ZWVuTWF4OiBhbnk7XG5cbmltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgd3JpdGVDb29raWUsIHJlYWRDb29raWUsIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgTEFOR1VBR0VfU0VMRUNUOiAnLmpzLWxhbmd1YWdlLXNlbGVjdCcsXG4gIEJBQ0tfVE9fVE9QOiAnLmpzLWJhY2stdG8tdG9wJyxcbiAgQ09PS0lFX0NPTlRBSU5FUjogJy5qcy1jb29raWUtYmFyJyxcbiAgQ09PS0lFX0RJU01JU1M6ICcuanMtY29va2llLWJhci1kaXNtaXNzJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvb3RlciB7XG4gIGNvcmU6IENvcmU7XG4gIGxhbmd1YWdlU2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudDtcbiAgYmFja1RvVG9wOiBIVE1MQW5jaG9yRWxlbWVudDtcbiAgY29va2llQ29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XG4gIGNvb2tpZUJ1dHRvbj86IEhUTUxBbmNob3JFbGVtZW50O1xuICBjb29raWVWYWx1ZTogU2V0PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEZvb3RlciBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMubGFuZ3VhZ2VTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5MQU5HVUFHRV9TRUxFQ1QpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHRoaXMuYmFja1RvVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQkFDS19UT19UT1ApIGFzIEhUTUxBbmNob3JFbGVtZW50O1xuICAgIHRoaXMuY29va2llQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ09PS0lFX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5jb29raWVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT09LSUVfRElTTUlTUykgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgdGhpcy5jb29raWVWYWx1ZSA9IHJlYWRDb29raWUoJ2FsZXJ0LWRpc21pc3NlZCcpICE9PSBudWxsID9cbiAgICAgIG5ldyBTZXQoKHJlYWRDb29raWUoJ2FsZXJ0LWRpc21pc3NlZCcpIGFzIHN0cmluZykucmVwbGFjZSgvXCIvZywgJycpLnNwbGl0KCcsJykpIDogbmV3IFNldCgpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmF0dGFjaEV2ZW50cygpO1xuICAgIHRoaXMuc2V0Q29va2llVmlzaWJpbGl0eSgpO1xuICB9XG5cbiAgYXR0YWNoRXZlbnRzKCkge1xuICAgIHRoaXMubGFuZ3VhZ2VTZWxlY3QgJiYgdGhpcy5sYW5ndWFnZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLnVwZGF0ZUxhbmd1YWdlKTtcblxuICAgIHRoaXMuYmFja1RvVG9wICYmIHRoaXMuYmFja1RvVG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVCYWNrVG9Ub3ApO1xuXG4gICAgdGhpcy5jb29raWVCdXR0b24gJiYgdGhpcy5jb29raWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvb2tpZUJ1dHRvbik7XG4gIH1cblxuICB1cGRhdGVMYW5ndWFnZShldmVudDogRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBjb25zdCBvcHRpb24gPSB0YXJnZXQub3B0aW9uc1t0YXJnZXQuc2VsZWN0ZWRJbmRleF07XG4gICAgd3JpdGVDb29raWUoJ2xvY2FsZScsIHRhcmdldC52YWx1ZSk7XG4gICAgaWYgKG9wdGlvbi5kYXRhc2V0LmxvY2F0aW9uKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG9wdGlvbi5kYXRhc2V0LmxvY2F0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUJhY2tUb1RvcChldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgVHdlZW5NYXgudG8od2luZG93LCAxLCB7XG4gICAgICBzY3JvbGxUbzoge1xuICAgICAgICB5OiAwLFxuICAgICAgICBhdXRvS2lsbDogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8vIHNlbmQgZm9jdXMgYmFjayB0byB0aGUgZmlyc3QgbmF2IGl0ZW1cbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWhhcy1zdWJuYXYnKSBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVDb29raWVCdXR0b24oZXZlbnQ6IEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmNvb2tpZVZhbHVlID0gdGhpcy5jb29raWVWYWx1ZS5hZGQoJ2Nvb2tpZScpO1xuICAgIHdyaXRlQ29va2llKCdhbGVydC1kaXNtaXNzZWQnLCBBcnJheS5mcm9tKHRoaXMuY29va2llVmFsdWUpLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuc2V0Q29va2llVmlzaWJpbGl0eSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldENvb2tpZVZpc2liaWxpdHkoKSB7XG4gICAgaWYgKHRoaXMuY29va2llVmFsdWUuaGFzKCdjb29raWUnKSAmJiB0aGlzLmNvb2tpZUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5jb29raWVDb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IENvcmUgZnJvbSAnLi4vQ29yZSc7XG5pbXBvcnQgeyBNRENNZW51IH0gZnJvbSAnQG1hdGVyaWFsL21lbnUnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCBBQ1RJT05fQ0xBU1NFUyB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIEhFQURFUjogJy5qcy1oZWFkZXInLFxuICBTVUJfTkFWX1RSSUdHRVJTOiAnLmpzLWhhcy1zdWJuYXYnLFxuICBQUk9GSUxFX1dJREdFVDogJy5qcy1wcm9maWxlLXdpZGdldCcsXG4gIFBST0ZJTEVfVFJJR0dFUjogJy5qcy1wcm9maWxlLXRyaWdnZXInLFxuICBQUk9GSUxFX1dJREdFVF9NT0JJTEU6ICcuanMtcHJvZmlsZS13aWRnZXQtbW9iaWxlJyxcbiAgUFJPRklMRV9UUklHR0VSX01PQklMRTogJy5qcy1wcm9maWxlLXRyaWdnZXItbW9iaWxlJyxcbiAgU1VCX05BVjogJy5qcy1zdWJuYXYnLFxufTtcblxuY29uc3QgU0NST0xMX0RJU1RBTkNFX1RJTExfU0hBRE9XID0gMTYwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkZXIge1xuICBjb3JlOiBDb3JlO1xuICBoYXNTaGFkb3c6IGJvb2xlYW47XG4gIGhlYWRlcjogSFRNTEVsZW1lbnQ7XG4gIHN1Yk5hdlRyaWdnZXJzOiBBcnJheTxIVE1MQW5jaG9yRWxlbWVudD47XG4gIHByb2ZpbGVUcmlnZ2VyOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgcHJvZmlsZVdpZGdldDogSFRNTEVsZW1lbnQ7XG4gIHByb2ZpbGVNZW51OiBhbnk7XG4gIHN1Yk5hdk1lbnU6IGFueTtcbiAgc3ViTmF2OiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogSGVhZGVyIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5IRUFERVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc3ViTmF2VHJpZ2dlcnMgPSBub2RlTGlzdFRvQXJyYXkoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLlNVQl9OQVZfVFJJR0dFUlMpKSBhcyBBcnJheTxIVE1MQW5jaG9yRWxlbWVudD47XG4gICAgdGhpcy5wcm9maWxlVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlBST0ZJTEVfVFJJR0dFUikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy5wcm9maWxlV2lkZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUFJPRklMRV9XSURHRVQpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0aGlzLnByb2ZpbGVXaWRnZXQpIHtcbiAgICAgIHRoaXMucHJvZmlsZU1lbnUgPSBuZXcgTURDTWVudSh0aGlzLnByb2ZpbGVXaWRnZXQpO1xuICAgIH1cbiAgICB0aGlzLnN1Yk5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNVQl9OQVYpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0aGlzLnN1Yk5hdikge1xuICAgICAgdGhpcy5zdWJOYXZNZW51ID0gbmV3IE1EQ01lbnUodGhpcy5zdWJOYXYpO1xuICAgIH1cbiAgICB0aGlzLmhhc1NoYWRvdyA9IHdpbmRvdy5zY3JvbGxZIDwgU0NST0xMX0RJU1RBTkNFX1RJTExfU0hBRE9XO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICB0aGlzLm9uU2Nyb2xsKCk7XG5cbiAgICB0aGlzLnN1Yk5hdlRyaWdnZXJzLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJywgdGhpcy5oYW5kbGVTdWJOYXZUcmlnZ2VyLmJpbmQodGhpcywgbGluaykpKTtcbiAgICBpZiAodGhpcy5wcm9maWxlVHJpZ2dlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnByb2ZpbGVUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVQcm9maWxlQ2xpY2spO1xuICB9XG5cbiAgaGFuZGxlU3ViTmF2VHJpZ2dlcihfbGluazogSFRNTEFuY2hvckVsZW1lbnQsIGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gOTAwKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnN1Yk5hdk1lbnUub3BlbiA9ICF0aGlzLnN1Yk5hdk1lbnUub3BlbjtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlUHJvZmlsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9maWxlTWVudS5vcGVuID0gIXRoaXMucHJvZmlsZU1lbnUub3BlbjtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblNjcm9sbCgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5oYXNTaGFkb3cgJiYgd2luZG93LnNjcm9sbFkgPCBTQ1JPTExfRElTVEFOQ0VfVElMTF9TSEFET1cpIHtcbiAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuSEFTX1NIQURPVyk7XG4gICAgICB0aGlzLmhhc1NoYWRvdyA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaGFzU2hhZG93ICYmIHdpbmRvdy5zY3JvbGxZID49IFNDUk9MTF9ESVNUQU5DRV9USUxMX1NIQURPVykge1xuICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5IQVNfU0hBRE9XKTtcbiAgICAgIHRoaXMuaGFzU2hhZG93ICA9IHRydWU7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgQ09OQ0xVU0lPTl9DT05UQUlORVI6ICcuanMtY29uY2x1c2lvbicsXG4gIENPTkNMVVNJT05fU0hBUEVfMTogJyNjb25jbHVzaW9uLXNoYXBlLTEnLFxuICBDT05DTFVTSU9OX1NIQVBFXzI6ICcjY29uY2x1c2lvbi1zaGFwZS0yJyxcbiAgQ09OQ0xVU0lPTl9TSEFQRV8zOiAnI2NvbmNsdXNpb24tc2hhcGUtMycsXG4gIENPTkNMVVNJT05fU0hBUEVfNDogJyNjb25jbHVzaW9uLXNoYXBlLTQnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZUNvbmNsdXNpb25TaGFwZXMge1xuICBjb25jbHVzaW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgY29uY2x1c2lvblNoYXBlMTogU1ZHUGF0aEVsZW1lbnQ7XG4gIGNvbmNsdXNpb25TaGFwZTI6IFNWR1BhdGhFbGVtZW50O1xuICBjb25jbHVzaW9uU2hhcGUzOiBTVkdQYXRoRWxlbWVudDtcbiAgY29uY2x1c2lvblNoYXBlNDogU1ZHUGF0aEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEhvbWVDb25jbHVzaW9uU2hhcGVzIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25jbHVzaW9uQ29udGFpbmVyID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT05DTFVTSU9OX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5jb25jbHVzaW9uU2hhcGUxID0gdGhpcy5jb25jbHVzaW9uQ29udGFpbmVyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT05DTFVTSU9OX1NIQVBFXzEpIGFzIFNWR1BhdGhFbGVtZW50O1xuICAgIHRoaXMuY29uY2x1c2lvblNoYXBlMiA9IHRoaXMuY29uY2x1c2lvbkNvbnRhaW5lclxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ09OQ0xVU0lPTl9TSEFQRV8yKSBhcyBTVkdQYXRoRWxlbWVudDtcbiAgICB0aGlzLmNvbmNsdXNpb25TaGFwZTMgPSB0aGlzLmNvbmNsdXNpb25Db250YWluZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNPTkNMVVNJT05fU0hBUEVfMykgYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gICAgdGhpcy5jb25jbHVzaW9uU2hhcGU0ID0gdGhpcy5jb25jbHVzaW9uQ29udGFpbmVyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT05DTFVTSU9OX1NIQVBFXzQpIGFzIFNWR1BhdGhFbGVtZW50O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgdGhpcy5vblNjcm9sbCgpO1xuXG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25TY3JvbGwoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTY3JvbGwoKSB7XG4gICAgLy8gQ2hlY2sgaWYgY29uY2x1c2lvbiBpcyBpbiB2aWV3IHRvIGFuaW1hdGUgYmFja2dyb3VuZCBzaGFwZXNcbiAgICBpZiAodGhpcy5jb25jbHVzaW9uQ29udGFpbmVyICYmXG4gICAgICB0aGlzLmNvbmNsdXNpb25Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIDxcbiAgICAgICAgd2luZG93LmlubmVySGVpZ2h0ICogMS4xKSB7XG4gICAgICB0aGlzLmFuaW1hdGVDb25jbHVzaW9uU2hhcGVzKCk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGFuaW1hdGVDb25jbHVzaW9uU2hhcGVzKCkge1xuICAgIGlmICh0aGlzLmNvbmNsdXNpb25Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNoYXBlMVRvcCA9IHRoaXMuY29uY2x1c2lvblNoYXBlMS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICB0aGlzLmNvbmNsdXNpb25TaGFwZTEuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICBgdHJhbnNsYXRlM2QoJHtzaGFwZTFUb3AgLyAxMH1weCwgLSR7c2hhcGUxVG9wIC8gNDB9cHgsIDApIHJvdGF0ZSgke3NoYXBlMVRvcCAvIDEwMH1kZWcpYDtcblxuICAgICAgY29uc3Qgc2hhcGUyVG9wID0gdGhpcy5jb25jbHVzaW9uU2hhcGUyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIHRoaXMuY29uY2x1c2lvblNoYXBlMi5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgIGB0cmFuc2xhdGUzZCgke3NoYXBlMlRvcCAvIDMwfXB4LCAtJHtzaGFwZTJUb3AgLyAyMH1weCwgMClgO1xuXG4gICAgICBjb25zdCBzaGFwZTNUb3AgPSB0aGlzLmNvbmNsdXNpb25TaGFwZTMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgdGhpcy5jb25jbHVzaW9uU2hhcGUzLnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICAgICAgYHRyYW5zbGF0ZTNkKC0ke3NoYXBlM1RvcCAvIDEwfXB4LCAtJHtzaGFwZTNUb3AgLyA2MH1weCwgMClcbiAgICAgICAgICByb3RhdGUoLSR7c2hhcGUzVG9wIC8gMTUwfWRlZylgO1xuXG4gICAgICBjb25zdCBzaGFwZTRUb3AgPSB0aGlzLmNvbmNsdXNpb25TaGFwZTQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgdGhpcy5jb25jbHVzaW9uU2hhcGU0LnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICAgICAgYHRyYW5zbGF0ZTNkKCR7MjAgLSAoc2hhcGU0VG9wIC8gMTUpfXB4LCAkeyhzaGFwZTRUb3AgLyAxMDApICsgNjB9cHgsIDApYDtcbiAgICB9XG4gIH1cbn1cbiIsImRlY2xhcmUgdmFyIGJvZHltb3ZpbjogYW55O1xuXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBJQW5pbWF0aW9uRGF0YSB9IGZyb20gJy4uL21vZGVscy9JbnRlcmZhY2UnO1xuaW1wb3J0IENvcmUgZnJvbSAnLi4vQ29yZSc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgTlVNQkVSX09ORV9DT05UQUlORVI6ICcuanMtYW5pbWF0ZS1uMScsXG4gIE5VTUJFUl9UV09fQ09OVEFJTkVSOiAnLmpzLWFuaW1hdGUtbjInLFxuICBOVU1CRVJfVEhSRUVfQ09OVEFJTkVSOiAnLmpzLWFuaW1hdGUtbjQnLFxuICBOVU1CRVJfRk9VUl9DT05UQUlORVI6ICcuanMtYW5pbWF0ZS1uMycsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lTnVtYmVyQW5pbWF0aW9uIHtcbiAgY29yZT86IENvcmU7XG4gIG51bTFBbmltYXRpb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBudW0xQW5pbWF0aW9uRGF0YTogSUFuaW1hdGlvbkRhdGE7XG4gIG51bTFBbmltYXRpb25PYmplY3Q6IGFueTtcbiAgbnVtMkFuaW1hdGlvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIG51bTJBbmltYXRpb25EYXRhOiBJQW5pbWF0aW9uRGF0YTtcbiAgbnVtMkFuaW1hdGlvbk9iamVjdDogYW55O1xuICBudW0zQW5pbWF0aW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgbnVtM0FuaW1hdGlvbkRhdGE6IElBbmltYXRpb25EYXRhO1xuICBudW0zQW5pbWF0aW9uT2JqZWN0OiBhbnk7XG4gIG51bTRBbmltYXRpb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBudW00QW5pbWF0aW9uRGF0YTogSUFuaW1hdGlvbkRhdGE7XG4gIG51bTRBbmltYXRpb25PYmplY3Q6IGFueTtcbiAgbnVtMUhhc1BsYXllZCA9IGZhbHNlO1xuICBudW0ySGFzUGxheWVkID0gZmFsc2U7XG4gIG51bTNIYXNQbGF5ZWQgPSBmYWxzZTtcbiAgbnVtNEhhc1BsYXllZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBOdW1iZXJBbmltYXRpb24gY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlPzogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5udW0xQW5pbWF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFNFTEVDVE9SUy5OVU1CRVJfT05FX0NPTlRBSU5FUixcbiAgICApIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMubnVtMkFuaW1hdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBTRUxFQ1RPUlMuTlVNQkVSX1RXT19DT05UQUlORVIsXG4gICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLm51bTNBbmltYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgU0VMRUNUT1JTLk5VTUJFUl9USFJFRV9DT05UQUlORVIsXG4gICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLm51bTRBbmltYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgU0VMRUNUT1JTLk5VTUJFUl9GT1VSX0NPTlRBSU5FUixcbiAgICApIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgdGhpcy5udW0xQW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5udW0xQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBwYXRoOiAnL3N0YXRpYy9kYXRhL251bWJlcl8wMS5qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5udW0yQW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5udW0yQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBwYXRoOiAnL3N0YXRpYy9kYXRhL251bWJlcl8wMi5qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5udW0zQW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5udW0zQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBwYXRoOiAnL3N0YXRpYy9kYXRhL251bWJlcl8wMy5qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5udW00QW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5udW00QW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBwYXRoOiAnL3N0YXRpYy9kYXRhL251bWJlcl8wNC5qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLm51bTFBbmltYXRpb25PYmplY3QgPSBib2R5bW92aW4ubG9hZEFuaW1hdGlvbih0aGlzLm51bTFBbmltYXRpb25EYXRhKTtcbiAgICB0aGlzLm51bTJBbmltYXRpb25PYmplY3QgPSBib2R5bW92aW4ubG9hZEFuaW1hdGlvbih0aGlzLm51bTJBbmltYXRpb25EYXRhKTtcbiAgICB0aGlzLm51bTNBbmltYXRpb25PYmplY3QgPSBib2R5bW92aW4ubG9hZEFuaW1hdGlvbih0aGlzLm51bTNBbmltYXRpb25EYXRhKTtcbiAgICB0aGlzLm51bTRBbmltYXRpb25PYmplY3QgPSBib2R5bW92aW4ubG9hZEFuaW1hdGlvbih0aGlzLm51bTRBbmltYXRpb25EYXRhKTtcbiAgICBpZiAodGhpcy5jb3JlICYmIHRoaXMuY29yZS5wcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgdGhpcy5udW00QW5pbWF0aW9uT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUxvYWRlZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5udW0xQW5pbWF0aW9uT2JqZWN0LmdvVG9BbmRTdG9wKHRoaXMubnVtMUFuaW1hdGlvbk9iamVjdC50b3RhbEZyYW1lcywgdHJ1ZSk7XG4gICAgICAgIHRoaXMubnVtMkFuaW1hdGlvbk9iamVjdC5nb1RvQW5kU3RvcCh0aGlzLm51bTJBbmltYXRpb25PYmplY3QudG90YWxGcmFtZXMsIHRydWUpO1xuICAgICAgICB0aGlzLm51bTNBbmltYXRpb25PYmplY3QuZ29Ub0FuZFN0b3AodGhpcy5udW0zQW5pbWF0aW9uT2JqZWN0LnRvdGFsRnJhbWVzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5udW00QW5pbWF0aW9uT2JqZWN0LmdvVG9BbmRTdG9wKHRoaXMubnVtNEFuaW1hdGlvbk9iamVjdC50b3RhbEZyYW1lcywgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgIHRoaXMub25TY3JvbGwoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblNjcm9sbCgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5udW0xQW5pbWF0aW9uQ29udGFpbmVyICYmICF0aGlzLm51bTFIYXNQbGF5ZWQpIHtcbiAgICAgIGNvbnN0IG51bVRvcCA9IHRoaXMubnVtMUFuaW1hdGlvbkNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBpZiAobnVtVG9wIDwgd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHRoaXMubnVtMUFuaW1hdGlvbk9iamVjdC5wbGF5KCk7XG4gICAgICAgIHRoaXMubnVtMUhhc1BsYXllZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubnVtMkFuaW1hdGlvbkNvbnRhaW5lciAmJiAhdGhpcy5udW0ySGFzUGxheWVkKSB7XG4gICAgICBjb25zdCBudW1Ub3AgPSB0aGlzLm51bTJBbmltYXRpb25Db250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgaWYgKG51bVRvcCA8IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICB0aGlzLm51bTJBbmltYXRpb25PYmplY3QucGxheSgpO1xuICAgICAgICB0aGlzLm51bTJIYXNQbGF5ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm51bTNBbmltYXRpb25Db250YWluZXIgJiYgIXRoaXMubnVtM0hhc1BsYXllZCkge1xuICAgICAgY29uc3QgbnVtVG9wID0gdGhpcy5udW0zQW5pbWF0aW9uQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGlmIChudW1Ub3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5udW0zQW5pbWF0aW9uT2JqZWN0LnBsYXkoKTtcbiAgICAgICAgdGhpcy5udW0zSGFzUGxheWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5udW00QW5pbWF0aW9uQ29udGFpbmVyICYmICF0aGlzLm51bTRIYXNQbGF5ZWQpIHtcbiAgICAgIGNvbnN0IG51bVRvcCA9IHRoaXMubnVtNEFuaW1hdGlvbkNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBpZiAobnVtVG9wIDwgd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHRoaXMubnVtNEFuaW1hdGlvbk9iamVjdC5wbGF5KCk7XG4gICAgICAgIHRoaXMubnVtNEhhc1BsYXllZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5cbmltcG9ydCB7IFRob3VnaHRTdGFydGVyIH0gZnJvbSAnLic7XG5pbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZVRob3VnaHRTdGFydGVyIHtcbiAgICB0aG91Z2h0U3RhcnRlcjogVGhvdWdodFN0YXJ0ZXI7XG5cbiAgLyoqXG4gICAqIEhvbWVUaG91Z2h0U3RhcnRlciBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU/OiBDb3JlKSB7XG4gICAgdGhpcy50aG91Z2h0U3RhcnRlciA9IG5ldyBUaG91Z2h0U3RhcnRlcihjb3JlKTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgIHRoaXMub25TY3JvbGwoKTtcblxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIC8vIE5lc3RlZCBtdWx0aXBsZSBpZiBzdGF0ZW1lbnRzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgZXhwZW5zaXZlIGRvbSBxdWVyeWluZyBldmVyeVxuICAgIC8vIHNjcm9sbCBldmVudFxuICAgIGlmICh0aGlzLnRob3VnaHRTdGFydGVyICYmICF0aGlzLnRob3VnaHRTdGFydGVyLmhhc0FjdGl2YXRlZCkge1xuICAgICAgaWYgKHRoaXMudGhvdWdodFN0YXJ0ZXIuZ2V0SXNJblZpZXcoKSkge1xuICAgICAgICB0aGlzLnRob3VnaHRTdGFydGVyLmFjdGl2YXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJkZWNsYXJlIHZhciBUd2Vlbk1heDogYW55O1xuXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBWaWRlb1BsYXllciB9IGZyb20gJy4nO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIEhPTUVfVklERU9fQlVUVE9OX1NFTEVDVE9SOiAnLmpzLWhvbWUtdmlkZW8tYnV0dG9uJyxcbiAgRkVBVFVSRV9WSURFTzogJyNmZWF0dXJlLXZpZGVvJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVWaWRlb1BsYXllciB7XG4gIHZpZGVvUGxheWVyOiBWaWRlb1BsYXllcjtcbiAgaG9tZVZpZGVvQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZmVhdHVyZVZpZGVvPzogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEhvbWVWaWRlb1BsYXllciBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZmVhdHVyZVZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRkVBVFVSRV9WSURFTykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy52aWRlb1BsYXllciA9IG5ldyBWaWRlb1BsYXllcih0cnVlKTtcbiAgICB0aGlzLmhvbWVWaWRlb0J1dHRvbiA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkhPTUVfVklERU9fQlVUVE9OX1NFTEVDVE9SKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWRlb0hlaWdodCgpO1xuICAgIHRoaXMudmlkZW9QbGF5ZXIubG9hZEFQSSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy52aWRlb1BsYXllci5pbml0aWFsaXplVmlkZW8oKTtcbiAgICAgIHRoaXMudmlkZW9QbGF5ZXIucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ29uUmVhZHknLCAoKSA9PiB7XG4gICAgICAgIHRoaXMub25TY3JvbGwoKTtcbiAgICAgIH0pO1xuICAgICAgLy8gTmVlZCB0byByZXNldCB0aGlzIGFmdGVyIHRoZSBwbGF5ZXIgaXMgbG9hZGVkXG4gICAgICB0aGlzLmZlYXR1cmVWaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZFQVRVUkVfVklERU8pIGFzIEhUTUxFbGVtZW50O1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmhvbWVWaWRlb0J1dHRvbikge1xuICAgICAgdGhpcy5ob21lVmlkZW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVZpZGVvQnV0dG9uQ2xpY2spO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICB0aGlzLm9uU2Nyb2xsKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGlmICh0aGlzLnZpZGVvUGxheWVyICYmIHRoaXMudmlkZW9QbGF5ZXIucGxheWVyICYmXG4gICAgICAgICF0aGlzLnZpZGVvUGxheWVyLmhhc0JlZW5QbGF5ZWQgJiYgdGhpcy52aWRlb1BsYXllci5pc1JlYWR5KSB7XG4gICAgICBjb25zdCB2aWRlb1RvcCA9IHRoaXMudmlkZW9QbGF5ZXIudmlkZW9EaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgaWYgKHZpZGVvVG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICogMS4yNSkge1xuICAgICAgICB0aGlzLnZpZGVvUGxheWVyLnBsYXllci5wbGF5VmlkZW8oKTtcbiAgICAgICAgdGhpcy52aWRlb1BsYXllci5wbGF5ZXIubXV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblJlc2l6ZSgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVSZXNpemUpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB0aGlzLnNldFZpZGVvSGVpZ2h0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0VmlkZW9IZWlnaHQoKSB7XG4gICAgaWYgKHRoaXMuZmVhdHVyZVZpZGVvKSB7XG4gICAgICB0aGlzLmZlYXR1cmVWaWRlby5zdHlsZS5oZWlnaHQgPSBgJHtkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogLjU2MjV9cHhgO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVWaWRlb0J1dHRvbkNsaWNrKCkge1xuICAgIGlmICghdGhpcy52aWRlb1BsYXllci5pc1JlYWR5KSB7IHJldHVybjsgfVxuICAgIHRoaXMudmlkZW9QbGF5ZXIucGxheWVyLnVuTXV0ZSgpO1xuICAgIHRoaXMudmlkZW9QbGF5ZXIuc2hvdWxkTG9vcCA9IGZhbHNlO1xuICAgIHRoaXMudmlkZW9QbGF5ZXIuaGFzQmVlblBsYXllZCA9IHRydWU7XG4gICAgdGhpcy52aWRlb1BsYXllci5wbGF5ZXIuc2Vla1RvKDApO1xuICAgIHRoaXMudmlkZW9QbGF5ZXIucGxheWVyLnN0b3BWaWRlbygpO1xuICAgIHRoaXMudmlkZW9QbGF5ZXIucGxheWVyLnBsYXlWaWRlbygpO1xuXG4gICAgVHdlZW5NYXgudG8odGhpcy5ob21lVmlkZW9CdXR0b24sIDAuMjUsIHtcbiAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5ob21lVmlkZW9CdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNsaW5nc2hvdCwgQXVkaW9QbGF5ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSwgQUNUSU9OX0NMQVNTRVMsIERFRkFVTFRfQVVESU9fTEVWRUwgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBUUklHR0VSOiAnLmpzLWxvZ28tdHJpZ2dlcicsXG59O1xuXG5pbnRlcmZhY2UgSVRyaWdnZXIge1xuICBidXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xuICBzdGFydEZyYW1lOiBudW1iZXI7XG4gIHN0b3BGcmFtZTogbnVtYmVyO1xuICBob3ZlclN0YXJ0RnJhbWU6IG51bWJlcjtcbiAgaG92ZXJTdG9wRnJhbWU6IG51bWJlcjtcbiAgYXVkaW9QbGF5ZXI6IEF1ZGlvUGxheWVyIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIHRyaWdnZXJzIGZvciB0aGUgYm9keW1vdmluIGFuaW1hdGlvbnMgb24gdGhlIGxvZywgYW5kIGFsc28gc3RhcnRzIHVwIHRoZVxuICogc2xpbmdzaG90IGZ1bmN0aW9uYWxpdHkgdGhhdCBpbnRlZ3JhdGVzIHdpdGggdGhlIGxvZ29cbiAqL1xuZXhwb3J0IGNsYXNzIEludGVyYWN0aXZlTG9nbyB7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGFuaW1hdGlvbjogYW55O1xuICBpc0hvdmVyaW5nOiBib29sZWFuO1xuICBpc1BsYXlpbmc6IGJvb2xlYW47XG4gIHRvdWNoV2FzVXNlZDogYm9vbGVhbjtcbiAgdHJpZ2dlcnM/OiBBcnJheTxJVHJpZ2dlcj47XG4gIGN1cnJlbnRQbGF5aW5nVHJpZ2dlcj86IElUcmlnZ2VyIHwgbnVsbDtcbiAgc2xpbmdzaG90PzogU2xpbmdzaG90O1xuICBrZXlib2FyZElzSW5Vc2UgPSBmYWxzZTtcbiAgYXVkaW9IYXNMb2FkZWQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRha2VzIGluIGEgcGFyZW50IGh0bWwgZWxlbWVudCBhbmQgdGhlIGJvZHltb3ZpbiBvYmplY3QgdGhhdCBtYW5hZ2VzIHRoZSBhbmltYXRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBhbmltYXRpb25PYmplY3Q6IGFueSkge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuYW5pbWF0aW9uID0gYW5pbWF0aW9uT2JqZWN0O1xuICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0hvdmVyaW5nID0gZmFsc2U7XG4gICAgdGhpcy5hdWRpb0hhc0xvYWRlZCA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hXYXNVc2VkID0gZmFsc2U7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY3JlYXRlTGV0dGVycygpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICAvLyBTdGFydHVwIHRoZSBzbGluZ3Nob3QgY29tcG9uZW50XG4gICAgdGhpcy5zbGluZ3Nob3QgPSBuZXcgU2xpbmdzaG90KHRoaXMuY29udGFpbmVyKTtcbiAgICB0aGlzLnNsaW5nc2hvdC5pbml0KCk7XG4gICAgdGhpcy5pbml0QWxsQXVkaW8oKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIGNyZWF0ZUxldHRlcnMoKSB7XG4gICAgLy8gR2V0IGFsbCBidXR0b24gZWxlbWVudHMgYW5kIGNyZWF0ZSB0cmlnZ2VycyBvdXQgb2YgdGhlbS4gRWFjaCB0cmlnZ2VyIGtlZXBzIHRyYWNrIG9mIHdoYXRcbiAgICAvLyBmcmFtZXMgaW4gdGhlIGxvZ28gYW5pbWF0aW9uIGl0IHNob3VsZCBwbGF5IGFuZCBzdG9wIGF0LlxuICAgIGNvbnN0IHRyaWdnZXJFbGVtZW50cyA9XG4gICAgICAgIG5vZGVMaXN0VG9BcnJheShcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLlRSSUdHRVIpLFxuICAgICAgICApIGFzIEFycmF5PEhUTUxCdXR0b25FbGVtZW50PjtcbiAgICB0aGlzLnRyaWdnZXJzID0gdHJpZ2dlckVsZW1lbnRzLm1hcCgoZWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQpID0+IHtcbiAgICAgIGxldCBzdGFydEZyYW1lID0gMDtcbiAgICAgIGxldCBzdG9wRnJhbWUgPSAwO1xuICAgICAgbGV0IGhvdmVyU3RhcnRGcmFtZSA9IDA7XG4gICAgICBsZXQgaG92ZXJTdG9wRnJhbWUgPSAwO1xuICAgICAgbGV0IGF1ZGlvRmlsZTtcblxuICAgICAgLy8gVGhlIGFuaW1hdGlvbiBkYXRhIGtleSBvbiB0aGUgYnV0dG9uIGVsZW1lbnRzIGRldGVybWluZSB3aGljaCBzZXRzIG9mIGZyYW1lcyBzaG91bGQgYmVcbiAgICAgIC8vIGFzc2lnbmVkIHRvIHBsYXkgb24gY2xpY2tcbiAgICAgIHN3aXRjaCAoZWxlbWVudC5kYXRhc2V0LmFuaW1hdGlvbikge1xuICAgICAgICBjYXNlICdzYXRlbGxpdGUnOlxuICAgICAgICAgIHN0YXJ0RnJhbWUgPSAwO1xuICAgICAgICAgIHN0b3BGcmFtZSA9IDI5OTtcbiAgICAgICAgICBhdWRpb0ZpbGUgPSAnL3N0YXRpYy9hdWRpby9nc2YtYmxvb3BzLVNSLm1wMyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgIHN0YXJ0RnJhbWUgPSAxMDcxO1xuICAgICAgICAgIHN0b3BGcmFtZSA9IDEwOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BsYW5ldHMnOlxuICAgICAgICAgIHN0YXJ0RnJhbWUgPSAzMDA7XG4gICAgICAgICAgc3RvcEZyYW1lID0gNjAwO1xuICAgICAgICAgIGF1ZGlvRmlsZSA9ICcvc3RhdGljL2F1ZGlvL2dzZi1ibG9vcHMtQ0MubXAzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmFsbG9vbjEnOlxuICAgICAgICAgIHN0YXJ0RnJhbWUgPSAxMDMxO1xuICAgICAgICAgIHN0b3BGcmFtZSA9IDEwNTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2JhbGxvb24yJzpcbiAgICAgICAgICBzdGFydEZyYW1lID0gNjAxO1xuICAgICAgICAgIHN0b3BGcmFtZSA9IDg0MTtcbiAgICAgICAgICBhdWRpb0ZpbGUgPSAnL3N0YXRpYy9hdWRpby9nc2YtYmxvb3BzLUkubXAzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndm9sY2Fubyc6XG4gICAgICAgICAgc3RhcnRGcmFtZSA9IDg0MTtcbiAgICAgICAgICBzdG9wRnJhbWUgPSA5OTA7XG4gICAgICAgICAgYXVkaW9GaWxlID0gJy9zdGF0aWMvYXVkaW8vZ3NmLWJsb29wcy1BLm1wMyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsZXR0ZXIgZGF0YSBrZXkgb24gdGhlIGJ1dHRvbiBlbGVtZW50cyBkZXRlcm1pbmUgd2hpY2ggc2V0cyBvZiBob3ZlciBmcmFtZXMgc2hvdWxkIGJlXG4gICAgICAvLyBhc3NpZ25lZCB0byBwbGF5IG9uIGhvdmVyLlxuICAgICAgc3dpdGNoIChlbGVtZW50LmRhdGFzZXQubGV0dGVyKSB7XG4gICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgIGhvdmVyU3RhcnRGcmFtZSA9IDk5MjtcbiAgICAgICAgICBob3ZlclN0b3BGcmFtZSA9IDEwMTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2MxJzpcbiAgICAgICAgICBob3ZlclN0YXJ0RnJhbWUgPSAxMDExO1xuICAgICAgICAgIGhvdmVyU3RvcEZyYW1lID0gMTAzMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaTEnOlxuICAgICAgICAgIGhvdmVyU3RhcnRGcmFtZSA9IDEwMzE7XG4gICAgICAgICAgaG92ZXJTdG9wRnJhbWUgPSAxMDUwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjMic6XG4gICAgICAgICAgaG92ZXJTdGFydEZyYW1lID0gMTA1MTtcbiAgICAgICAgICBob3ZlclN0b3BGcmFtZSA9IDEwNzA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgIGhvdmVyU3RhcnRGcmFtZSA9IDEwNzE7XG4gICAgICAgICAgaG92ZXJTdG9wRnJhbWUgPSAxMDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICBob3ZlclN0YXJ0RnJhbWUgPSAxMDkxO1xuICAgICAgICAgIGhvdmVyU3RvcEZyYW1lID0gMTExMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaTInOlxuICAgICAgICAgIGhvdmVyU3RhcnRGcmFtZSA9IDExMTE7XG4gICAgICAgICAgaG92ZXJTdG9wRnJhbWUgPSAxMTMwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyJzpcbiAgICAgICAgICBob3ZlclN0YXJ0RnJhbWUgPSAxMTMxO1xuICAgICAgICAgIGhvdmVyU3RvcEZyYW1lID0gMTE1MTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiBlbGVtZW50LFxuICAgICAgICBzdGFydEZyYW1lOiBzdGFydEZyYW1lLFxuICAgICAgICBzdG9wRnJhbWU6IHN0b3BGcmFtZSxcbiAgICAgICAgaG92ZXJTdGFydEZyYW1lOiBob3ZlclN0YXJ0RnJhbWUsXG4gICAgICAgIGhvdmVyU3RvcEZyYW1lOiBob3ZlclN0b3BGcmFtZSxcbiAgICAgICAgYXVkaW9QbGF5ZXI6IGF1ZGlvRmlsZSA/IG5ldyBBdWRpb1BsYXllcihhdWRpb0ZpbGUpIDogbnVsbCxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBiaW5kRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy50cmlnZ2VycykgeyByZXR1cm47IH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5zZXRUb3VjaFdhc1VzZWQpO1xuICAgIC8vIEFkZCBleHRyYSBmb2N1cyBzdGF0ZSBzdHlsZXMgaWYgdGhlIHVzZXIgaXMgdGFiYmluZyB0aHJvdWdoIHRoZSBwYWdlIHRvIGFjY2VzcyBjb250ZW50XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNoZWNrSWZOZWVkc0ZvY3VzKTtcblxuICAgIHRoaXMudHJpZ2dlcnMuZm9yRWFjaCgodHJpZ2dlcikgPT4ge1xuICAgICAgdHJpZ2dlci5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRvdWNoV2FzVXNlZCkge1xuICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRyaWdnZXIuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5wbGF5QW5pbWF0aW9uLmJpbmQodGhpcywgdHJpZ2dlcikpO1xuXG4gICAgICB0cmlnZ2VyLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5wbGF5SG92ZXJBbmltYXRpb24uYmluZCh0aGlzLCB0cmlnZ2VyKSk7XG4gICAgICB0cmlnZ2VyLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5zdG9wSG92ZXJBbmltYXRpb24uYmluZCh0aGlzLCB0cmlnZ2VyKSk7XG4gICAgfSk7XG5cbiAgICAvLyBBdm9pZCBhbGxvd2luZyBtb3JlIHRoYW4gb25lIGFuaW1hdGlvbiBhdCBhIHRpbWUgdG8gdHJ5IGFuZCBwbGF5LCBzbyBub3RlIHdoZW4gcGxheWluZyBvbmVcbiAgICAvLyBoYXMgY29tcGxldGVkLlxuICAgIHRoaXMuYW5pbWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgdGhpcy5zdG9wQW5pbWF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBhbmQgc3RvcHMgYWxsIGF1ZGlvXG4gICAqL1xuICB0ZWFyRG93bigpIHtcbiAgICBpZiAoIXRoaXMudHJpZ2dlcnMpIHsgcmV0dXJuOyB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuc2V0VG91Y2hXYXNVc2VkKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2hlY2tJZk5lZWRzRm9jdXMpO1xuICAgIHRoaXMudHJpZ2dlcnMuZm9yRWFjaCgodHJpZ2dlcikgPT4ge1xuICAgICAgLy8gQmVjYXVzZSBzb21lIGV2ZW50cyB3ZXJlIGJvdW5kIHdpdGggYW5vbnltb3VzIGZ1bmN0aW9ucywgdGhlIGxpc3RlbmVycyBjYW5ub3QgYmUgcmVtb3ZlZC5cbiAgICAgIC8vIEJ5IGNsb25pbmcgYW5kIHJlY3JlYXRpbmcgdGhlIERPTSBub2RlLCB0aGUgZXZlbnQgbGlzdGVuZXIgZ29lcyBhd2F5LlxuICAgICAgaWYgKHRyaWdnZXIuYnV0dG9uICYmIHRyaWdnZXIuYnV0dG9uLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgbmV3QnV0dG9uID0gdHJpZ2dlci5idXR0b24uY2xvbmVOb2RlKCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIHRyaWdnZXIuYnV0dG9uLnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKG5ld0J1dHRvbiwgdHJpZ2dlci5idXR0b24pO1xuICAgICAgICB0cmlnZ2VyLmJ1dHRvbiA9IG5ld0J1dHRvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyaWdnZXIuYXVkaW9QbGF5ZXIpIHtcbiAgICAgICAgdHJpZ2dlci5hdWRpb1BsYXllci5zdG9wKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFuaW1hdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIHRoaXMuc3RvcEFuaW1hdGlvbik7XG5cbiAgICBpZiAodGhpcy5zbGluZ3Nob3QpIHtcbiAgICAgIHRoaXMuc2xpbmdzaG90LnRlYXJEb3duKCk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldFRvdWNoV2FzVXNlZCgpIHtcbiAgICB0aGlzLnRvdWNoV2FzVXNlZCA9IHRydWU7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnNldFRvdWNoV2FzVXNlZCk7XG4gIH1cblxuICBpbml0QWxsQXVkaW8oKSB7XG4gICAgaWYgKCF0aGlzLnRyaWdnZXJzKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy50cmlnZ2Vycy5mb3JFYWNoKCh0cmlnZ2VyKSA9PiB7XG4gICAgICBpZiAodHJpZ2dlci5hdWRpb1BsYXllcikge1xuICAgICAgICB0cmlnZ2VyLmF1ZGlvUGxheWVyLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjaGVja0lmTmVlZHNGb2N1cyhlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ORUVEU19GT0NVU19SSU5HKTtcblxuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0aGUgZXZlbnQgbGlzdGVuZXIgYWZ0ZXIgaXQncyBiZWVuIHRyaWdnZXJlZCBvbmNlLCBzbyByZW1vdmUgaXRcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5jaGVja0lmTmVlZHNGb2N1cyk7XG4gICAgfVxuICB9XG5cbiAgcGxheUFuaW1hdGlvbih0cmlnZ2VyOiBJVHJpZ2dlcikge1xuICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGxheWluZ1RyaWdnZXIgJiYgdGhpcy5jdXJyZW50UGxheWluZ1RyaWdnZXIuYXVkaW9QbGF5ZXIpIHtcbiAgICAgIHRoaXMuY3VycmVudFBsYXlpbmdUcmlnZ2VyLmF1ZGlvUGxheWVyLnN0b3AoKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGxheWluZ1RyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHRoaXMuYW5pbWF0aW9uLnBsYXlTZWdtZW50cyhbdHJpZ2dlci5zdGFydEZyYW1lLCB0cmlnZ2VyLnN0b3BGcmFtZV0sIHRydWUpO1xuXG4gICAgbGV0IGxldmVsID0gREVGQVVMVF9BVURJT19MRVZFTDtcbiAgICBpZiAodHJpZ2dlci5hdWRpb1BsYXllcikge1xuICAgICAgdHJpZ2dlci5hdWRpb1BsYXllci5zdGFydCgpO1xuICAgICAgc3dpdGNoICh0cmlnZ2VyLmJ1dHRvbi5kYXRhc2V0LmFuaW1hdGlvbikge1xuICAgICAgICBjYXNlICdzYXRlbGxpdGUnOlxuICAgICAgICAgIGxldmVsID0gMC40O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd2b2xjYW5vJzpcbiAgICAgICAgICBsZXZlbCA9IDAuMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdHJpZ2dlci5hdWRpb1BsYXllci5zZXRWb2x1bWUobGV2ZWwpO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzdG9wQW5pbWF0aW9uKCkge1xuICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5jdXJyZW50UGxheWluZ1RyaWdnZXIpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5aW5nVHJpZ2dlci5hdWRpb1BsYXllcikge1xuICAgICAgICB0aGlzLmN1cnJlbnRQbGF5aW5nVHJpZ2dlci5hdWRpb1BsYXllci5zdG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5aW5nVHJpZ2dlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcGxheUhvdmVyQW5pbWF0aW9uKHRyaWdnZXI6IElUcmlnZ2VyKSB7XG4gICAgaWYgKHRoaXMuaXNIb3ZlcmluZyB8fCB0aGlzLmlzUGxheWluZykgeyByZXR1cm47IH1cblxuICAgIHRoaXMuaXNIb3ZlcmluZyA9IHRydWU7XG4gICAgdGhpcy5hbmltYXRpb24ucGxheVNlZ21lbnRzKFt0cmlnZ2VyLmhvdmVyU3RhcnRGcmFtZSwgdHJpZ2dlci5ob3ZlclN0b3BGcmFtZV0sIHRydWUpO1xuICB9XG5cbiAgc3RvcEhvdmVyQW5pbWF0aW9uKCkge1xuICAgIGlmICghdGhpcy5pc0hvdmVyaW5nKSB7IHJldHVybjsgfVxuICAgIHRoaXMuaXNIb3ZlcmluZyA9IGZhbHNlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBub2RlTGlzdFRvQXJyYXksIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmRlY2xhcmUgdmFyIFR3ZWVuTWF4OiBhbnk7XG5kZWNsYXJlIHZhciBRdWFkOiBhbnk7XG5cbmNvbnN0IElOSVRJQUxfU0hPV19DT1VOVCA9IDEwO1xuY29uc3QgREVGQVVMVF9BTklNQVRJT05fVElNSU5HID0gMC41O1xuXG5leHBvcnQgY2xhc3MgTGlzdEFjY29yZGlvbiB7XG4gIHBhcmVudDogSFRNTEVsZW1lbnQ7XG4gIGl0ZW1zOiBBcnJheTxIVE1MRWxlbWVudD47XG4gIGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGlzRXhwYW5kZWQ6IGJvb2xlYW47XG4gIGhhc0JlZW5FeHBhbmRlZDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3Rvcjogc3RyaW5nLCBidXR0b25TZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5wYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmVudFNlbGVjdG9yKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLml0ZW1zID0gbm9kZUxpc3RUb0FycmF5KHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpO1xuICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3RvcikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy5pc0V4cGFuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5oYXNCZWVuRXhwYW5kZWQgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLml0ZW1zICYmIHRoaXMuYnV0dG9uKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVCdXR0b25DbGljayk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICAgIHRoaXMucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgIHRoaXMuY29sbGFwc2VMaXN0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuaXNFeHBhbmRlZCkge1xuICAgICAgdGhpcy5jb2xsYXBzZUxpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5leHBhbmRMaXN0KCk7XG4gICAgICB0aGlzLmhhc0JlZW5FeHBhbmRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uUmVzaXplKCkge1xuICAgIGlmICh0aGlzLmlzRXhwYW5kZWQpIHtcbiAgICAgIHRoaXMucGFyZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlUmVzaXplKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVSZXNpemUoKSB7XG4gICAgdGhpcy5jb2xsYXBzZUxpc3QoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5oYXNCZWVuRXhwYW5kZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoIXRoaXMuaXNFeHBhbmRlZCkge1xuICAgICAgdGhpcy5leHBhbmRMaXN0KCk7XG4gICAgICB0aGlzLmhhc0JlZW5FeHBhbmRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZmluZFRhcmdldEl0ZW0oKTogSFRNTEVsZW1lbnQge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbGV0IHRhcmdldEl0ZW07XG4gICAgbGV0IGxhc3RWaXNpYmxlSXRlbTtcblxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ID4gMCkge1xuICAgICAgICBsYXN0VmlzaWJsZUl0ZW0gPSBpdGVtO1xuICAgICAgICBjb3VudCsrO1xuXG4gICAgICAgIGlmIChjb3VudCA9PT0gSU5JVElBTF9TSE9XX0NPVU5UKSB7XG4gICAgICAgICAgdGFyZ2V0SXRlbSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChjb3VudCA8IElOSVRJQUxfU0hPV19DT1VOVCkge1xuICAgICAgdGFyZ2V0SXRlbSA9IGxhc3RWaXNpYmxlSXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0SXRlbSB8fCB0aGlzLml0ZW1zW0lOSVRJQUxfU0hPV19DT1VOVCAtIDFdO1xuICB9XG5cbiAgY29sbGFwc2VMaXN0KCkge1xuICAgIHRoaXMuaXNFeHBhbmRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHRhcmdldEl0ZW0gPSB0aGlzLmZpbmRUYXJnZXRJdGVtKCk7XG4gICAgY29uc3QgdGFyZ2V0SGVpZ2h0ID0gdGFyZ2V0SXRlbS5vZmZzZXRUb3AgLSB0aGlzLnBhcmVudC5vZmZzZXRUb3AgLSAxO1xuXG4gICAgVHdlZW5NYXgudG8odGhpcy5wYXJlbnQsIERFRkFVTFRfQU5JTUFUSU9OX1RJTUlORywge1xuICAgICAgaGVpZ2h0OiB0YXJnZXRIZWlnaHQsXG4gICAgICBlYXNlOiBRdWFkLmVhc2VPdXQsXG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgZXhwYW5kTGlzdCgpIHtcbiAgICBpZiAodGhpcy5oYXNCZWVuRXhwYW5kZWQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLmlzRXhwYW5kZWQgPSB0cnVlO1xuICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSU5BQ1RJVkUpO1xuICAgIGxldCB0YXJnZXRIZWlnaHQ7XG5cbiAgICBUd2Vlbk1heC5zZXQodGhpcy5wYXJlbnQsIHtcbiAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5wYXJlbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLnBhcmVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnaGVpZ2h0Jyk7XG4gICAgICAgIHRoaXMucGFyZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwb3NpdGlvbicpO1xuICAgICAgICB0YXJnZXRIZWlnaHQgPSB0aGlzLnBhcmVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgVHdlZW5NYXgudG8odGhpcy5wYXJlbnQsIERFRkFVTFRfQU5JTUFUSU9OX1RJTUlORywge1xuICAgICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICBlYXNlOiBRdWFkLmVhc2VPdXQsXG4gICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuIiwiZGVjbGFyZSBjb25zdCBUd2Vlbk1heDogYW55O1xuXG5pbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIEhFUkNVTEVTX0hFQURFUjogJy5oZXJjdWxlcy1oZWFkZXInLFxuICBOQVZfTElOS1M6ICcuanMtbmF2LWxpbmsnLFxuICBOQVZfQkFDS0RST1A6ICcjaC1qcy1oZWFkZXJfX2RyYXdlci1iYWNrZHJvcCcsXG59O1xuXG5jb25zdCBDTEFTU19OQU1FUyA9IHtcbiAgQUNUSVZFOiAnLWFjdGl2ZScsXG4gIEhFUkNVTEVTX0FDVElWRV9DTEFTUzogJ2gtaXMtYWN0aXZlJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdkluUGFnZSB7XG4gIGNvcmU6IENvcmU7XG4gIG5hdkxpbmtzOiBIVE1MQW5jaG9yRWxlbWVudFtdO1xuICBuYXZCYWNrZHJvcDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHNlY3Rpb25FbHM/OiBIVE1MRWxlbWVudFtdO1xuICBjdXJyZW50U2VjdGlvbkluZGV4OiBudW1iZXI7XG4gIHNlY3Rpb25Ub3BzOiBudW1iZXJbXTtcbiAgaGVyY3VsZXNIZWFkZXI6IEhUTUxFbGVtZW50O1xuICB3aW5kb3dIZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogTmF2SW5QYWdlIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdGhpcy5uYXZMaW5rcyA9IG5vZGVMaXN0VG9BcnJheShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLk5BVl9MSU5LUyksXG4gICAgKSBhcyBIVE1MQW5jaG9yRWxlbWVudFtdO1xuICAgIHRoaXMubmF2QmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5OQVZfQkFDS0RST1ApIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMuc2VjdGlvbkVscyA9IHRoaXMubmF2TGlua3MubWFwKChsaW5rKSA9PiB7XG4gICAgICAvLyBUT0RPOiBmaW5kIGEgbmljZXIgd2F5IHRvIGVuZm9yY2UgdGhpcy4gSWYgdGhlcmUgaXMgbm8gJ2xpbmsnIGluIHRoZSBkYXRhc2V0XG4gICAgICAvLyAgICAgICB3ZSBzaG91bGQga2lsbCB0aGUgYmVoYXZpb3JzIG9mIHRoaXMgZmlsZSBhbmQgZW1pdCBhIHdhcm5pbmcuXG4gICAgICBjb25zdCBsaW5rRWwgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGluay5kYXRhc2V0LmxpbmsgfHwgJycpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIHJldHVybiAobGlua0VsLnF1ZXJ5U2VsZWN0b3IoJy5oLWMtaGVhZGxpbmUnKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5jdXJyZW50U2VjdGlvbkluZGV4ID0gMDtcbiAgICB0aGlzLnNlY3Rpb25Ub3BzID0gdGhpcy5zZWN0aW9uRWxzLm1hcCgoZWwpID0+IGVsID8gZWwub2Zmc2V0VG9wIDogMCk7XG4gICAgdGhpcy5oZXJjdWxlc0hlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkhFUkNVTEVTX0hFQURFUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogS2lja3Mgb2ZmIGhhbmRsZXJzIGFuZCBzZXR1cFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5hdHRhY2hFdmVudHMoKTtcbiAgICB0aGlzLmNoZWNrQW5kU2V0Q3VycmVudFNlY3Rpb25zKHRoaXMuZ2V0RG9jdW1lbnRTY3JvbGwoKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyByZXF1aXJlZCBldmVudCBoYW5kbGVycyBmb3IgTmF2XG4gICAqL1xuICBhdHRhY2hFdmVudHMoKTogdm9pZCB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgIHRoaXMubmF2TGlua3MuZm9yRWFjaCgobGluaywgaW5kZXgpID0+IHtcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNjcm9sbFRvU2VjdGlvbi5iaW5kKHRoaXMsIGluZGV4KSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJ0aWNhbCBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIGRvY3VtZW50LlxuICAgKi9cbiAgZ2V0RG9jdW1lbnRTY3JvbGwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgRXZlbnRcbiAgKi9cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCk6IHZvaWQge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZWRTY3JvbGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCBldmVudHMgcnVuIG9uIGFuaW1hdGlvbiBmcmFtZS5cbiAgICovXG4gIEBhdXRvYmluZFxuICBoYW5kbGVkU2Nyb2xsKCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSB0aGlzLmdldERvY3VtZW50U2Nyb2xsKCk7XG4gICAgdGhpcy5jaGVja0FuZFNldEN1cnJlbnRTZWN0aW9ucyhjdXJyZW50U2Nyb2xsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBzZWN0aW9uIHRoYXQgaXMgY2xvc2VzdCB0byBzY3JvbGxUb3AgYW5kIHNldHMgaXQgYXMgY3VycmVudC5cbiAgICogQHBhcmFtIGN1cnJlbnRTY3JvbGwgLSBjdXJyZW50IHNpdGUgc2Nyb2xsIHBvc2l0aW9uLlxuICAgKi9cbiAgY2hlY2tBbmRTZXRDdXJyZW50U2VjdGlvbnMoY3VycmVudFNjcm9sbDogbnVtYmVyKSB7XG4gICAgbGV0IGNsb3Nlc3QgPSAwO1xuXG4gICAgaWYgKGN1cnJlbnRTY3JvbGwgPCB0aGlzLnNlY3Rpb25Ub3BzWzFdIC0gdGhpcy53aW5kb3dIZWlnaHQpIHtcbiAgICAgIGNsb3Nlc3QgPSAwO1xuICAgIH0gZWxzZSBpZiAoKGN1cnJlbnRTY3JvbGwgPiB0aGlzLnNlY3Rpb25Ub3BzWzFdIC0gdGhpcy53aW5kb3dIZWlnaHQpICYmXG4gICAgKGN1cnJlbnRTY3JvbGwgPCB0aGlzLnNlY3Rpb25Ub3BzWzJdIC0gdGhpcy53aW5kb3dIZWlnaHQgLSB0aGlzLmhlcmN1bGVzSGVhZGVyLm9mZnNldEhlaWdodCkpIHtcbiAgICAgIGNsb3Nlc3QgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9zZXN0ID0gMjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50U2VjdGlvbkluZGV4ICE9PSBjbG9zZXN0KSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZWN0aW9uSW5kZXggPSBjbG9zZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmF0ZVNlY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGN1cnJlbnRTZWN0aW9uIHRvIGl0cyBhY3RpdmUgc3RhdGUuXG4gICAqL1xuICBhY3RpdmF0ZVNlY3Rpb24oKTogdm9pZCB7XG4gICAgdGhpcy5kZWFjdGl2YXRlU2VjdGlvbnMoKTtcbiAgICB0aGlzLm5hdkxpbmtzW3RoaXMuY3VycmVudFNlY3Rpb25JbmRleF0uY2xhc3NMaXN0LmFkZChcbiAgICAgICAgQ0xBU1NfTkFNRVMuSEVSQ1VMRVNfQUNUSVZFX0NMQVNTKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHNlY3Rpb25zIHRoYXQgYXJlbid0IGN1cnJlbnRTZWN0aW9uIHRvIGRlYWN0aXZlIHN0YXRlLlxuICAgKi9cbiAgZGVhY3RpdmF0ZVNlY3Rpb25zKCk6IHZvaWQge1xuICAgIHRoaXMubmF2TGlua3MuZm9yRWFjaCgobGluaywgaW5kZXgpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTZWN0aW9uSW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgICAgIENMQVNTX05BTUVTLkhFUkNVTEVTX0FDVElWRV9DTEFTUyk7XG4gICAgICAgIGxpbmsuYmx1cigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgcGFnZSB0byB0aGUgaW5wdXQgc2VjdGlvbiwgYWRqdXN0aW5nIGZvciBoZWFkZXIgaGVpZ2h0IGlmIGluIHZpZXcuXG4gICAqIEBwYXJhbSBzZWN0aW9uIC0gaW5wdXQgc2VjdGlvbiBvYmplY3QgdG8gc2Nyb2xsIHRvXG4gICAqL1xuICBwcml2YXRlIHNjcm9sbFRvU2VjdGlvbihzZWN0aW9uSW5kZXg6IG51bWJlciwgZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm5hdkJhY2tkcm9wLmNsaWNrKCk7XG4gICAgaWYgKCF0aGlzLnNlY3Rpb25FbHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5zZWN0aW9uRWxzW3NlY3Rpb25JbmRleF0ub2Zmc2V0VG9wO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uID1cbiAgICAgICAgdGhpcy5nZXREb2N1bWVudFNjcm9sbCgpID4gdGFyZ2V0XG4gICAgICAgICAgICA/IHRhcmdldCAtIHRoaXMuaGVyY3VsZXNIZWFkZXIub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICA6IHRhcmdldDtcblxuICAgIFR3ZWVuTWF4LnRvKHdpbmRvdywgMSwge1xuICAgICAgc2Nyb2xsVG86IHtcbiAgICAgICAgeTogZGVzdGluYXRpb24gLSA2MCxcbiAgICAgICAgYXV0b0tpbGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgIH1cbn1cbiIsImltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSwgQUNUSU9OX0NMQVNTRVMgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmRlY2xhcmUgdmFyIFR3ZWVuTWF4OiB7XG4gIHRvOiAoXG4gICAgYXJnMDogSFRNTEVsZW1lbnQsXG4gICAgYXJnMTogbnVtYmVyLFxuICAgIGFyZzI6IHtcbiAgICAgIHNjcm9sbFRvOiB7IHg6IG51bWJlcjsgYXV0b0tpbGw6IGJvb2xlYW47IH07XG4gICAgfSxcbiAgKSA9PiB2b2lkO1xufTtcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBOQVZfQ09OVEFJTkVSOiAnLmpzLXJlc291cmNlLW5hdicsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZU5hdiB7XG4gIG5hdkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIG5hdkxpc3RJdGVtcz86IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgYWN0aXZlTGlzdEl0ZW0/OiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogQWxlcnQgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm5hdkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLk5BVl9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0aGlzLm5hdkNvbnRhaW5lcikge1xuICAgICAgdGhpcy5uYXZMaXN0SXRlbXMgPSBub2RlTGlzdFRvQXJyYXkodGhpcy5uYXZDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGkgYScpKTtcbiAgICAgIHRoaXMuYWN0aXZlTGlzdEl0ZW0gPSB0aGlzLm5hdkxpc3RJdGVtcy5maW5kKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKEFDVElPTl9DTEFTU0VTLkFDVElWRSkpO1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSB0aGlzLmFjdGl2ZUxpc3RJdGVtXG4gICAgICAgICYmIHRoaXMuYWN0aXZlTGlzdEl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCB8fCAwO1xuICAgIFR3ZWVuTWF4LnRvKHRoaXMubmF2Q29udGFpbmVyLCAxLCB7XG4gICAgICBzY3JvbGxUbzoge1xuICAgICAgICB4OiBkZXN0aW5hdGlvbiAtIDE2LFxuICAgICAgICBhdXRvS2lsbDogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIFRoaXMgaXMgYSBnZW5lcmljIGNvbnRyb2xsZXIgdGhhdCBnZXRzIGFsbCBzY3JvbGx0byBsaW5rcyBvbiBhIHBhZ2UsIGFuZCBhbmltYXRlcyBzY3JvbGwgcG9zaXRpb25cbiAqIHRvIHRoZWlyIHRhcmdldCBlbGVtZW50LiBUaGUgZWxlbWVudCB3aWxsIGFsc28gYmUgc2V0IGFjdGl2ZSBvciBpbmFjdGl2ZSBkZXBlbmRpbmcgaWYgaXRzIHRhcmdldFxuICogZWxlbWVudCBpcyBpbiB2aWV3XG4gKi9cblxuZGVjbGFyZSB2YXIgVHdlZW5NYXg6IGFueTtcbmRlY2xhcmUgdmFyIEV4cG86IGFueTtcblxuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgbm9kZUxpc3RUb0FycmF5LCBBQ1RJT05fQ0xBU1NFUywgTUVESUFfUVVFUklFUyB9IGZyb20gJy4uL3V0aWwnO1xuXG5pbnRlcmZhY2UgSVNlY3Rpb24ge1xuICBsaW5rPzogSFRNTEFuY2hvckVsZW1lbnQ7XG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgaGFzaDogc3RyaW5nO1xuICBzaG91bGRUcmFjazogYm9vbGVhbjtcbiAgaXNVcmw/OiBib29sZWFuO1xufVxuXG5jb25zdCBMSU5LX1NFTEVDVE9SID0gJy5qcy1zY3JvbGx0by1saW5rJztcbmNvbnN0IFRSQUNLRVJfU0VMRUNUT1IgPSAnLmpzLXNjcm9sbHRvLXRyYWNrZXInO1xuY29uc3QgU0VMRUNUX01FTlVfU0VMRUNUT1IgPSAnLmpzLXNjcm9sbHRvLXNlbGVjdCc7XG5jb25zdCBTQ1JPTExfVElNSU5HID0gMC43NTtcbmNvbnN0IFdJTkRPV19PRkZTRVQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjU7XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxUbyB7XG4gIGFsbFNlY3Rpb25zOiBBcnJheTxJU2VjdGlvbj47XG4gIGFsbE9wdGlvbnM6IEFycmF5PElTZWN0aW9uPjtcbiAgYWN0aXZlU2VjdGlvbjogSVNlY3Rpb247XG4gIHNlbGVjdE1lbnU6IEhUTUxTZWxlY3RFbGVtZW50O1xuICBsYXN0U2Nyb2xsOiBudW1iZXI7XG4gIHRyYWNrZXI6IEhUTUxFbGVtZW50O1xuICB0cmFja2VyVHdlZW46IGFueTtcbiAgaXNUd2VlbmluZzogYm9vbGVhbjtcbiAgaXNTbWFsbFNjcmVlbjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBhbGxMaW5rcyA9XG4gICAgICAgIG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKExJTktfU0VMRUNUT1IpKSBhcyBBcnJheTxIVE1MQW5jaG9yRWxlbWVudD47XG5cbiAgICB0aGlzLmFsbFNlY3Rpb25zID0gYWxsTGlua3MubWFwKChsaW5rKSA9PiB7XG4gICAgICBjb25zdCBsaW5raHJlZiA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJ2JvZHknO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5raHJlZik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICBlbGVtZW50OiB0YXJnZXQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgIGhhc2g6IGxpbmtocmVmLFxuICAgICAgICBzaG91bGRUcmFjazogbGluay5kYXRhc2V0Lm5hdlRyYWNrID09PSAndHJ1ZScsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZWxlY3RNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RfTUVOVV9TRUxFQ1RPUikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuc2VsZWN0TWVudSAmJlxuICAgICAgICBub2RlTGlzdFRvQXJyYXkodGhpcy5zZWxlY3RNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpKSBhcyBBcnJheTxIVE1MT3B0aW9uRWxlbWVudD47XG5cbiAgICB0aGlzLmFsbE9wdGlvbnMgPSBvcHRpb25zICYmIG9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgIGNvbnN0IGlzVXJsID0gb3B0aW9uLmRhdGFzZXQudXJsID09PSAndHJ1ZSc7XG4gICAgICBjb25zdCBsaW5raHJlZiA9IG9wdGlvbi5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgfHwgJ2JvZHknO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gIWlzVXJsID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5raHJlZikgOiBudWxsO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50OiB0YXJnZXQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgIGhhc2g6IGxpbmtocmVmLFxuICAgICAgICBzaG91bGRUcmFjazogZmFsc2UsXG4gICAgICAgIGlzVXJsOiBpc1VybCxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICB0aGlzLnRyYWNrZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFRSQUNLRVJfU0VMRUNUT1IpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMubGFzdFNjcm9sbCA9IHRoaXMuZ2V0U2Nyb2xsKCk7XG4gICAgdGhpcy5pc1R3ZWVuaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmlzU21hbGxTY3JlZW4gPSAhd2luZG93Lm1hdGNoTWVkaWEoTUVESUFfUVVFUklFUy5TTUFMTCkubWF0Y2hlcztcbiAgICB0aGlzLmFjdGl2ZVNlY3Rpb24gPSB0aGlzLmFsbFNlY3Rpb25zWzBdO1xuXG4gICAgaWYgKCF0aGlzLmFsbFNlY3Rpb25zKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5hY3RpdmF0ZVNlY3Rpb24odGhpcy5hbGxTZWN0aW9uc1swXSk7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgdGhpcy5vblNjcm9sbCgpO1xuICB9XG5cbiAgYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLmFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgIGlmIChzZWN0aW9uLmxpbmspIHtcbiAgICAgICAgc2VjdGlvbi5saW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuaGFuZGxlTmF2Q2xpY2soc2VjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0TWVudSkge1xuICAgICAgdGhpcy5zZWxlY3RNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU2VsZWN0Q2hhbmdlKTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZU5hdkNsaWNrKHNlY3Rpb246IElTZWN0aW9uKSB7XG4gICAgaWYgKCFzZWN0aW9uLmVsZW1lbnQpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5zY3JvbGxUb1NlY3Rpb24oc2VjdGlvbi5lbGVtZW50KTtcbiAgICB0aGlzLmFjdGl2YXRlU2VjdGlvbihzZWN0aW9uKTtcbiAgICB0aGlzLm1vdmVUcmFja2VyKHNlY3Rpb24pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVNlbGVjdENoYW5nZShlOiBFdmVudCkge1xuICAgIGNvbnN0IG1lbnUgPSBlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBjb25zdCBpc1VybCA9IG1lbnUuc2VsZWN0ZWRPcHRpb25zWzBdLmRhdGFzZXQudXJsID09PSAndHJ1ZSc7XG4gICAgY29uc3QgaGFzaCA9IG1lbnUuc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlO1xuXG4gICAgaWYgKGlzVXJsKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWxsT3B0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmIChoYXNoID09PSBzZWN0aW9uLmhhc2ggJiYgc2VjdGlvbi5lbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb1NlY3Rpb24oc2VjdGlvbi5lbGVtZW50KTtcbiAgICAgICAgICB0aGlzLmFjdGl2YXRlU2VjdGlvbihzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc2Nyb2xsVG9TZWN0aW9uKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICBUd2Vlbk1heC50byh3aW5kb3csIFNDUk9MTF9USU1JTkcsIHtcbiAgICAgIHNjcm9sbFRvOiB7XG4gICAgICAgIHk6IHRhcmdldC5vZmZzZXRUb3AgLSAod2luZG93LmlubmVySGVpZ2h0ICogMC4xKSxcbiAgICAgICAgYXV0b0tpbGw6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5pc1R3ZWVuaW5nID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNUd2VlbmluZyA9IGZhbHNlO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSxcbiAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNjcm9sbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCkge1xuICAgIC8vIE9ubHkgbmVlZCBzY3JvbGxpbmcgYmVoYXZpb3Igb24gZGVza3RvcFxuICAgIGlmICh0aGlzLmlzU21hbGxTY3JlZW4pIHsgcmV0dXJuOyB9XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVTY3JvbGwpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5pc1R3ZWVuaW5nKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHRoaXMuZ2V0U2Nyb2xsKCk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gY3VycmVudFNjcm9sbCA+IHRoaXMubGFzdFNjcm9sbCA/IDEgOiAtMTtcbiAgICBsZXQgc2VjdGlvbjtcblxuICAgIGNvbnN0IGlzQWN0aXZlU2VjdGlvbkluVmlldyA9IHRoaXMuY2hlY2tJZlNlY3Rpb25Jc0luVmlldyh0aGlzLmFjdGl2ZVNlY3Rpb24sIGRpcmVjdGlvbik7XG5cbiAgICBpZiAoaXNBY3RpdmVTZWN0aW9uSW5WaWV3KSB7IHJldHVybjsgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbFNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZWN0aW9uID0gdGhpcy5hbGxTZWN0aW9uc1tpXTtcbiAgICAgIGlmICh0aGlzLmNoZWNrSWZTZWN0aW9uSXNJblZpZXcoc2VjdGlvbiwgZGlyZWN0aW9uKSkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlU2VjdGlvbihzZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGFzdFNjcm9sbCA9IGN1cnJlbnRTY3JvbGw7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25SZXNpemUoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlUmVzaXplKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVSZXNpemUoKSB7XG4gICAgdGhpcy5pc1NtYWxsU2NyZWVuID0gIXdpbmRvdy5tYXRjaE1lZGlhKE1FRElBX1FVRVJJRVMuU01BTEwpLm1hdGNoZXM7XG4gIH1cblxuICBjaGVja0lmU2VjdGlvbklzSW5WaWV3KHNlY3Rpb246IElTZWN0aW9uIHwgbnVsbCwgZGlyZWN0aW9uID0gMSk6IGJvb2xlYW4ge1xuICAgIGlmICghc2VjdGlvbiB8fCAhc2VjdGlvbi5lbGVtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYm91bmRzID0gc2VjdGlvbi5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBpc0luVmlldyA9IGZhbHNlO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICAgIGlzSW5WaWV3ID0gYm91bmRzLnRvcCA8PSBXSU5ET1dfT0ZGU0VUICYmIGJvdW5kcy5ib3R0b20gPiBXSU5ET1dfT0ZGU0VUICogMC41O1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaXNJblZpZXcgPSBib3VuZHMuYm90dG9tID4gV0lORE9XX09GRlNFVCAqIDAuNSAmJiBib3VuZHMudG9wIDw9IFdJTkRPV19PRkZTRVQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzSW5WaWV3O1xuICB9XG5cbiAgbW92ZVRyYWNrZXIoc2VjdGlvbjogSVNlY3Rpb24pIHtcbiAgICBpZiAoIXRoaXMudHJhY2tlciB8fCAhc2VjdGlvbi5saW5rKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHNlY3Rpb24uc2hvdWxkVHJhY2spIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrZXJUd2Vlbikge1xuICAgICAgICB0aGlzLnRyYWNrZXJUd2Vlbi5raWxsKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJhY2tlclR3ZWVuID0gVHdlZW5NYXgudG8odGhpcy50cmFja2VyLCBTQ1JPTExfVElNSU5HLCB7XG4gICAgICAgIHk6IHNlY3Rpb24ubGluay5vZmZzZXRUb3AsXG4gICAgICAgIGhlaWdodDogc2VjdGlvbi5saW5rLm9mZnNldEhlaWdodCxcbiAgICAgICAgb25TdGFydDogKCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhY2tlci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyYWNrZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIH1cbiAgfVxuXG4gIGFjdGl2YXRlU2VjdGlvbihzZWN0aW9uOiBJU2VjdGlvbikge1xuICAgIGlmICghc2VjdGlvbiB8fCAhc2VjdGlvbi5lbGVtZW50KSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlU2VjdGlvbikge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlU2VjdGlvbih0aGlzLmFjdGl2ZVNlY3Rpb24pO1xuICAgIH1cblxuICAgIHRoaXMuYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb247XG4gICAgc2VjdGlvbi5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICBpZiAoc2VjdGlvbi5saW5rKSB7XG4gICAgICBzZWN0aW9uLmxpbmsuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIH1cblxuICAgIHRoaXMubW92ZVRyYWNrZXIoc2VjdGlvbik7XG4gIH1cblxuICBkZWFjdGl2YXRlU2VjdGlvbihzZWN0aW9uOiBJU2VjdGlvbikge1xuICAgIGlmICghc2VjdGlvbiB8fCAhc2VjdGlvbi5lbGVtZW50KSB7IHJldHVybjsgfVxuXG4gICAgc2VjdGlvbi5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICBpZiAoc2VjdGlvbi5saW5rKSB7XG4gICAgICBzZWN0aW9uLmxpbmsuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgIH1cbiAgfVxufVxuIiwiZGVjbGFyZSB2YXIgVHdlZW5NYXg6IGFueTtcbmRlY2xhcmUgdmFyIEV4cG86IGFueTtcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7XG4gIG5vZGVMaXN0VG9BcnJheSxcbiAgQUNUSU9OX0NMQVNTRVMsXG4gIERFRkFVTFRfQVVESU9fTEVWRUwsXG59IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcblxuY29uc3QgSVRFTV9TRUxFQ1RPUiA9ICcuanMtc2xpbmdzaG90LWl0ZW0nO1xuY29uc3QgQ0FOVkFTX1NFTEVDVE9SID0gJy5qcy1zbGluZ3Nob3QtY2FudmFzJztcbmNvbnN0IFBJWEVMX0RFTlNJVFkgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XG5cbmNvbnN0IEFOSU1BVElPTl9USU1FID0gMTtcbmNvbnN0IFJFVFVSTl9UT19PUklHSU5fVElNRU9VVCA9IDE1MDA7XG5jb25zdCBUSFJPVFRMRV9USU1FT1VUID0gMjUwO1xuY29uc3QgRElBR1JBTV9MSU5FX0NPTE9SID0gJyNkYWRjZTAnO1xuY29uc3QgRElBR1JBTV9MSU5FX1dJRFRIID0gMSAqIFBJWEVMX0RFTlNJVFk7XG5jb25zdCBESUFHUkFNX0RBU0hfUEFUVEVSTiA9IFs2ICogUElYRUxfREVOU0lUWSwgNiAqIFBJWEVMX0RFTlNJVFldO1xuY29uc3QgRElBR1JBTV9DSVJDTEVfUkFESVVTID0gMzQ7XG5jb25zdCBESUFHUkFNX1RFWFRfQ09MT1IgPSAnI2JkYzFjNic7XG5jb25zdCBESUFHUkFNX0ZPTlQgPSBgJHsxMiAqIFBJWEVMX0RFTlNJVFl9cHggR29vZ2xlIFNhbnNgO1xuXG4vLyA2LjY3MjU5ZS0xMSBpcyByZWFsIGdyYXZpdHlcbmNvbnN0IElOSVRJQUxfTUFTUyA9IDEwMDtcbmNvbnN0IE1BU1NfTVVMVElQTElFUiA9IDEwMDAwO1xuY29uc3QgR1JBVklUWV9DT05TVEFOVCA9IDEwO1xuXG4vLyBUaGlzIGFsbG93cyBhZGp1c3RpbmcgaG93IHF1aWNrbHkgdGhlIHNpbXVsYXRpb24gdXBkYXRlcy4gRm9yIGV4YW1wbGUsIGlmIHNpbXVsYXRpbmcgdGhlIHNvbGFyXG4vLyBzeXN0ZW0sIHlvdSB3b3VsZCBiZSBhYmxlIHRvIHZpc3VhbGx5IHNpbXVsYXRlIEVhcnRoJ3Mgb3JiaXQgb3ZlciB0aGUgY291cnNlIG9mIDEgbWludXRlIGluc3RlYWRcbi8vIG9mIHJlYWwgdGltZS4gSGlnaGVyIG51bWJlcnMgcnVuIHRoZSBzaW11bGF0aW9uIG1vcmUgcXVpY2tseS5cbmNvbnN0IFRJTUVTVEVQID0gMTtcblxuY29uc3QgVkVMT0NJVFlfREVHUkFEQVRJT05fUkFURSA9IDAuOTk7IC8vIExvd2VyIG51bWJlcnMgZGVncmFkZSB2ZWxvY2l0eSBmYXN0ZXJcbmNvbnN0IFZFTE9DSVRZX0lOVEVSQUNUSU9OX01PRElGSUVSID0gMTA7IC8vIEhpZ2hlciBudW1iZXJzIHJlZHVjZSB0aGUgdmVsb2NpdHkgc2V0IG9uIGludGVyYWN0aW9uXG5cbi8vIFRoZSBkaXN0YW5jZSB0byBwdWxsIGEgc2hhcGUgYXdheSBmcm9tIGl0cyBYIG9yaWdpbiBwb2ludCB3aGVuIGF1dG8gdGhyb3dpbmcgaW5jcmVhc2VzIHdpdGggYVxuLy8gaGlnaGVyIG11bHRpcGxpZXJcbmNvbnN0IEFVVE9USFJPV19NVUxUSVBMSUVSID0gMjtcblxuaW50ZXJmYWNlIElQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgSVBoeXNpY3NCb2R5T3B0aW9ucyB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBtYXNzOiBudW1iZXI7XG4gIHJhZGl1cz86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIElQaHlzaWNzQm9keSB7XG4gIGZvcmNlWDogbnVtYmVyO1xuICBmb3JjZVk6IG51bWJlcjtcbiAgcG9pbnRYOiBudW1iZXI7XG4gIHBvaW50WTogbnVtYmVyO1xuICB2ZWxvY2l0eVg6IG51bWJlcjtcbiAgdmVsb2NpdHlZOiBudW1iZXI7XG4gIG1hc3M6IG51bWJlcjtcbiAgcmFkaXVzOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBJU2hhcGVXaXRoQm9keSB7XG4gIGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIG9yaWdpbjogSVBvaW50O1xuICBib2R5OiBJUGh5c2ljc0JvZHk7XG4gIGFuY2hvcjogSVBoeXNpY3NCb2R5O1xuICBpc1R3ZWVuaW5nOiBib29sZWFuO1xuICBpc0xvY2tlZDogYm9vbGVhbjtcbiAgbmVlZHNEaWFncmFtOiBib29sZWFuO1xuICBhdWRpb1BsYXllcj86IEF1ZGlvUGxheWVyIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIG1hbmFnZXMgYWxsIHNsaW5nc2hvdCBpdGVtcy4gVGhleSBhcmUgZHJhZ2dhYmxlIGFuZCBiYXNpYyBncmF2aXR5LWJhc2VkIHBoeXNpY3MgbW92ZXMgdGhlbVxuICogYXJvdW5kIHVudGlsIHRoZXkgcmV0dXJuIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU2xpbmdzaG90IHtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xuICBhbGxTaGFwZXM6IEFycmF5PElTaGFwZVdpdGhCb2R5PjtcbiAgbW91c2VJc0Rvd24gPSBmYWxzZTtcbiAgbGFzdE1vdXNlWCA9IDA7XG4gIGxhc3RNb3VzZVkgPSAwO1xuICBtb3VzZVggPSAwO1xuICBtb3VzZVkgPSAwO1xuICBtb3VzZU9mZnNldFggPSAwO1xuICBtb3VzZU9mZnNldFkgPSAwO1xuICBhY3RpdmVTaGFwZT86IElTaGFwZVdpdGhCb2R5IHwgbnVsbDtcbiAgc2hhcGVUd2VlblRpbWVvdXQ/OiBudW1iZXI7XG4gIHRocm90dGxlVGltZW91dD86IG51bWJlcjtcbiAgY2FudmFzSXNWaXNpYmxlID0gZmFsc2U7XG4gIGNvbnRhaW5lcklzSW5WaWV3OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBPbmx5IG5lZWRzIGEgcGFyZW50IGVsZW1lbnQgdG8gc2VhcmNoIGZvciBidXR0b25zIGFuZCBhIGNhbnZhcyBlbGVtZW50IHdpdGhpblxuICAgKi9cbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29udGFpbmVyIGVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuY29udGFpbmVySXNJblZpZXcgPSB0aGlzLmdldElzQ29udGFpbmVySW5WaWV3KCk7XG5cbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoQ0FOVkFTX1NFTEVDVE9SKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY2FudmFzIGVsZW1lbnQgZm91bmQnKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUNhbnZhc0RpbWVuc2lvbnMoKTtcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyBGaW5kIGFsbCBidXR0b24gZWxlbWVudHMgYW5kIGNyZWF0ZSBhbGwgaW5pdGlhbCBwaHlzaWNzIGJvZGllcyB0byBhc3NvY2lhdGVkIHdpdGggdGhlbVxuICAgIGNvbnN0IGJ1dHRvbnMgPVxuICAgICAgICBub2RlTGlzdFRvQXJyYXkodGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChJVEVNX1NFTEVDVE9SKSkgYXMgQXJyYXk8SFRNTEJ1dHRvbkVsZW1lbnQ+O1xuXG4gICAgdGhpcy5hbGxTaGFwZXMgPSBidXR0b25zLm1hcCgoaXRlbTogSFRNTEJ1dHRvbkVsZW1lbnQpID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIGJvZHkgdGhhdCBpcyByZXByZXNlbnRlZCB2aXN1YWxseVxuICAgICAgY29uc3QgYm9keSA9IHRoaXMuY3JlYXRlUGh5c2ljc0JvZHkoe1xuICAgICAgICAgIHg6IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcbiAgICAgICAgICB5OiBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxcbiAgICAgICAgICBtYXNzOiBJTklUSUFMX01BU1MsXG4gICAgICAgICAgcmFkaXVzOiBpdGVtLm9mZnNldFdpZHRoIC8gMixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIGFuY2hvciBib2R5IGRvZXMgbm90IG1vdmUsIGJ1dCBpdHMgbWFzcyBwdWxscyB0aGUgYXNzb2NpYXRlZCBib2R5IGJhY2sgdG93YXJkIGl0IHdpdGhcbiAgICAgIC8vIHNpbXVsYXRlZCBncmF2aXR5XG4gICAgICBjb25zdCBhbmNob3IgPSB0aGlzLmNyZWF0ZVBoeXNpY3NCb2R5KHtcbiAgICAgICAgICB4OiBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsXG4gICAgICAgICAgeTogaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsXG4gICAgICAgICAgbWFzczogSU5JVElBTF9NQVNTICogTUFTU19NVUxUSVBMSUVSLFxuICAgICAgfSk7XG5cbiAgICAgIGxldCBhdWRpb0ZpbGU7XG4gICAgICBzd2l0Y2ggKGl0ZW0uZGF0YXNldC5hdWRpbykge1xuICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICBhdWRpb0ZpbGUgPSAnL3N0YXRpYy9hdWRpby9nc2YtYmxvb3BzLUVFLm1wMyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgIGF1ZGlvRmlsZSA9ICcvc3RhdGljL2F1ZGlvL2dzZi1ibG9vcHMtTi5tcDMnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXR0b246IGl0ZW0sXG4gICAgICAgIG9yaWdpbjoge1xuICAgICAgICAgIHg6IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcbiAgICAgICAgICB5OiBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICAgIGlzVHdlZW5pbmc6IGZhbHNlLFxuICAgICAgICBpc0xvY2tlZDogdHJ1ZSxcbiAgICAgICAgbmVlZHNEaWFncmFtOiBpdGVtLmRhdGFzZXQuZGlhZ3JhbSA9PT0gJ3RydWUnLFxuICAgICAgICBhdWRpb1BsYXllcjogYXVkaW9GaWxlID8gbmV3IEF1ZGlvUGxheWVyKGF1ZGlvRmlsZSkgOiBudWxsLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgeyByZXR1cm47IH1cblxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICB0aGlzLmFsbFNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgLy8gV2hlbiBmaXJzdCBzdGFydGluZyB1cCwgYXV0by10aHJvdyB0aGUgZmlyc3QgaXRlbSBmb3VuZCB0aGF0IGhhcyBhbiBhdHRyYWN0IGtleSBvbiBpdHNcbiAgICAgIC8vIGVsZW1lbnQgYXMgYSB3YXkgdG8gYXR0cmFjdCBhbmQgZW5jb3VyYWdlIGludGVyYWN0aW9uXG4gICAgICBpZiAoc2hhcGUuYnV0dG9uLmRhdGFzZXQuYXR0cmFjdCA9PT0gJ3RydWUnKSB7XG4gICAgICAgIHRoaXMuYXV0b0RyYWdBbmRUaHJvd0l0ZW0oc2hhcGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhIHNoYXBlIGhhcyBhbiBhdWRpbyBwbGF5ZXIgYXR0YWNoZWQgdG8gaXQsIGxvYWQgaXRcbiAgICAgIGlmIChzaGFwZS5hdWRpb1BsYXllcikge1xuICAgICAgICBzaGFwZS5hdWRpb1BsYXllci5sb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBiaW5kRXZlbnRzKCkge1xuICAgIC8vIFNvbWUgb2YgdGhlc2UgZXZlbnRzIGhhdmUgaXNzdWVzIHdpdGggdGhlIFR5cGVzY3JpcHQgbGludGluZyBvbiBkZXBsb3kgaWYgdGhlIGV2ZW50cyBhcmVuJ3RcbiAgICAvLyB0eXBlZCB0aGlzIHdheSBhbmQgcGFzc2VkIGluIHdpdGggYSB3cmFwcGluZyBmdW5jdGlvbi4gSXQncyBhIGxpdHRsZSBtZXNzeSwgYnV0IGlmIG5vdCBkb25lXG4gICAgLy8gdGhpcyB3YXkgdGhlbiBkZXBsb3lzIGZhaWwgdG8gYnVpbGQgYmVjYXVzZSBUeXBlc2NyaXB0IGNhbid0IHNlZW0gdG8gY29uc2lzdGVudGx5IGlkZW5pdHlcbiAgICAvLyB0eXBpbmdzIG9uIGNlcnRhaW4gZXZlbnRzLlxuICAgIHRoaXMuYWxsU2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBzaGFwZS5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd24oZSBhcyBNb3VzZUV2ZW50LCBzaGFwZSk7XG4gICAgICB9KTtcblxuICAgICAgc2hhcGUuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZVRvdWNoU3RhcnQoZSBhcyBUb3VjaEV2ZW50LCBzaGFwZSk7XG4gICAgICB9KTtcblxuICAgICAgc2hhcGUuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5RXZlbnQgPSBlIGFzIEtleWJvYXJkRXZlbnQ7XG4gICAgICAgIGlmIChrZXlFdmVudC5jb2RlID09PSAnRW50ZXInIHx8IGtleUV2ZW50LmNvZGUgPT09ICdTcGFjZScpIHtcbiAgICAgICAgICBpZiAoc2hhcGUuYXVkaW9QbGF5ZXIpIHtcbiAgICAgICAgICAgIHNoYXBlLmF1ZGlvUGxheWVyLnN0YXJ0KCk7XG4gICAgICAgICAgICBzaGFwZS5hdWRpb1BsYXllci5zZXRWb2x1bWUoREVGQVVMVF9BVURJT19MRVZFTCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYXV0b0RyYWdBbmRUaHJvd0l0ZW0oc2hhcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMsIHN0b3BzIGF1ZGlvLCBhbmQgc2lnbmFscyByZW5kZXIgbG9vcCB0byBzdG9wXG4gICAqL1xuICB0ZWFyRG93bigpIHtcbiAgICB0aGlzLmFsbFNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgLy8gQmVjYXVzZSBzb21lIGV2ZW50cyB3ZXJlIGJvdW5kIHdpdGggYW5vbnltb3VzIGZ1bmN0aW9ucywgdGhlIGxpc3RlbmVycyBjYW5ub3QgYmUgcmVtb3ZlZC5cbiAgICAgIC8vIEJ5IGNsb25pbmcgYW5kIHJlY3JlYXRpbmcgdGhlIERPTSBub2RlLCB0aGUgZXZlbnQgbGlzdGVuZXIgZ29lcyBhd2F5LlxuICAgICAgaWYgKHNoYXBlLmJ1dHRvbiAmJiBzaGFwZS5idXR0b24ucGFyZW50RWxlbWVudCkge1xuICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gc2hhcGUuYnV0dG9uLmNsb25lTm9kZSgpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBzaGFwZS5idXR0b24ucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQobmV3RWxlbWVudCwgc2hhcGUuYnV0dG9uKTtcbiAgICAgICAgc2hhcGUuYnV0dG9uID0gbmV3RWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNoYXBlLmF1ZGlvUGxheWVyKSB7XG4gICAgICAgIHNoYXBlLmF1ZGlvUGxheWVyLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kKTtcblxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG5cbiAgICB0aGlzLmNvbnRhaW5lcklzSW5WaWV3ID0gZmFsc2U7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlTW91c2VEb3duKGU6IE1vdXNlRXZlbnQsIHNoYXBlOiBJU2hhcGVXaXRoQm9keSkge1xuICAgIC8vIERvbid0IGFsbG93IGludGVyYWN0aW9uIHRvIGhhcHBlbiB3aGVuIG5vdCB1c2luZyB0aGUgcHJpbWFyeSBtb3VzZSBjbGljaywgdG8gcHJldmVudCBnZXR0aW5nXG4gICAgLy8gc3R1Y2sgaW4gd2VpcmQgc3RhdGVzXG4gICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7IHJldHVybjsgfVxuICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd24oZS5jbGllbnRYLCBlLmNsaWVudFksIHNoYXBlKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVUb3VjaFN0YXJ0KGU6IFRvdWNoRXZlbnQsIHNoYXBlOiBJU2hhcGVXaXRoQm9keSkge1xuICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd24oZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZLCBzaGFwZSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlUG9pbnRlckRvd24ocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyLCBzaGFwZTogSVNoYXBlV2l0aEJvZHkpIHtcbiAgICBpZiAoc2hhcGUuaXNUd2VlbmluZykgeyByZXR1cm47IH1cbiAgICAvLyBXaGVuIGFuIGl0ZW0gaXMgY2xpY2tlZCwgbG9jayBpdCB0byB0aGUgbW91c2UgYW5kIG5vdGUgaXQncyB0aGUgY3VycmVudCBhY3RpdmUgc2hhcGUsIHdoaWNoXG4gICAgLy8gd2lsbCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gcGh5c2ljcyB1cGRhdGVzXG4gICAgdGhpcy5jYWNoZVBvaW50ZXJDb29yZHMocG9pbnRYLCBwb2ludFkpO1xuICAgIHRoaXMubW91c2VJc0Rvd24gPSB0cnVlO1xuICAgIHRoaXMubW91c2VPZmZzZXRYID0gcG9pbnRYIC0gc2hhcGUuYm9keS5wb2ludFg7XG4gICAgdGhpcy5tb3VzZU9mZnNldFkgPSBwb2ludFkgLSBzaGFwZS5ib2R5LnBvaW50WTtcbiAgICBzaGFwZS5pc0xvY2tlZCA9IHRydWU7XG4gICAgdGhpcy5hY3RpdmVTaGFwZSA9IHNoYXBlO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB0aGlzLnVwZGF0ZVBvaW50ZXJDb29yZHMocG9pbnRYLCBwb2ludFkpO1xuXG4gICAgLy8gSWYgYSB0aW1lb3V0IHdhcyBjcmVhdGVkIHRvIHR3ZWVuIHRoZSBzaGFwZSBiYWNrIHRvIGl0cyBvcmlnaW4sIGNsZWFyIGl0XG4gICAgaWYgKHRoaXMuc2hhcGVUd2VlblRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNoYXBlVHdlZW5UaW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5oYW5kbGVQb2ludGVyVXAoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVRvdWNoRW5kKGU6IEV2ZW50KSB7XG4gICAgY29uc3QgdG91Y2hFdmVudCA9IGUgYXMgVG91Y2hFdmVudDtcblxuICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwKFxuICAgICAgICB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgIHRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSxcbiAgICApO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVBvaW50ZXJVcChwb2ludGVyWDogbnVtYmVyLCBwb2ludGVyWTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLm1vdXNlSXNEb3duKSB7IHJldHVybjsgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIGhvdyBmYXIgdGhlIHBvaW50ZXIgd2FzIGNsaWNrZWQvZHJhZ2dlZCBhbmQgc2V0IHRoZSBhY3RpdmUgc2hhcGUncyB2ZWxvY2l0eSBiYXNlZFxuICAgIC8vIG9uIHRoZSBkaXN0YW5jZS5cbiAgICBjb25zdCBwb2ludERpc3QgPVxuICAgICAgICB0aGlzLmdldERpc3RhbmNlQXNUd29Qb2ludHMoXG4gICAgICAgICAgICB0aGlzLmxhc3RNb3VzZVgsXG4gICAgICAgICAgICB0aGlzLmxhc3RNb3VzZVksXG4gICAgICAgICAgICBwb2ludGVyWCxcbiAgICAgICAgICAgIHBvaW50ZXJZLFxuICAgICAgICApO1xuXG4gICAgaWYgKHRoaXMuYWN0aXZlU2hhcGUpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVNoYXBlLmF1ZGlvUGxheWVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYXVkaW9QbGF5ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5hdWRpb1BsYXllci5zZXRWb2x1bWUoREVGQVVMVF9BVURJT19MRVZFTCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgc2V0cyB0aGUgYWN0aXZlIHNoYXBlJ3MgYm9keSB2ZWxvY2l0eSBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIGl0cyBvcmlnaW4uXG4gICAgICAvLyBQdWxsaW5nIGEgc2hhcGUgZnVydGhlciBhd2F5IHdpbGwgY2F1c2UgaXQgdG8gbGF1bmNoIGJhY2sgdG93YXJkIGl0cyBvcmlnaW4gbW9yZSBxdWlja2x5LlxuICAgICAgdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnZlbG9jaXR5WCA9IHBvaW50RGlzdC54IC8gVkVMT0NJVFlfSU5URVJBQ1RJT05fTU9ESUZJRVI7XG4gICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJvZHkudmVsb2NpdHlZID0gcG9pbnREaXN0LnkgLyBWRUxPQ0lUWV9JTlRFUkFDVElPTl9NT0RJRklFUjtcblxuICAgICAgdGhpcy5hY3RpdmVTaGFwZS5pc0xvY2tlZCA9IHRoaXMuYWN0aXZlU2hhcGUuaXNUd2VlbmluZyA9PT0gdHJ1ZTtcbiAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFRoaXMgdGltZW91dCByZXR1cm5zIHRoZSBzaGFwZSB0byBpdHMgb3JpZ2luIHBvaW50IGFmdGVyIGEgZml4ZWQgcGVyaW9kIG9mIHRpbWUsIHRvIHByZXZlbnRcbiAgICAvLyBzaGFwZXMgZnJvbSBzbGluZ3Nob3R0aW5nIGFyb3VuZCBmb3IgdG9vIGxvbmcuXG4gICAgdGhpcy5zaGFwZVR3ZWVuVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5yZXR1cm5BbGxCb2RpZXNUb09yaWdpbiwgUkVUVVJOX1RPX09SSUdJTl9USU1FT1VUKTtcblxuICAgIHRoaXMuaGlkZUNhbnZhcygpO1xuICAgIHRoaXMubW91c2VJc0Rvd24gPSBmYWxzZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblJlc2l6ZSgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVSZXNpemUpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICBpZiAodGhpcy50aHJvdHRsZVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRocm90dGxlVGltZW91dCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRpbmcgc2hhcGUgcG9zaXRpb25zIGNhbiBiZSBhIGJpdCBwZXJmb3JtYW5jZSBleHBlbnNpdmUsIHNvIHRocm90dGxpbmcgaGVscHMuXG4gICAgdGhpcy50aHJvdHRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlU2hhcGVDb29yZHMoKTtcbiAgICAgIHRoaXMudXBkYXRlQ2FudmFzRGltZW5zaW9ucygpO1xuICAgIH0sIFRIUk9UVExFX1RJTUVPVVQpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGlmICh0aGlzLnRocm90dGxlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGhyb3R0bGVUaW1lb3V0KTtcbiAgICB9XG5cbiAgICAvLyBTb21lIGNvb3JkaW5hdGVzIGFyZSBkZXBlbmRlbnQgb24gcmVsYXRpdmUgc2NyZWVuIHBvc2l0aW9uIHJhdGhlciB0aGFuIGFic29sdXRlIGRvY3VtZW50XG4gICAgLy8gcG9zaXRpb24uIFRvIGtlZXAgbWF0aCBhY2N1cmF0ZSwgd2UgbmVlZCB0byBhbHNvIHVwZGF0ZSBjb29yZGluYXRlcyBvbiBzY3JvbGwuIFRoaXMgbWF5IGJlXG4gICAgLy8gZXhwZW5zaXZlIGZvciBwZXJmb3JtYW5jZSwgc28gdGhyb3R0bGluZyBoZWxwcy5cbiAgICB0aGlzLnRocm90dGxlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVTaGFwZUNvb3JkcygpO1xuXG4gICAgICAvLyBSZW5kZXJpbmcgd2lsbCBzdG9wIHdoZW4gdGhlIGNvbnRhaW5lciBpc24ndCBpbiB2aWV3IHRvIHNhdmUgb24gcGVyZm9ybWFuY2UuXG4gICAgICAvLyBJZiB0aGUgY29udGFpbmVyIHdhcyBub3QgaW4gdmlldyBhbmQgY29tZXMgYmFjayBpbnRvIHZpZXcgYWdhaW4sIHJlc3RhcnQgdGhlIHJlbmRlciBsb29wLlxuICAgICAgY29uc3Qgd2FzSW5WaWV3ID0gdGhpcy5jb250YWluZXJJc0luVmlldztcbiAgICAgIHRoaXMuY29udGFpbmVySXNJblZpZXcgPSB0aGlzLmdldElzQ29udGFpbmVySW5WaWV3KCk7XG5cbiAgICAgIGlmICghd2FzSW5WaWV3ICYmIHRoaXMuY29udGFpbmVySXNJblZpZXcpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LCBUSFJPVFRMRV9USU1FT1VUKTtcbiAgfVxuXG4gIGdldElzQ29udGFpbmVySW5WaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiZcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tID4gMDtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjYWNoZVBvaW50ZXJDb29yZHMocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyKSB7XG4gICAgdGhpcy5sYXN0TW91c2VYID0gcG9pbnRYO1xuICAgIHRoaXMubGFzdE1vdXNlWSA9IHBvaW50WTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVNb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgIHRoaXMudXBkYXRlUG9pbnRlckNvb3JkcyhlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlVG91Y2hNb3ZlKGU6IEV2ZW50KSB7XG4gICAgY29uc3QgdG91Y2hFdmVudCA9IGUgYXMgVG91Y2hFdmVudDtcbiAgICB0aGlzLnVwZGF0ZVBvaW50ZXJDb29yZHModG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFgsIHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRZKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICB1cGRhdGVQb2ludGVyQ29vcmRzKHBvaW50WDogbnVtYmVyLCBwb2ludFk6IG51bWJlcikge1xuICAgIGlmICghdGhpcy5tb3VzZUlzRG93bikgeyByZXR1cm47IH1cblxuICAgIHRoaXMubW91c2VYID0gcG9pbnRYO1xuICAgIHRoaXMubW91c2VZID0gcG9pbnRZO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHVwZGF0ZVNoYXBlQ29vcmRzKCkge1xuICAgIHRoaXMuYWxsU2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBjb25zdCB4ID0gc2hhcGUuYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCB5ID0gc2hhcGUuYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIHNoYXBlLmJvZHkucG9pbnRYID0geDtcbiAgICAgIHNoYXBlLmJvZHkucG9pbnRZID0geTtcbiAgICAgIHNoYXBlLmFuY2hvci5wb2ludFggPSB4O1xuICAgICAgc2hhcGUuYW5jaG9yLnBvaW50WSA9IHk7XG4gICAgICBzaGFwZS5vcmlnaW4ueCA9IHg7XG4gICAgICBzaGFwZS5vcmlnaW4ueSA9IHk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVDYW52YXNEaW1lbnNpb25zKCkge1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGggKiBQSVhFTF9ERU5TSVRZO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCAqIFBJWEVMX0RFTlNJVFk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgcmV0dXJuQWxsQm9kaWVzVG9PcmlnaW4oKSB7XG4gICAgdGhpcy5hbGxTaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXMucmV0dXJuQm9keVRvT3JpZ2luKHNoYXBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICAvKipcbiAgICogVGhpcyB3aWxsIGNhbmNlbCBwaHlzaWNzIGludGVyYWN0aW9ucyBmb3IgYSBib2R5IGFuZCB0d2VlbiBpdCBiYWNrIHRvIGl0cyBvcmlnaW4uXG4gICAqL1xuICByZXR1cm5Cb2R5VG9PcmlnaW4oc2hhcGU6IElTaGFwZVdpdGhCb2R5KSB7XG4gICAgaWYgKHNoYXBlLmlzVHdlZW5pbmcgfHwgc2hhcGUuaXNMb2NrZWQpIHsgcmV0dXJuOyB9XG4gICAgc2hhcGUuaXNMb2NrZWQgPSB0cnVlO1xuXG4gICAgVHdlZW5NYXgudG8oc2hhcGUuYm9keSwgQU5JTUFUSU9OX1RJTUUsIHtcbiAgICAgIHBvaW50WDogc2hhcGUuYW5jaG9yLnBvaW50WCxcbiAgICAgIHBvaW50WTogc2hhcGUuYW5jaG9yLnBvaW50WSxcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgc2hhcGUuaXNUd2VlbmluZyA9IHRydWU7XG4gICAgICAgIHNoYXBlLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHNoYXBlLmlzVHdlZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgc2hhcGUuYm9keS5wb2ludFggPSBzaGFwZS5hbmNob3IucG9pbnRYO1xuICAgICAgICBzaGFwZS5ib2R5LnBvaW50WSA9IHNoYXBlLmFuY2hvci5wb2ludFk7XG4gICAgICAgIHNoYXBlLmJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGlmIChzaGFwZS5hdWRpb1BsYXllcikge1xuICAgICAgICAgIHNoYXBlLmF1ZGlvUGxheWVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICAvKipcbiAgICogVGhpcyB0d2VlbnMgdGhlIHBvc2l0aW9uIG9mIGEgYm9keSB0byBhIHNldCBwb3NpdGlvbiBhbmQgcmVsZWFzZXMgaXQgYW5kIGxldHMgcGh5c2ljcyB0YWtlIG92ZXJcbiAgICogVGhpcyBpcyB1c2VkIGFzIGJvdGggYW4gYXR0cmFjdCBtZXRob2QgYW5kIGFsbG93aW5nIGtleWJvYXJkIHVzZXJzIHRvIGV4cGVyaWVuY2UgaW50ZXJhY3Rpb25cbiAgICovXG4gIGF1dG9EcmFnQW5kVGhyb3dJdGVtKHNoYXBlOiBJU2hhcGVXaXRoQm9keSkge1xuICAgIGlmIChzaGFwZS5pc1R3ZWVuaW5nKSB7IHJldHVybjsgfVxuICAgIHNoYXBlLmlzTG9ja2VkID0gdHJ1ZTtcblxuICAgIC8vIFRoZSB0d2VlbiB3aWxsIG1vdmUgdGhlIGdpdmVuIHNoYXBlIGRvd24gYW5kIHRvIHRoZSBsZWZ0IG9mIGl0cyBzdGFydGluZyBwb3NpdGlvblxuICAgIGNvbnN0IHRhcmdldFggPSBzaGFwZS5hbmNob3IucG9pbnRYIC0gc2hhcGUuYnV0dG9uLm9mZnNldFdpZHRoICogQVVUT1RIUk9XX01VTFRJUExJRVI7XG4gICAgY29uc3QgdGFyZ2V0WSA9IHNoYXBlLmFuY2hvci5wb2ludFkgKyBzaGFwZS5idXR0b24ub2Zmc2V0SGVpZ2h0O1xuXG4gICAgVHdlZW5NYXgudG8oc2hhcGUuYm9keSwgQU5JTUFUSU9OX1RJTUUsIHtcbiAgICAgIHBvaW50WDogdGFyZ2V0WCxcbiAgICAgIHBvaW50WTogdGFyZ2V0WSxcbiAgICAgIG9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBlbXVsYXRlIHNvbWUgb2Ygd2hhdCBoYXBwZW5zIHdoZW4gYSBtb3VzZS90b3VjaCBpbnRlcmFjdHMgd2l0aCBhIHNoYXBlIGFuZFxuICAgICAgICAvLyBzZXQgdGhlc2UgdmFyaWFibGVzIHRvIG1hdGNoIHRoYXRcbiAgICAgICAgdGhpcy5tb3VzZU9mZnNldFggPSAwO1xuICAgICAgICB0aGlzLm1vdXNlT2Zmc2V0WSA9IDA7XG4gICAgICAgIHRoaXMubGFzdE1vdXNlWCA9IHNoYXBlLmJvZHkucG9pbnRYO1xuICAgICAgICB0aGlzLmxhc3RNb3VzZVkgPSBzaGFwZS5ib2R5LnBvaW50WTtcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHNoYXBlO1xuICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgICAgIHNoYXBlLmlzVHdlZW5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm1vdXNlSXNEb3duID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAvLyBNb3ZlIHRoZSBzaGFwZSB0byB0aGUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgdHdlZW5cbiAgICAgICAgdGhpcy5tb3VzZVggPSBzaGFwZS5ib2R5LnBvaW50WDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSBzaGFwZS5ib2R5LnBvaW50WTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIC8vIEFzIGEgY2F0Y2gtYWxsLCByZXR1cm4gYWxsIGJvZGllcyB0byB0aGVpciBvcmlnaW4gd2hlbiB0aGlzIHR3ZWVuIGZpbmlzaGVzIHRvIHByZXZlbnQgb2RkXG4gICAgICAgIC8vIHZpc3VhbCBiZWhhdmlvci5cbiAgICAgICAgdGhpcy5zaGFwZVR3ZWVuVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5yZXR1cm5BbGxCb2RpZXNUb09yaWdpbiwgUkVUVVJOX1RPX09SSUdJTl9USU1FT1VUKTtcblxuICAgICAgICAvLyBFbXVsYXRlIHRoZSBiZWhhdmlvciBvZiB3aGF0IGhhcHBlbnMgd2hlbiBhIG1vdXNlL3RvdWNoIGludGVyYWN0aW9uIGVuZHMsIHNvIHByb3ZpZGVcbiAgICAgICAgLy8gdmVsb2NpdHkgdG8gdGhlIHNoYXBlIGFuZCB1bmxvY2sgaXQgdG8gYWxsb3cgcGh5c2ljcyB0byB0YWtlIG92ZXJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU2hhcGUpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9pbnREaXN0ID1cbiAgICAgICAgICAgIHRoaXMuZ2V0RGlzdGFuY2VBc1R3b1BvaW50cyhcbiAgICAgICAgICAgICAgICBzaGFwZS5hbmNob3IucG9pbnRYLFxuICAgICAgICAgICAgICAgIHNoYXBlLmFuY2hvci5wb2ludFksXG4gICAgICAgICAgICAgICAgdGFyZ2V0WCxcbiAgICAgICAgICAgICAgICB0YXJnZXRZLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgc2hhcGUuaXNUd2VlbmluZyA9IGZhbHNlO1xuICAgICAgICBzaGFwZS5pc0xvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdXNlSXNEb3duID0gZmFsc2U7XG4gICAgICAgIHNoYXBlLmJvZHkucG9pbnRYID0gdGFyZ2V0WDtcbiAgICAgICAgc2hhcGUuYm9keS5wb2ludFkgPSB0YXJnZXRZO1xuICAgICAgICBzaGFwZS5ib2R5LnZlbG9jaXR5WCA9IHBvaW50RGlzdC54IC8gVkVMT0NJVFlfSU5URVJBQ1RJT05fTU9ESUZJRVI7XG4gICAgICAgIHNoYXBlLmJvZHkudmVsb2NpdHlZID0gcG9pbnREaXN0LnkgLyBWRUxPQ0lUWV9JTlRFUkFDVElPTl9NT0RJRklFUjtcbiAgICAgIH0sXG4gICAgICBlYXNlOiBFeHBvLmVhc2VPdXQsXG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVQaHlzaWNzQm9keShvcHRpb25zOiBJUGh5c2ljc0JvZHlPcHRpb25zKTogSVBoeXNpY3NCb2R5IHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9yY2VYOiAwLFxuICAgICAgZm9yY2VZOiAwLFxuICAgICAgcG9pbnRYOiBvcHRpb25zLngsXG4gICAgICBwb2ludFk6IG9wdGlvbnMueSxcbiAgICAgIHZlbG9jaXR5WDogMSxcbiAgICAgIHZlbG9jaXR5WTogMSxcbiAgICAgIG1hc3M6IG9wdGlvbnMubWFzcyxcbiAgICAgIHJhZGl1czogb3B0aW9ucy5yYWRpdXMgfHwgMSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0RGlzdGFuY2VBc1R3b1BvaW50cyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogSVBvaW50IHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeDEgLSB4MixcbiAgICAgIHk6IHkxIC0geTIsXG4gICAgfTtcbiAgfVxuXG4gIGdldFBvaW50RGlzdGFuY2UoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgyLCAyKSArIE1hdGgucG93KHkxIC0geTIsIDIpKTtcbiAgfVxuXG4gIGdldEFuZ2xlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHgyIC0geDEsIHkyIC0geTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIHBoeXNpY3MgY2FsY3VsYXRpb25zLiBUaGlzIGNvbXBhcmVzIHRoZSBkaXN0YW5jZSBhbmQgbWFzcyBvZiB0d28gYm9kaWVzIGFuZCBtb2RpZmllc1xuICAgKiB0aGVpciBmb3JjZXMgYmFzZWQgb24gdGhlIHNldCBncmF2aXRhdGlvbmFsIGNvbnN0YW50LlxuICAgKi9cbiAgcGFpcndpc2VQaHlzaWNzKGE6IElQaHlzaWNzQm9keSwgYjogSVBoeXNpY3NCb2R5KSB7XG4gICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBvYmplY3RzIGluIHF1ZXN0aW9uLlxuICAgIGNvbnN0IHBvaW50RGlzdCA9IHRoaXMuZ2V0RGlzdGFuY2VBc1R3b1BvaW50cyhhLnBvaW50WCwgYS5wb2ludFksIGIucG9pbnRYLCBiLnBvaW50WSk7XG4gICAgbGV0IGRpc3RYID0gcG9pbnREaXN0Lng7XG4gICAgbGV0IGRpc3RZID0gcG9pbnREaXN0Lnk7XG5cbiAgICBjb25zdCBkb3RQcm9kdWN0ID0gZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFk7XG5cbiAgICAvLyBJZiBkb3RQcm9kdWN0IGlzIDAsIGl0IG1lYW5zIHRoZSB0d28gb2JqZWN0cyBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gICAgLy8gQ2FuY2VsIGZ1dGhlciBjYWxjdWxhdGlvbnMgdG8gcHJldmVudCB0aGluZ3MgbGlrZSBkaXZpZGluZyBieSB6ZXJvLlxuICAgIGlmIChkb3RQcm9kdWN0ID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU3F1YXJlIHJvb3Qgb2YgdGhlIGRvdCBwcm9kdWN0IGlzIHRoZSBuZXcgdmVjdG9yXG4gICAgY29uc3QgciA9IE1hdGguc3FydChkb3RQcm9kdWN0KTtcbiAgICBkaXN0WCAvPSByO1xuICAgIGRpc3RZIC89IHI7XG5cbiAgICAvLyBDYWxjdWxhdGUgZm9yY2UgYmV0d2VlbiBvYmplY3RzLlxuICAgIGNvbnN0IGZvcmNlTWFnbml0dWRlID0gTWF0aC5taW4oR1JBVklUWV9DT05TVEFOVCAqIGEubWFzcyAqIGIubWFzcyAvIGRvdFByb2R1Y3QsIDEwMCk7XG4gICAgY29uc3QgZm9yY2VYID0gZGlzdFggKiBmb3JjZU1hZ25pdHVkZTtcbiAgICBjb25zdCBmb3JjZVkgPSBkaXN0WSAqIGZvcmNlTWFnbml0dWRlO1xuXG4gICAgLy8gVXBkYXRlIHggYW5kIHkgZm9yY2VzIG9mIG91ciBvYmplY3RzIGJhc2VkIG9uIG91ciBwcmV2aW91cyBlcXVhdGlvbnMuXG4gICAgYS5mb3JjZVggLT0gZm9yY2VYO1xuICAgIGEuZm9yY2VZIC09IGZvcmNlWTtcbiAgICBiLmZvcmNlWCArPSBmb3JjZVg7XG4gICAgYi5mb3JjZVkgKz0gZm9yY2VZO1xuICB9XG5cbiAgcmVzZXRGb3JjZShib2R5OiBJUGh5c2ljc0JvZHkpIHtcbiAgICBib2R5LmZvcmNlWCA9IDA7XG4gICAgYm9keS5mb3JjZVkgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgY2FsY3VsYXRlcyBhIG5ldyB2ZWxvY2l0eSBmb3IgYSBnaXZlbiBib2R5IGJhc2VkIHRoZSBmb3JjZXMgY3VycmVudGx5IGFjdGluZyBvbiBpdCBhbmQgaXRzXG4gICAqIG1hc3MsIGFuZCB1c2VzIHRoZSByZXN1bHQgdG8gdXBkYXRlIGl0cyBwb3NpdGlvbi4gVGhpcyBpcyBtb2RpZmllZCBieSBhIHRpbWUgY29uc3RhbnQuXG4gICAqL1xuICBtb3ZlQm9keShib2R5OiBJUGh5c2ljc0JvZHkpIHtcbiAgICBib2R5LnZlbG9jaXR5WCArPSBib2R5LmZvcmNlWCAqIFRJTUVTVEVQIC8gYm9keS5tYXNzO1xuICAgIGJvZHkudmVsb2NpdHlZICs9IGJvZHkuZm9yY2VZICogVElNRVNURVAgLyBib2R5Lm1hc3M7XG5cbiAgICBib2R5LnBvaW50WCArPSBib2R5LnZlbG9jaXR5WCAqIFRJTUVTVEVQO1xuICAgIGJvZHkucG9pbnRZICs9IGJvZHkudmVsb2NpdHlZICogVElNRVNURVA7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBqdXN0IGFyYml0cmFyaWx5IHJlZHVjZXMgdGhlIHZlbG9jaXR5IG9mIGEgYm9keSBvdmVyIHRpbWUuIFVzZWQgZm9yIGhlbHBpbmcgdG8gcmVkdWNlXG4gICAqIHRpbWUgYSBib2R5IHNwZW5kcyBpbiAnb3JiaXQnIGZvciBkZXNpZ24gcmVhc29ucy5cbiAgICovXG4gIGRlZ3JhZGVWZWxvY2l0eShib2R5OiBJUGh5c2ljc0JvZHkpIHtcbiAgICBib2R5LnZlbG9jaXR5WCAqPSBWRUxPQ0lUWV9ERUdSQURBVElPTl9SQVRFO1xuICAgIGJvZHkudmVsb2NpdHlZICo9IFZFTE9DSVRZX0RFR1JBREFUSU9OX1JBVEU7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBsb2NrcyB0aGUgY3VycmVudGx5IGFjdGl2ZSBzaGFwZSB0byB0aGUgbW91c2Ugc28gdGhhdCBhIGRpYWdyYW0gb2YgZGlzdGFuY2UgYW5kIGFuZ2xlXG4gICAqIGNhbiBiZSBhY2N1cmF0ZWx5IGRyYXduIGZyb20gdGhlIG9iamVjdCBiYWNrIHRvIGl0cyBvcmlnaW4gcG9pbnRcbiAgICovXG4gIGxvY2tBY3RpdmVTaGFwZVRvTW91c2UoKSB7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZVNoYXBlKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKCF0aGlzLmFjdGl2ZVNoYXBlLmlzVHdlZW5pbmcpIHtcbiAgICAgIC8vIFRoaXMgY29kZSBjaGVja3MgdG8gc2VlIGlmIHRoZSBwb2ludGVyIGlzIHN0aWxsIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBsb2dvIGFyZWEuXG4gICAgICAvLyBJZiB0aGUgcG9pbnRlciBsZWF2ZXMgdGhpcyBhcmVhLCB0aGVuIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNoYXBlJ3MgcG9zaXRpb24gd2lsbCBiZSBjYXBwZWRcbiAgICAgIC8vIGF0IHRoZSBtYXggYm91bmRzLlxuICAgICAgY29uc3QgY29udGFpbmVyTGVmdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCBjb250YWluZXJUb3AgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG5cbiAgICAgIGNvbnN0IGluQm91bmRzWCA9IHRoaXMubW91c2VYID4gY29udGFpbmVyTGVmdCAmJlxuICAgICAgICAgIHRoaXMubW91c2VYIDwgdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGggKyBjb250YWluZXJMZWZ0O1xuXG4gICAgICBjb25zdCBpbkJvdW5kc1kgPSB0aGlzLm1vdXNlWSA+IGNvbnRhaW5lclRvcCAmJlxuICAgICAgICAgIHRoaXMubW91c2VZIDwgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0ICsgY29udGFpbmVyVG9wO1xuXG4gICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5tb3VzZVggLSB0aGlzLm1vdXNlT2Zmc2V0WDtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLm1vdXNlWSAtIHRoaXMubW91c2VPZmZzZXRZO1xuXG4gICAgICBpZiAoaW5Cb3VuZHNYKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYm9keS5wb2ludFggPSBvZmZzZXRYO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vdXNlWCArIHRoaXMubW91c2VPZmZzZXRYIDwgY29udGFpbmVyTGVmdCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJvZHkucG9pbnRYID0gY29udGFpbmVyTGVmdCAtIHRoaXMubW91c2VPZmZzZXRYO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vdXNlWCAtIHRoaXMubW91c2VPZmZzZXRYID4gdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGggKyBjb250YWluZXJMZWZ0KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYm9keS5wb2ludFggPVxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGggKyBjb250YWluZXJMZWZ0IC0gdGhpcy5tb3VzZU9mZnNldFg7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbkJvdW5kc1kpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnBvaW50WSA9IG9mZnNldFk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubW91c2VZICsgdGhpcy5tb3VzZU9mZnNldFkgPCBjb250YWluZXJUb3ApIHtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSBjb250YWluZXJUb3AgLSB0aGlzLm1vdXNlT2Zmc2V0WTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3VzZVkgKyB0aGlzLm1vdXNlT2Zmc2V0WSA+IHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCArIGNvbnRhaW5lclRvcCkge1xuICAgICAgICB0aGlzLm1vdXNlWSA9IHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCArIGNvbnRhaW5lclRvcCArIHRoaXMubW91c2VPZmZzZXRZO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9ubHkgcnVuIHRoZSBkaWFncmFtIGRyYXdpbmcgY29kZSBpZiBhbiBlbGVtZW50IHdhcyB0YWdnZWQgdG8gbmVlZCBkaWFncmFtIGRyYXdpbmcgd2l0aCB0aGVcbiAgICAvLyBkaWFncmFtIGRhdGEga2V5LiBUaGlzIGlzIGNhY2hlZCBvbiBwYWdlIGxvYWQuXG4gICAgaWYgKCF0aGlzLmFjdGl2ZVNoYXBlLm5lZWRzRGlhZ3JhbSkgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IHBvaW50RGlzdCA9XG4gICAgICAgIHRoaXMuZ2V0UG9pbnREaXN0YW5jZShcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYm9keS5wb2ludFgsXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJvZHkucG9pbnRZLFxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5hbmNob3IucG9pbnRYLFxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5hbmNob3IucG9pbnRZLFxuICAgICAgICApO1xuXG4gICAgLy8gU2luY2Ugd2UgYXJlIHBsYW5uaW5nIHRvIGRyYXcgdGhlIGRpYWdyYW0gc3RhcnRpbmcgYXQgdGhlIGJhc2VsaW5lIG9mIHRoZSBzaGFwZSwgd2Ugd2FudCB0b1xuICAgIC8vIHN0YXJ0IGRyYXdpbmcgYWZ0ZXIgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHNoYXBlIGFuZCB0aGUgb3JpZ2luIGlzIGZhaXJseSBzbWFsbC4gUmFkaXVzXG4gICAgLy8gZGl2aWRlZCBieSAyIHdvcmtzIHdlbGwgZm9yIHRoaXMgdmFsdWUuXG4gICAgY29uc3QgaXNBYm92ZSA9XG4gICAgICAgIE1hdGguYWJzKHBvaW50RGlzdCkgPiB0aGlzLmFjdGl2ZVNoYXBlLmJvZHkucmFkaXVzIC8gMiAmJlxuICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJvZHkucG9pbnRZIDwgdGhpcy5hY3RpdmVTaGFwZS5hbmNob3IucG9pbnRZO1xuXG4gICAgLy8gUmFkaXVzICogMiBpcyB0aGUgZGlhbWV0ZXIgb2YgYW55IG9iamVjdCwgd2hpY2ggd29ya3Mgd2VsbCBhcyBhIHJlYXNvbmFibGUgZGlzdGFuY2UgdG8gY2hlY2tcbiAgICAvLyBhZ2FpbnN0IGZvciBhbiBvYmplY3QncyB4IG9yIHkgY29vcmQgYmVpbmcgcG9zaXRpb25lZCByZWFzb25hYmx5IGZhciBmcm9tIGl0cyByZXNwZWN0aXZlXG4gICAgLy8gb3JpZ2luLlxuICAgIGNvbnN0IGlzQmVsb3cgPVxuICAgICAgICBNYXRoLmFicyhwb2ludERpc3QpID4gdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnJhZGl1cyAqIDIgJiZcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnBvaW50WSA+IHRoaXMuYWN0aXZlU2hhcGUuYW5jaG9yLnBvaW50WTtcblxuICAgIC8vIENvbnNpZGVyIGRvdWJsZSB0aGUgZGlhbWV0ZXIgKDR4IHJhZGl1cykgdG8gYmUgZmFyXG4gICAgY29uc3QgaXNGYXIgPSBNYXRoLmFicyhwb2ludERpc3QpID4gdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnJhZGl1cyAqIDQ7XG5cbiAgICAvLyBJZiByZWFzb25hYmx5IGFib3ZlLCBiZWxvdywgb3IgZmFyIGZyb20gYW4gb2JqZWN0J3Mgb3JpZ2luLCBkcmF3IGEgZGlhZ3JhbSBmb3IgaXRcbiAgICBpZiAoaXNBYm92ZSB8fCBpc0JlbG93IHx8IGlzRmFyKSB7XG4gICAgICB0aGlzLmRyYXdEaWFncmFtKCk7XG4gICAgICB0aGlzLnNob3dDYW52YXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oaWRlQ2FudmFzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBnb2FsIGlzIHRvIGhhdmUgdGhlIGRyYXdpbmcgb2YgdGhlIGRpYWdyYW0gb24gdGhlIGNhbnZhcyBmYWRlIGluIGFuZCBvdXQgd2hlbiBuZWVkZWQsXG4gICAqIHdoaWNoIGxvb2tzIG11Y2ggbmljZXIgdGhhbiBzbmFwcGluZyBpbnRvIGV4aXN0ZW5jZS4gVGhpcyBhcHBsaWVzIGEgY3NzIHNlbGVjdG9yIGFuZCB0aGUgdmlzdWFsXG4gICAqIGVmZmVjdCBpcyByZW5kZXJlZCB3aXRoIGNzcy5cbiAgICovXG4gIHNob3dDYW52YXMoKSB7XG4gICAgaWYgKHRoaXMuY2FudmFzSXNWaXNpYmxlKSB7IHJldHVybjsgfVxuICAgIHRoaXMuY2FudmFzSXNWaXNpYmxlID0gdHJ1ZTtcbiAgICB0aGlzLmNhbnZhcy5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyByZW1vdmVzIHRoZSByZWxldmFudCBjc3Mgc2VsZWN0b3IgZnJvbSB0aGUgY2FudmFzIHNvIGl0IGNhbiB0cmFuc2l0aW9uIG91dCBvZiB2aXNpYmlsaXR5XG4gICAqIHNtb290aGx5LlxuICAgKi9cbiAgaGlkZUNhbnZhcygpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzSXNWaXNpYmxlKSB7IHJldHVybjsgfVxuICAgIHRoaXMuY2FudmFzSXNWaXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaGFuZGxlcyB0aGUgYWN0dWFsIGNhbnZhcyBkcmF3aW5nIG9mIHRoZSBkaXN0YW5jZSBhbmQgYW5nbGUgZGlhZ3JhbSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICBkcmF3RGlhZ3JhbSgpIHtcbiAgICBpZiAoIXRoaXMuY3R4IHx8ICF0aGlzLmFjdGl2ZVNoYXBlKSB7IHJldHVybjsgfVxuXG4gICAgY29uc3QgY29udGFpbmVyTGVmdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgY29uc3QgY29udGFpbmVyVG9wID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gRElBR1JBTV9URVhUX0NPTE9SO1xuICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gRElBR1JBTV9MSU5FX0NPTE9SO1xuICAgIHRoaXMuY3R4LnNldExpbmVEYXNoKERJQUdSQU1fREFTSF9QQVRURVJOKTtcbiAgICB0aGlzLmN0eC5saW5lV2lkdGggPSBESUFHUkFNX0xJTkVfV0lEVEg7XG5cbiAgICAvLyBEcmF3IGxpbmUgdG8gc2hhcGUgZnJvbSBvcmlnaW5cbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLmN0eC5tb3ZlVG8oXG4gICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldExlZnQgKiBQSVhFTF9ERU5TSVRZLFxuICAgICAgICAodGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0VG9wICsgdGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0SGVpZ2h0KSAqIFBJWEVMX0RFTlNJVFksXG4gICAgKTtcbiAgICB0aGlzLmN0eC5saW5lVG8oXG4gICAgICAgICh0aGlzLmFjdGl2ZVNoYXBlLmJvZHkucG9pbnRYIC0gY29udGFpbmVyTGVmdCArICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRXaWR0aCAvIDIpKSAqXG4gICAgICAgICAgICBQSVhFTF9ERU5TSVRZLFxuICAgICAgICAodGhpcy5hY3RpdmVTaGFwZS5ib2R5LnBvaW50WSAtIGNvbnRhaW5lclRvcCArICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRIZWlnaHQgLyAyKSkgKlxuICAgICAgICAgICAgUElYRUxfREVOU0lUWSxcbiAgICApO1xuICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgLy8gRHJhdyBiYXNlbGluZSBvZiBzaGFwZVxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIHRoaXMuY3R4Lm1vdmVUbyhcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0TGVmdCAqIFBJWEVMX0RFTlNJVFksXG4gICAgICAgICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRUb3AgKyB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRIZWlnaHQpICogUElYRUxfREVOU0lUWSxcbiAgICApO1xuICAgIHRoaXMuY3R4LmxpbmVUbyhcbiAgICAgICAgKHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldExlZnQgKyB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRXaWR0aCkgKiBQSVhFTF9ERU5TSVRZLFxuICAgICAgICAodGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0VG9wICsgdGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0SGVpZ2h0KSAqIFBJWEVMX0RFTlNJVFksXG4gICAgKTtcbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcblxuICAgIC8vIFRoaXMgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgZnJvbSB0aGUgc2hhcGUncyBib3R0b20gbGVmdCBvcmlnaW4gcG9pbnQgdG8gaXRzIGN1cnJlbnRcbiAgICAvLyBwb3NpdGlvblxuICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5nZXRBbmdsZShcbiAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYW5jaG9yLnBvaW50WCAtICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRXaWR0aCAvIDIpLFxuICAgICAgdGhpcy5hY3RpdmVTaGFwZS5hbmNob3IucG9pbnRZICsgKHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldEhlaWdodCAvIDIpLFxuICAgICAgdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnBvaW50WCxcbiAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYm9keS5wb2ludFksXG4gICAgKTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYW5nbGUgaW4gZGVncmVlcyBmb3IgZGlzcGxheSBwdXJwb3Nlc1xuICAgIGxldCBhbmdsZUluRGVnID0gTWF0aC5yb3VuZCgtYW5nbGUgKiAoMTgwIC8gTWF0aC5QSSkpICsgOTA7XG5cbiAgICBpZiAoYW5nbGVJbkRlZyA8IDApIHtcbiAgICAgIGFuZ2xlSW5EZWcgPSAzNjAgKyBhbmdsZUluRGVnO1xuICAgIH1cblxuICAgIC8vIERyYXcgYSBwYXJ0aWFsIGNpcmNsZSBhcm91bmQgdGhlIGN1cnJlbnQgYW5nbGUuIEJhc2VkIG9uIHRoZSBhbmdsZSwgZGV0ZXJtaW5lIHdoZXJlIGl0IHN0YXJ0c1xuICAgIC8vIGRyYXdpbmcgZnJvbSBhbmQgdG8uXG4gICAgdGhpcy5jdHguc2V0TGluZURhc2goWzBdKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLmN0eC5hcmMoXG4gICAgICB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRMZWZ0ICogUElYRUxfREVOU0lUWSxcbiAgICAgICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRUb3AgKyB0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRIZWlnaHQpICogUElYRUxfREVOU0lUWSxcbiAgICAgIERJQUdSQU1fQ0lSQ0xFX1JBRElVUyAqIFBJWEVMX0RFTlNJVFksXG4gICAgICBhbmdsZUluRGVnIDwgMzQwID8gLTEwICogKE1hdGguUEkgLyAxODApIDogMCxcbiAgICAgIGFuZ2xlSW5EZWcgPCAzNDAgPyAtYW5nbGUgKyAoMTAwICogKE1hdGguUEkgLyAxODApKSA6IC1hbmdsZSArICg5MCAqIChNYXRoLlBJIC8gMTgwKSksXG4gICAgKTtcbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcblxuICAgIC8vIFJlbmRlciB0aGUgY3VycmVudCBhbmdsZSBpbiBkZWdyZWVzIGFzIHRleHQgdG8gdGhlIGNhbnZhc1xuICAgIGNvbnN0IGFuZ2xlVGV4dCA9IGAke2FuZ2xlSW5EZWd9wrBgO1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7XG5cbiAgICAvLyBUaGUgbm9uLWNvbnN0YW50IG51bWJlcnMgdXNlZCBoZXJlIGFyZSBtYWdpYyBudW1iZXJzIHRvIG1hdGNoIGRlc2lnbiBwcmVmZXJlbmNlcy5cbiAgICB0aGlzLmN0eC5mb250ID0gRElBR1JBTV9GT05UO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgICBhbmdsZVRleHQsXG4gICAgICAgICh0aGlzLmFjdGl2ZVNoYXBlLmJ1dHRvbi5vZmZzZXRMZWZ0ICsgMjIpICogUElYRUxfREVOU0lUWSxcbiAgICAgICAgKHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldFRvcCArIHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldEhlaWdodCArIDE4KSAqXG4gICAgICAgICAgICBQSVhFTF9ERU5TSVRZLFxuICAgICk7XG5cbiAgICAvLyBSZW5kZXIgdGhlIHByb2plY3RlZCBlc3RpbWF0ZWQgdmVsb2NpdHkgYSBib2R5IHdpbGwgaGF2ZSB3aGVuIHJlbGVhc2VkIGFzIHRleHQgdG8gdGhlIGNhbnZhc1xuICAgIGNvbnN0IHBvaW50RGlzdCA9IHRoaXMuZ2V0RGlzdGFuY2VBc1R3b1BvaW50cyhcbiAgICAgICAgdGhpcy5sYXN0TW91c2VYIC0gdGhpcy5tb3VzZU9mZnNldFggLSBjb250YWluZXJMZWZ0LFxuICAgICAgICB0aGlzLmxhc3RNb3VzZVkgLSB0aGlzLm1vdXNlT2Zmc2V0WSAtIGNvbnRhaW5lclRvcCxcbiAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5ib2R5LnBvaW50WCAtIGNvbnRhaW5lckxlZnQsXG4gICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuYm9keS5wb2ludFkgLSBjb250YWluZXJUb3AsXG4gICAgKTtcblxuICAgIGNvbnN0IHZlbG9jaXR5ID0gTWF0aC5hYnMocG9pbnREaXN0LnggLyBWRUxPQ0lUWV9JTlRFUkFDVElPTl9NT0RJRklFUikgK1xuICAgICAgICBNYXRoLmFicyhwb2ludERpc3QueSAvIFZFTE9DSVRZX0lOVEVSQUNUSU9OX01PRElGSUVSKTtcblxuICAgIGNvbnN0IGxlbmd0aFRleHQgPSBgJHtNYXRoLnJvdW5kKHZlbG9jaXR5KX12YDtcbiAgICAvLyBUaGUgbm9uLWNvbnN0YW50IG51bWJlcnMgdXNlZCBoZXJlIGFyZSBtYWdpYyBudW1iZXJzIHRvIG1hdGNoIGRlc2lnbiBwcmVmZXJlbmNlcy5cbiAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgICAgbGVuZ3RoVGV4dCxcbiAgICAgICAgKHRoaXMuYWN0aXZlU2hhcGUuYnV0dG9uLm9mZnNldExlZnQgKyAyNSkgKiBQSVhFTF9ERU5TSVRZLFxuICAgICAgICAodGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0VG9wICsgdGhpcy5hY3RpdmVTaGFwZS5idXR0b24ub2Zmc2V0SGVpZ2h0IC0gMTApICpcbiAgICAgICAgICAgIFBJWEVMX0RFTlNJVFksXG4gICAgKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcklzSW5WaWV3KSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHRoaXMuY3R4KSB7XG4gICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gRXZlcnkgZnJhbWUgd2UgbmVlZCB0byByZXNldCB0aGUgZm9yY2VzIG9uIGFsbCBib2RpZXMgc28gdGhleSBjYW4gYmUgcmVjYWxjdWxhdGVkXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbFNoYXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLmFsbFNoYXBlc1tpXTtcbiAgICAgIHRoaXMucmVzZXRGb3JjZShzaGFwZS5ib2R5KTtcbiAgICAgIHRoaXMucmVzZXRGb3JjZShzaGFwZS5hbmNob3IpO1xuXG4gICAgICBjb25zdCBwb2ludERpc3QgPVxuICAgICAgICAgIHRoaXMuZ2V0UG9pbnREaXN0YW5jZShcbiAgICAgICAgICAgICAgc2hhcGUuYm9keS5wb2ludFgsXG4gICAgICAgICAgICAgIHNoYXBlLmJvZHkucG9pbnRZLFxuICAgICAgICAgICAgICBzaGFwZS5hbmNob3IucG9pbnRYLFxuICAgICAgICAgICAgICBzaGFwZS5hbmNob3IucG9pbnRZLFxuICAgICAgICAgICk7XG5cbiAgICAgIGNvbnN0IGJvZGllc0FyZUNsb3NlID0gTWF0aC5hYnMocG9pbnREaXN0KSA8IHNoYXBlLmFuY2hvci5yYWRpdXM7XG5cbiAgICAgIC8vIElmIGEgc2hhcGUgaXMgY3VycmVudGx5IGJlaW5nIHR3ZWVuZWQgb3IgaXMgY2xvc2UgdG8gaXRzIGFuY2hvciBwb2ludCwgZG8gbm90IGNhbGN1bGF0ZWRcbiAgICAgIC8vIHBoeXNpY3MgZm9yIGl0XG4gICAgICBpZiAoIWJvZGllc0FyZUNsb3NlICYmICFzaGFwZS5pc1R3ZWVuaW5nKSB7XG4gICAgICAgIC8vIFJ1biB0aGUgcGh5c2ljcyBjYWxjdWxhdGlvbnMgY29tcGFyaW5nIGV2ZXJ5IHNoYXBlIHRvIGV2ZXJ5IG90aGVyIHNoYXBlXG4gICAgICAgIGZvciAobGV0IGlpID0gaSArIDE7IGlpIDwgdGhpcy5hbGxTaGFwZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc2hhcGUyID0gdGhpcy5hbGxTaGFwZXNbaWldO1xuICAgICAgICAgIGlmIChzaGFwZTIgJiYgIXNoYXBlMi5pc0xvY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5wYWlyd2lzZVBoeXNpY3Moc2hhcGUuYm9keSwgc2hhcGUyLmJvZHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgcnVuIHBoeXNpY3Mgb2YgYSBzaGFwZSBhZ2FpbnN0IGl0cyBvd24gYW5jaG9yLCBhbmQgbm8gb3RoZXIgc2hhcGUncyBhbmNob3Igc28gdGhhdFxuICAgICAgICAvLyBpdCB3aWxsIGJlIHB1bGxlZCB0b3dhcmQgaXRzIG9yaWdpbiBwb2ludCBhbmQgbm90IGFub3RoZXIgc2hhcGUncyBvcmlnaW4uXG4gICAgICAgIHRoaXMucGFpcndpc2VQaHlzaWNzKHNoYXBlLmJvZHksIHNoYXBlLmFuY2hvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTW92ZW1lbnQgb2YgYm9kaWVzIGhhcyB0byBiZSBpbiBhIHNlcGFyYXRlIGxvb3AsIGJlY2F1c2UgYWxsIGZvcmNlcyBiZXR3ZWVuIGJvZGllcyBuZWVkIHRvXG4gICAgLy8gYmUgY2FsY3VsYXRlZCBiZWZvcmUgYW55IG9mIHRoZW0gY2FuIGJlIG1vdmVkLiBJZiBhIGJvZHkncyBwb3NpdGlvbiBhbmQgdmVsb2NpdHkgYXJlIHVwZGF0ZWRcbiAgICAvLyBhdCB0aGUgc2FtZSB0aW1lIGFzIGl0cyBpbnRlcm5hbCBmb3JjZSwgaXQgd29uJ3QgYmUgYWNjdXJhdGUgYXMgaXQgd2lsbCBhZmZlY3Qgb3RoZXIgYm9kaWVzXG4gICAgLy8gYmVmb3JlIHRoZWlyIGZvcmNlcyBhcmUgYWNjdXJhdGVseSBjYWxjdWxhdGVkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbGxTaGFwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5hbGxTaGFwZXNbaV07XG5cbiAgICAgIGNvbnN0IHBvaW50RGlzdCA9XG4gICAgICAgICAgdGhpcy5nZXRQb2ludERpc3RhbmNlKFxuICAgICAgICAgICAgICBzaGFwZS5ib2R5LnBvaW50WCxcbiAgICAgICAgICAgICAgc2hhcGUuYm9keS5wb2ludFksXG4gICAgICAgICAgICAgIHNoYXBlLmFuY2hvci5wb2ludFgsXG4gICAgICAgICAgICAgIHNoYXBlLmFuY2hvci5wb2ludFksXG4gICAgICAgICAgKTtcblxuICAgICAgY29uc3QgYm9kaWVzQXJlQ2xvc2UgPSBNYXRoLmFicyhwb2ludERpc3QpIDwgc2hhcGUuYW5jaG9yLnJhZGl1cztcblxuICAgICAgLy8gQWdhaW4sIGRvIG5vdCBtb3ZlIGEgYm9keSBpZiBpdCdzIGNsb3NlIHRvIGl0cyBhbmNob3IgcG9pbnQuIEl0IGhhcyB0byBiZSBjaGVja2VkIGFnYWluXG4gICAgICAvLyBiZWNhdXNlIGlmIHRoZSBwaHlzaWNzIHVwZGF0ZSBoYXMgbW92ZWQgaXQgdG9vIGNsb3NlIHRvIGl0cyBhbmNob3IsIGl0IG5lZWRzIHRvIGJlIHJldHVybmVkXG4gICAgICAvLyB0byBpdHMgYW5jaG9yIGluc3RlYWQgb2YgY29udGludWluZyB0byBtb3ZlIGZyZWVseVxuICAgICAgaWYgKCFib2RpZXNBcmVDbG9zZSAmJiAhc2hhcGUuaXNUd2VlbmluZyAmJiBzaGFwZSAhPT0gdGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgICB0aGlzLm1vdmVCb2R5KHNoYXBlLmJvZHkpO1xuXG4gICAgICAgIC8vIEZvciBkZXNpZ24gYWVzdGhldGljIHJlYXNvbnMsIGJyZWFrIHRoZSBydWxlcyBhIGJpdCBhbmQgYXJ0aWZpY2lhbGx5IGFuZCBhcmJpdHJhcmlseVxuICAgICAgICAvLyBkZWdyYWRlIHRoZSBib2R5J3MgdmVsb2NpdHkgb3ZlciB0aW1lXG4gICAgICAgIHRoaXMuZGVncmFkZVZlbG9jaXR5KHNoYXBlLmJvZHkpO1xuICAgICAgfSBlbHNlIGlmIChib2RpZXNBcmVDbG9zZSAmJiAhc2hhcGUuaXNUd2VlbmluZykge1xuICAgICAgICB0aGlzLnJldHVybkJvZHlUb09yaWdpbihzaGFwZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBwb2ludGVyIGlzIGJlaW5nIGhlbGQgZG93biwgcnVuIGFsbCBjb2RlIHJlbGV2YW50IHRvIGxvY2tpbmcgdGhlIGN1cnJlbnQgYWN0aXZlXG4gICAgICAvLyBzaGFwZSB0byB0aGUgcG9pbnRlciBwb3NpdGlvblxuICAgICAgaWYgKHRoaXMubW91c2VJc0Rvd24pIHtcbiAgICAgICAgdGhpcy5sb2NrQWN0aXZlU2hhcGVUb01vdXNlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRha2UgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkgYW5kIGFwcGx5IHRoYXQgdG8gdGhlIHNoYXBlL2VsZW1lbnQncyB0cmFuc2xhdGVkXG4gICAgICAvLyBwb3NpdGlvbiBvbiBzY3JlZW4uXG4gICAgICBjb25zdCBzaGFwZUxlZnQgPSBgJHtzaGFwZS5ib2R5LnBvaW50WCAtIHNoYXBlLm9yaWdpbi54fXB4YDtcbiAgICAgIGNvbnN0IHNoYXBlVG9wID0gYCR7c2hhcGUuYm9keS5wb2ludFkgLSBzaGFwZS5vcmlnaW4ueX1weGA7XG4gICAgICBzaGFwZS5idXR0b24uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7c2hhcGVMZWZ0fSwgJHtzaGFwZVRvcH0sIDApYDtcbiAgICB9XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IE1EQ1NuYWNrYmFyIH0gZnJvbSAnQG1hdGVyaWFsL3NuYWNrYmFyJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBTTkFDS0JBUl9FTDogJy5tZGMtc25hY2tiYXInLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25hY2tCYXIge1xuICBjb3JlOiBDb3JlO1xuICBzbmFja0JhckVsOiBIVE1MRWxlbWVudDtcbiAgc25hY2tCYXI6IE1EQ1NuYWNrYmFyO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGFjdGlvblRleHQ6IHN0cmluZztcblxuICAvKipcbiAgICogU25hY2tCYXIgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlLCBzbmFja0JhckVsPzogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMuc25hY2tCYXJFbCA9IHNuYWNrQmFyRWwgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuU05BQ0tCQVJfRUwpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc25hY2tCYXIgPSBuZXcgTURDU25hY2tiYXIodGhpcy5zbmFja0JhckVsKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSAodGhpcy5zbmFja0JhckVsLnF1ZXJ5U2VsZWN0b3IoJy5tZGMtc25hY2tiYXJfX3RleHQnKSBhcyBIVE1MRWxlbWVudCkuaW5uZXJIVE1MO1xuICAgIHRoaXMuYWN0aW9uVGV4dCA9ICh0aGlzLnNuYWNrQmFyRWxcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLm1kYy1zbmFja2Jhcl9fYWN0aW9uLWJ1dHRvbicpIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUw7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgZGVmYXVsdEhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNuYWNrQmFyVHJpZ2dlcihtZXNzYWdlPzogc3RyaW5nLCBhY3Rpb25UZXh0Pzogc3RyaW5nLCBjYWxsYmFjaz86ICgpID0+IHZvaWQsIHRpbWVvdXQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLnNuYWNrQmFyLnNob3coe1xuICAgICAgbWVzc2FnZTogbWVzc2FnZSB8fCB0aGlzLm1lc3NhZ2UsXG4gICAgICBhY3Rpb25UZXh0OiBhY3Rpb25UZXh0IHx8IHRoaXMuYWN0aW9uVGV4dCxcbiAgICAgIGFjdGlvbkhhbmRsZXI6IGNhbGxiYWNrIHx8IHRoaXMuZGVmYXVsdEhhbmRsZXIsXG4gICAgICB0aW1lb3V0OiB0aW1lb3V0LFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IE1EQ01lbnUgfSBmcm9tICdAbWF0ZXJpYWwvbWVudSc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgTURDX05BVjogJy5qcy1tZGMtc2VsZWN0LW5hdicsXG4gIE1EQ19OQVZfVE9HR0xFOiAnLmpzLW1kYy1uYXYtdG9nZ2xlJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0ZXBOYXYge1xuICBjb3JlOiBDb3JlO1xuICBtZGNTZWxlY3Q6IEhUTUxFbGVtZW50O1xuICBtZW51VG9nZ2xlPzogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIG1lbnU6IGFueTtcblxuICAvKipcbiAgICogU3RlcE5hdiBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUsIHNuYWNrQmFyRWw/OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5tZGNTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5NRENfTkFWKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIGlmICh0aGlzLm1kY1NlbGVjdCkge1xuICAgICAgdGhpcy5tZW51ID0gbmV3IE1EQ01lbnUodGhpcy5tZGNTZWxlY3QpO1xuICAgICAgdGhpcy5tZW51VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuTURDX05BVl9UT0dHTEUpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIH1cblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZiAoIXRoaXMubWVudSB8fCAhdGhpcy5tZW51VG9nZ2xlKSB7IHJldHVybjsgfVxuICAgIHRoaXMubWVudVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlTWVudVRvZ2dsZSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlTWVudVRvZ2dsZShlOiBFdmVudCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm1lbnUub3BlbiA9ICF0aGlzLm1lbnUub3BlbjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgQUNUSU9OX0NMQVNTRVMsIG5vZGVMaXN0VG9BcnJheSB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBTVElDS1lfQkFSX1NFTEVDVE9SID0gJy5qcy1zdGlja3ktYmFyJztcbmNvbnN0IFNUSUNLWV9CQVJfQ0hJTERfU0VMRUNUT1IgPSAnLmpzLXN0aWNreS1iYXItY2hpbGQnO1xuXG5pbnRlcmZhY2UgSVN0aWNreUVsZW1lbnQge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgY2hpbGQ6IEhUTUxFbGVtZW50O1xuICBpc1N0dWNrOiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRoaXMgd2lsbCBjaGVjayBmb3Igd2hlbiB0aGUgZWxlbWVudHMgbGVhdmUgdGhlIHRvcCBvZiB0aGUgdmlld3BvcnQgYnkgZGVmYXVsdC5cbiAqIFBhc3MgaW4gYSBib29sZWFuIGZvciB0aGUgZmlyc3QgYXJnIG9mIHRoZSBjb25zdHJ1Y3RvciB0byBjaGVjayBmb3Igd2hlbiBpdCdzIG91dCBvZiB0aGUgYm90dG9tXG4gKiBvZiB0aGUgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGlja3lCYXIge1xuICBzdGlja2llczogQXJyYXk8SVN0aWNreUVsZW1lbnQ+O1xuICBzdGlja1RvQm90dG9tID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Ioc3RpY2tUb0JvdHRvbSA9IGZhbHNlLCBzZWxlY3RvciA9IFNUSUNLWV9CQVJfU0VMRUNUT1IpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9XG4gICAgICAgIG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkgYXMgQXJyYXk8SFRNTEVsZW1lbnQ+O1xuXG4gICAgdGhpcy5zdGlja2llcyA9IGVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU1RJQ0tZX0JBUl9DSElMRF9TRUxFQ1RPUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7Y2hpbGQub2Zmc2V0SGVpZ2h0fXB4YDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgY2hpbGQ6IGNoaWxkLFxuICAgICAgICBpc1N0dWNrOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0aWNrVG9Cb3R0b20gPSBzdGlja1RvQm90dG9tO1xuXG4gICAgaWYgKHRoaXMuc3RpY2tpZXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG5cbiAgICB0aGlzLm9uU2Nyb2xsKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25TY3JvbGwoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTY3JvbGwoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0aWNraWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnN0aWNraWVzW2ldO1xuXG4gICAgICBpZiAoIXRhcmdldC5jaGlsZCkgeyByZXR1cm47IH1cblxuICAgICAgY29uc3QgYm91bmRzID0gdGFyZ2V0LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBpc0luVmlldyA9IHRoaXMuc3RpY2tUb0JvdHRvbSA/IGJvdW5kcy5ib3R0b20gPCB3aW5kb3cuaW5uZXJIZWlnaHQgOiBib3VuZHMudG9wID4gMDtcblxuICAgICAgaWYgKCF0YXJnZXQuaXNTdHVjayAmJiAhaXNJblZpZXcpIHtcbiAgICAgICAgdGFyZ2V0LmNoaWxkLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICAgICAgdGFyZ2V0LmlzU3R1Y2sgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuaXNTdHVjayAmJiBpc0luVmlldykge1xuICAgICAgICB0YXJnZXQuY2hpbGQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgICAgICB0YXJnZXQuaXNTdHVjayA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgQUNUSU9OX0NMQVNTRVMsIG5vZGVMaXN0VG9BcnJheSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IENvcmUgZnJvbSAnLi4vQ29yZSc7XG5cbmNvbnN0IFRIT1VHSFRfU1RBUlRFUl9TRUxFQ1RPUiA9ICcuanMtdGhvdWdodC1zdGFydGVyJztcbmNvbnN0IFRIT1VHSFRfU1RBUlRFUl9JVEVNX1NFTEVDVE9SID0gJy5qcy10aG91Z2h0LXN0YXJ0ZXItaXRlbSc7XG5jb25zdCBUSE9VR0hUX1NUQVJURVJfVE9PTFRJUF9TRUxFQ1RPUiA9ICcuanMtdGhvdWdodC1zdGFydGVyLXRvb2x0aXAnO1xuXG5jb25zdCBUSE9VR0hUX1NUQVJURVJfSUNPTl9ERUxBWSA9IDUwMDtcbmNvbnN0IFRIT1VHSFRfU1RBUlRFUl9JQ09OX09GRlNFVF9ERUxBWSA9IDIwO1xuY29uc3QgQUNUSVZBVElPTl9ERUxBWSA9IDM2MDtcblxuaW50ZXJmYWNlIElUaG91Z2h0U3RhcnRlckl0ZW0ge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgdG9vbHRpcDogSFRNTEVsZW1lbnQ7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBob3ZlclRpbWVvdXQ6IGFueTtcbiAgYWN0aXZhdGVUaW1lb3V0OiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBUaG91Z2h0U3RhcnRlciB7XG4gIGFjdGl2YXRpb25EZWxheTogbnVtYmVyO1xuICBwYXJlbnQ6IEhUTUxFbGVtZW50O1xuICBpdGVtczogQXJyYXk8SVRob3VnaHRTdGFydGVySXRlbT47XG4gIGhhc0FjdGl2YXRlZCA9IGZhbHNlO1xuICB0b3VjaG1vdmVUaW1lb3V0OiBhbnk7XG4gIHJlYWR5Rm9yVG91Y2hJbnRlcmFjdGlvbiA9IHRydWU7XG4gIGNvcmU/OiBDb3JlO1xuXG4gIGNvbnN0cnVjdG9yKGNvcmU/OiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLmFjdGl2YXRpb25EZWxheSA9IHRoaXMuY29yZSAmJiB0aGlzLmNvcmUucHJlZmVyc1JlZHVjZWRNb3Rpb24gPyAwIDogQUNUSVZBVElPTl9ERUxBWTtcbiAgICB0aGlzLnBhcmVudCA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoVEhPVUdIVF9TVEFSVEVSX1NFTEVDVE9SKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0IHRob3VnaHRTdGFydGVySXRlbUVsZW1lbnRzID1cbiAgICAgICAgbm9kZUxpc3RUb0FycmF5KHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoVEhPVUdIVF9TVEFSVEVSX0lURU1fU0VMRUNUT1IpKTtcblxuICAgIHRoaXMuaXRlbXMgPSB0aG91Z2h0U3RhcnRlckl0ZW1FbGVtZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnQ6IGl0ZW0sXG4gICAgICAgIHRvb2x0aXA6IGl0ZW0ucXVlcnlTZWxlY3RvcihUSE9VR0hUX1NUQVJURVJfVE9PTFRJUF9TRUxFQ1RPUikgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgaG92ZXJUaW1lb3V0OiBudWxsLFxuICAgICAgICBhY3RpdmF0ZVRpbWVvdXQ6IG51bGwsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SXNJblZpZXcoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5wYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGJvdW5kcy50b3AgPCAod2luZG93LmlubmVySGVpZ2h0ICogMC4yNSk7XG4gIH1cblxuICBhY3RpdmF0ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNBY3RpdmF0ZWQpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5oYXNBY3RpdmF0ZWQgPSB0cnVlO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIGlmICh0aGlzLmNvcmUgJiYgdGhpcy5jb3JlLnByZWZlcnNSZWR1Y2VkTW90aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICAgIH0sIChpICogVEhPVUdIVF9TVEFSVEVSX0lDT05fT0ZGU0VUX0RFTEFZKSk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgICAgfSwgVEhPVUdIVF9TVEFSVEVSX0lDT05fREVMQVkgKyAoaSAqIFRIT1VHSFRfU1RBUlRFUl9JQ09OX09GRlNFVF9ERUxBWSkpO1xuICAgIH1cbiAgfVxuXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpO1xuXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuYWN0aXZhdGVJdGVtKGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0ZW0uZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVJdGVtKGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0ZW0uZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlSXRlbVRvdWNoKGUsIGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25Ub3VjaE1vdmUoKSB7XG4gICAgaWYgKHRoaXMudG91Y2htb3ZlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudG91Y2htb3ZlVGltZW91dCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWFkeUZvclRvdWNoSW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNobW92ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuc2V0UmVhZHlGb3JUb3VjaEludGVyYWN0aW9uLCB0aGlzLmFjdGl2YXRpb25EZWxheSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0UmVhZHlGb3JUb3VjaEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMucmVhZHlGb3JUb3VjaEludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLmRlYWN0aXZhdGVBbGxJdGVtcygpO1xuICB9XG5cbiAgaGFuZGxlSXRlbVRvdWNoKGU6IFRvdWNoRXZlbnQsIGl0ZW06IElUaG91Z2h0U3RhcnRlckl0ZW0pIHtcbiAgICBpZiAoIXRoaXMucmVhZHlGb3JUb3VjaEludGVyYWN0aW9uIHx8ICFpdGVtLmlzQWN0aXZlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKCFpdGVtLmlzQWN0aXZlICYmIHRoaXMucmVhZHlGb3JUb3VjaEludGVyYWN0aW9uKSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGVBbGxJdGVtcygpO1xuICAgICAgdGhpcy5hY3RpdmF0ZUl0ZW0oaXRlbSk7XG4gICAgfSBlbHNlIGlmIChpdGVtLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGVJdGVtKGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGFjdGl2YXRlSXRlbShpdGVtOiBJVGhvdWdodFN0YXJ0ZXJJdGVtKSB7XG4gICAgaWYgKGl0ZW0uaXNBY3RpdmUpIHsgcmV0dXJuOyB9XG4gICAgaXRlbS5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICBpZiAoaXRlbS5ob3ZlclRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dChpdGVtLmhvdmVyVGltZW91dCk7XG4gICAgICBpdGVtLmhvdmVyVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRIb3ZlcmVkU3RhdGUoaXRlbSk7XG4gICAgaXRlbS5hY3RpdmF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuYWRkQWN0aXZhdGVkU3RhdGUuYmluZCh0aGlzLCBpdGVtKSxcbiAgICAgICAgdGhpcy5hY3RpdmF0aW9uRGVsYXkpO1xuICB9XG5cbiAgZGVhY3RpdmF0ZUl0ZW0oaXRlbTogSVRob3VnaHRTdGFydGVySXRlbSkge1xuICAgIGlmICghaXRlbS5pc0FjdGl2ZSkgeyByZXR1cm47IH1cbiAgICBpdGVtLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoaXRlbS5hY3RpdmF0ZVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dChpdGVtLmFjdGl2YXRlVGltZW91dCk7XG4gICAgICBpdGVtLmFjdGl2YXRlVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVBY3RpdmF0ZWRTdGF0ZShpdGVtKTtcbiAgICBpdGVtLmVsZW1lbnQuYmx1cigpO1xuICAgIGl0ZW0uaG92ZXJUaW1lb3V0ID1cbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlbW92ZUhvdmVyZWRTdGF0ZS5iaW5kKHRoaXMsIGl0ZW0pLCB0aGlzLmFjdGl2YXRpb25EZWxheSAqIDAuNzUpO1xuICB9XG5cbiAgZGVhY3RpdmF0ZUFsbEl0ZW1zKCkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuZGVhY3RpdmF0ZUl0ZW0oaXRlbSkpO1xuICB9XG5cbiAgYWRkSG92ZXJlZFN0YXRlKGl0ZW06IElUaG91Z2h0U3RhcnRlckl0ZW0pIHtcbiAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5IT1ZFUkVEKTtcbiAgICBpdGVtLmVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzk5JztcbiAgICBpdGVtLmhvdmVyVGltZW91dCA9IG51bGw7XG4gIH1cblxuICByZW1vdmVIb3ZlcmVkU3RhdGUoaXRlbTogSVRob3VnaHRTdGFydGVySXRlbSkge1xuICAgIGl0ZW0uZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhPVkVSRUQpO1xuICAgIGl0ZW0uZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xuICAgIGl0ZW0uaG92ZXJUaW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGFkZEFjdGl2YXRlZFN0YXRlKGl0ZW06IElUaG91Z2h0U3RhcnRlckl0ZW0pIHtcbiAgICBpdGVtLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FTkFCTEVEKTtcbiAgICBpdGVtLmFjdGl2YXRlVGltZW91dCA9IG51bGw7XG4gIH1cblxuICByZW1vdmVBY3RpdmF0ZWRTdGF0ZShpdGVtOiBJVGhvdWdodFN0YXJ0ZXJJdGVtKSB7XG4gICAgaXRlbS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuRU5BQkxFRCk7XG4gICAgaXRlbS5hY3RpdmF0ZVRpbWVvdXQgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFRPT0xfVElQX1NFTEVDVE9SID0gJy5qcy10b29sLXRpcCc7XG5jb25zdCBUT09MX1RJUF9PRkZfQ0xBU1MgPSAndG9vbC10aXAtb2ZmJztcbmNvbnN0IEdVVFRFUl9XSURUSCA9IDQ4O1xuXG5pbnRlcmZhY2UgSVRvb2xUaXBDb29yZHMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENvcmVUb29sVGlwIHtcbiAgY29yZTogQ29yZTtcbiAgY29udGFpbmVyRWxlbTogSFRNTEVsZW1lbnQ7XG4gIGNvb3JkczogSVRvb2xUaXBDb29yZHMgPSB7eDogMCwgeTogMH07XG4gIHRleHQ6IHN0cmluZztcbiAgaXNPcGVuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSwgcm9vdEVsZW06IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLnRleHQgPSAnJztcbiAgICB0aGlzLmNvbnRhaW5lckVsZW0gPSByb290RWxlbS5xdWVyeVNlbGVjdG9yKFRPT0xfVElQX1NFTEVDVE9SKSBhcyBIVE1MRWxlbWVudDtcbiAgfVxuXG4gIHNldFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb29yZHMueCA9IHg7XG4gICAgdGhpcy5jb29yZHMueSA9IHk7XG4gICAgdGhpcy5jb250YWluZXJFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmNvb3Jkcy54ICsgJ3B4JztcbiAgICB0aGlzLmNvbnRhaW5lckVsZW0uc3R5bGUudG9wID0gdGhpcy5jb29yZHMueSArICdweCc7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2hvdygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5jb250YWluZXJFbGVtLmNsYXNzTGlzdC5yZW1vdmUoVE9PTF9USVBfT0ZGX0NMQVNTKTtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGlkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSB7IHJldHVybjsgfVxuICAgIHRoaXMuY29udGFpbmVyRWxlbS5jbGFzc0xpc3QuYWRkKFRPT0xfVElQX09GRl9DTEFTUyk7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbFRpcCBleHRlbmRzIENvcmVUb29sVGlwIHtcbiAgcm9vdEVsZW06IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUsIHJvb3RFbGVtOiBIVE1MRWxlbWVudCkge1xuICAgIHN1cGVyKGNvcmUsIHJvb3RFbGVtKTtcbiAgICB0aGlzLnJvb3RFbGVtID0gcm9vdEVsZW07XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgZG9tU2hvdygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHsgcmV0dXJuOyB9XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLnJvb3RFbGVtKTtcbiAgICB0aGlzLnNldFBvc2l0aW9uKGNvb3Jkcy54LCBjb29yZHMueSk7XG4gICAgdGhpcy5jb250YWluZXJFbGVtLmNsYXNzTGlzdC5yZW1vdmUoVE9PTF9USVBfT0ZGX0NMQVNTKTtcbiAgICB0aGlzLmNvbnRhaW5lckVsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICB0aGlzLmNvbnRhaW5lckVsZW0uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIHRoaXMucm9vdEVsZW0uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAndHJ1ZScpO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBkb21IaWRlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5jb250YWluZXJFbGVtLmNsYXNzTGlzdC5hZGQoVE9PTF9USVBfT0ZGX0NMQVNTKTtcbiAgICB0aGlzLmNvbnRhaW5lckVsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHRoaXMuY29udGFpbmVyRWxlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB0aGlzLnJvb3RFbGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBwcml2YXRlIGdldFBvc2l0aW9uKGJ1dHRvbjogSFRNTEVsZW1lbnQpOiBQb2ludCB7XG4gICAgLy8gZ2V0IHNpemVzIG9mIHdpbmRvdywgYnV0dG9uLCBhbmQgdG9vbHRpcFxuICAgIGxldCB3aW5kb3dXID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbGV0IHdpbmRvd0ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHRvb2xUaXBCdXR0b25SZWN0ID0gYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBjb250YWluZXJSZWN0ID0gdGhpcy5jb250YWluZXJFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNtYWxsU2NyZWVuID0gd2luZG93LmlubmVyV2lkdGggPCBjb250YWluZXJSZWN0LndpZHRoICogMjtcblxuICAgIC8vIHNldCBkZWZhdWx0IHBvc2l0aW9uICh1bmRlciBidXR0b24pXG4gICAgbGV0IHRvcCA9ICh0b29sVGlwQnV0dG9uUmVjdC50b3AgPCB3aW5kb3dIIC8gMikgP1xuICAgICAgICB0b29sVGlwQnV0dG9uUmVjdC50b3AgKyA0MCA6IHRvb2xUaXBCdXR0b25SZWN0LnRvcCAtIDQwO1xuICAgIGxldCBsZWZ0ID0gdG9vbFRpcEJ1dHRvblJlY3QubGVmdCArIHRvb2xUaXBCdXR0b25SZWN0LndpZHRoIC8gMjtcbiAgICBjb25zdCBjb250YWluZXJPZmZzZXRIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodDtcbiAgICAvLyBub3cgZmluZCB0aGUgcmVhbCBwb3NpdGlvblxuICAgIGlmICh0b29sVGlwQnV0dG9uUmVjdC50b3AgPCBjb250YWluZXJPZmZzZXRIZWlnaHQpIHtcbiAgICAgIHRvcCA9IHRvb2xUaXBCdXR0b25SZWN0LmJvdHRvbTtcbiAgICAgIGxlZnQgPSB0b29sVGlwQnV0dG9uUmVjdC5sZWZ0ICsgdG9vbFRpcEJ1dHRvblJlY3Qud2lkdGggLyAyIC0gY29udGFpbmVyUmVjdC53aWR0aCAvIDI7XG4gICAgfSBlbHNlIGlmICh0b29sVGlwQnV0dG9uUmVjdC5sZWZ0IDwgd2luZG93VyAvIDIpIHtcbiAgICAgIHRvcCA9IHRvb2xUaXBCdXR0b25SZWN0LnRvcCAtIGNvbnRhaW5lck9mZnNldEhlaWdodDtcbiAgICAgIGxlZnQgPSB0b29sVGlwQnV0dG9uUmVjdC5sZWZ0O1xuICAgIH0gZWxzZSBpZiAodG9vbFRpcEJ1dHRvblJlY3QubGVmdCA+IHdpbmRvd1cgLyAyKSB7XG4gICAgICB0b3AgPSB0b29sVGlwQnV0dG9uUmVjdC50b3AgLSBjb250YWluZXJPZmZzZXRIZWlnaHQ7XG4gICAgICBsZWZ0ID0gdG9vbFRpcEJ1dHRvblJlY3QubGVmdDtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0byBtYWtlIHN1cmUgdGhlIHRpcCBpc24ndCBoYW5naW5nIG92ZXIgbGVmdCBlZGdlXG4gICAgaWYgKChsZWZ0KSA8IEdVVFRFUl9XSURUSCkge1xuICAgICAgbGVmdCA9IHRvb2xUaXBCdXR0b25SZWN0LmxlZnQ7XG4gICAgfVxuICAgIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgdGlwIGlzbid0IGhhbmdpbmcgb3ZlciB0aGUgcmlnaHQgZWRnZVxuICAgIGlmICgobGVmdCArIGNvbnRhaW5lclJlY3Qud2lkdGgpID4gKHdpbmRvd1cgLSBHVVRURVJfV0lEVEgpKSB7XG4gICAgICBsZWZ0ID0gd2luZG93VyAtIGNvbnRhaW5lclJlY3Qud2lkdGggLSBHVVRURVJfV0lEVEg7XG4gICAgfVxuXG4gICAgaWYgKHNtYWxsU2NyZWVuKSB7XG4gICAgICBsZWZ0ID0gKHdpbmRvd1cgLSBjb250YWluZXJSZWN0LndpZHRoKSAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQb2ludChsZWZ0LCB0b3ApO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcblxuY29uc3QgVklERU9fU0VMRUNUT1IgPSAnLmpzLXZpZGVvLXBsYXllcic7XG5cbmRlY2xhcmUgdmFyIHdpbmRvdzogYW55O1xuXG5leHBvcnQgY2xhc3MgVmlkZW9QbGF5ZXIge1xuICBpc1JlYWR5OiBib29sZWFuO1xuICBwbGF5ZXI6IGFueTsgLy8gVGhlIHlvdXR1YmUgcGxheWVyXG4gIGhhc0JlZW5QbGF5ZWQ6IGJvb2xlYW47XG4gIHZpZGVvRGl2OiBIVE1MRWxlbWVudDtcbiAgc2hvdWxkTG9vcDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihzaG91bGRMb29wPzogYm9vbGVhbikge1xuICAgIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMucGxheWVyID0gbnVsbDtcbiAgICB0aGlzLmhhc0JlZW5QbGF5ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3VsZExvb3AgPSBzaG91bGRMb29wIHx8IHRydWU7XG5cbiAgICB0aGlzLnZpZGVvRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihWSURFT19TRUxFQ1RPUikgYXMgSFRNTEVsZW1lbnQ7XG4gIH1cblxuICBsb2FkQVBJKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSByZXNvbHZlO1xuXG4gICAgICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHRhZy5zcmMgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaSc7XG4gICAgICBjb25zdCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcblxuICAgICAgaWYgKGZpcnN0U2NyaXB0VGFnICYmIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUpIHtcbiAgICAgICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdGlhbGl6ZVZpZGVvKCkge1xuICAgIGlmICh0aGlzLmlzUmVhZHkgfHwgIXRoaXMudmlkZW9EaXYpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLnBsYXllciA9IG5ldyB3aW5kb3cuWVQuUGxheWVyKHRoaXMudmlkZW9EaXYsIHtcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9EaXYuZGF0YXNldC5zcmMsXG4gICAgICBwbGF5ZXJWYXJzOiB7XG4gICAgICAgIHJlbDogMCxcbiAgICAgICAgc2hvd2luZm86IDAsXG4gICAgICAgIG1vZGVzdGJyYW5kaW5nOiAxLFxuICAgICAgICBwbGF5c2lubGluZTogMSxcbiAgICAgICAgZW5kOiA3LFxuICAgICAgICBjY19sYW5nX3ByZWY6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICB9XG5cbiAgYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblJlYWR5JywgdGhpcy5vblBsYXllclJlYWR5KTtcbiAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblN0YXRlQ2hhbmdlJywgdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblBsYXllclJlYWR5KCkge1xuICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25QbGF5ZXJTdGF0ZUNoYW5nZShlOiBhbnkpIHtcbiAgICBpZiAoZS5kYXRhID09PSAwICYmIHRoaXMuc2hvdWxkTG9vcCkge1xuICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBBY2NvcmRpb24gfSBmcm9tICcuL0FjY29yZGlvbic7XG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gJy4vQXVkaW9QbGF5ZXInO1xuaW1wb3J0IENhcmRTdGFjayBmcm9tICcuL0NhcmRTdGFjayc7XG5pbXBvcnQgeyBDYXRlZ29yeUZpbHRlciB9IGZyb20gJy4vQ2F0ZWdvcnlGaWx0ZXInO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3Rlcic7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vSGVhZGVyJztcbmltcG9ydCB7IEludGVyYWN0aXZlTG9nbyB9IGZyb20gJy4vSW50ZXJhY3RpdmVMb2dvJztcbmltcG9ydCBOYXZJblBhZ2UgZnJvbSAnLi9OYXZJblBhZ2UnO1xuaW1wb3J0IHsgU2Nyb2xsVG8gfSBmcm9tICcuL1Njcm9sbFRvJztcbmltcG9ydCB7IFNsaW5nc2hvdCB9IGZyb20gJy4vU2xpbmdzaG90JztcbmltcG9ydCBTbmFja0JhciBmcm9tICcuL1NuYWNrQmFyJztcbmltcG9ydCBBamF4TW9kYWwgZnJvbSAnLi9BamF4TW9kYWwnO1xuaW1wb3J0IHsgTGlzdEFjY29yZGlvbiB9IGZyb20gJy4vTGlzdEFjY29yZGlvbic7XG5pbXBvcnQgQWxlcnQgZnJvbSAnLi9BbGVydCc7XG5pbXBvcnQgeyBWaWRlb1BsYXllciB9IGZyb20gJy4vVmlkZW9QbGF5ZXInO1xuaW1wb3J0IHsgQ0tFZGl0IH0gZnJvbSAnLi9DS0VkaXQnO1xuaW1wb3J0IHsgVGhvdWdodFN0YXJ0ZXIgfSBmcm9tICcuL1Rob3VnaHRTdGFydGVyJztcbmltcG9ydCB7IFRvb2xUaXAgfSBmcm9tICcuL1Rvb2xUaXAnO1xuaW1wb3J0IFN0ZXBOYXYgZnJvbSAnLi9TdGVwTmF2JztcbmltcG9ydCB7IFN0aWNreUJhciB9IGZyb20gJy4vU3RpY2t5QmFyJztcbmltcG9ydCBSZXNvdXJjZU5hdiBmcm9tICcuL1Jlc291cmNlTmF2JztcbmltcG9ydCBBbmltYXRlU2hhcGVzIGZyb20gJy4vQW5pbWF0ZVNoYXBlcyc7XG5pbXBvcnQgSG9tZUNvbmNsdXNpb25TaGFwZXMgZnJvbSAnLi9Ib21lQ29uY2x1c2lvblNoYXBlcyc7XG5pbXBvcnQgSG9tZU51bWJlckFuaW1hdGlvbiBmcm9tICcuL0hvbWVOdW1iZXJBbmltYXRpb24nO1xuaW1wb3J0IEhvbWVUaG91Z2h0U3RhcnRlciBmcm9tICcuL0hvbWVUaG91Z2h0U3RhcnRlcic7XG5pbXBvcnQgSG9tZVZpZGVvUGxheWVyIGZyb20gJy4vSG9tZVZpZGVvUGxheWVyJztcblxuZXhwb3J0IHtcbiAgQWNjb3JkaW9uLFxuICBBamF4TW9kYWwsXG4gIEFsZXJ0LFxuICBBbmltYXRlU2hhcGVzLFxuICBBdWRpb1BsYXllcixcbiAgQ2FyZFN0YWNrLFxuICBDYXRlZ29yeUZpbHRlcixcbiAgQ0tFZGl0LFxuICBGb290ZXIsXG4gIEhlYWRlcixcbiAgSG9tZUNvbmNsdXNpb25TaGFwZXMsXG4gIEhvbWVOdW1iZXJBbmltYXRpb24sXG4gIEhvbWVUaG91Z2h0U3RhcnRlcixcbiAgSG9tZVZpZGVvUGxheWVyLFxuICBJbnRlcmFjdGl2ZUxvZ28sXG4gIExpc3RBY2NvcmRpb24sXG4gIE5hdkluUGFnZSxcbiAgUmVzb3VyY2VOYXYsXG4gIFNjcm9sbFRvLFxuICBTbGluZ3Nob3QsXG4gIFNuYWNrQmFyLFxuICBTdGVwTmF2LFxuICBTdGlja3lCYXIsXG4gIFZpZGVvUGxheWVyLFxuICBUaG91Z2h0U3RhcnRlcixcbiAgVG9vbFRpcCxcbn07XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IEFDVElPTl9DTEFTU0VTLCBub2RlTGlzdFRvQXJyYXksIGF4aW9zSW5zdGFuY2UgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBGT1JNOiAnLmpzLWZvcm0nLFxuICBTVUJNSVQ6ICcuanMtc3VibWl0Jyxcbn07XG5cbmNvbnN0IFNVQk1JVF9VUkwgPSAnL2FwaS9wcm9qZWN0cy9zdWJtaXQnO1xuY29uc3QgQ09NUExFVEVfVVJMID0gJy95b3VyLXByb2plY3Qvc3VibWl0L2NvbXBsZXRlJztcblxuZXhwb3J0IGNsYXNzIENoZWNrTGlzdCB7XG4gIGNvcmU6IENvcmU7XG4gIGZvcm06IEhUTUxFbGVtZW50O1xuICBpbnB1dHM/OiBBcnJheTxIVE1MRWxlbWVudD47XG4gIHN1Ym1pdD86IEhUTUxCdXR0b25FbGVtZW50O1xuXG4gIC8qKlxuICAgKiBDaGVja0xpc3QgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLmZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5GT1JNKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGhpcy5mb3JtKSB7XG4gICAgICB0aGlzLnN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNVQk1JVCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICB0aGlzLmlucHV0cyA9IG5vZGVMaXN0VG9BcnJheSh0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSk7XG4gICAgfVxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN1Ym1pdCB8fCAhdGhpcy5pbnB1dHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVTdWJtaXQpO1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUlucHV0KTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVJbnB1dCgpIHtcbiAgICBpZiAoIXRoaXMuc3VibWl0IHx8ICF0aGlzLmlucHV0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dHMuZmluZCgoaW5wdXQpID0+ICghKGlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpKSkge1xuICAgICAgdGhpcy5zdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdWJtaXQuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ESVNBQkxFRCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkRJU0FCTEVEKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3VibWl0KGU6IE1vdXNlRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KFNVQk1JVF9VUkwpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TVUJNSVRURUQpO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBDT01QTEVURV9VUkw7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKF9lcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHsgU25hY2tCYXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGF4aW9zSW5zdGFuY2UsIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgRk9STTogJy5qcy1mb3JtJyxcbiAgUFJPSkVDVF9JRF9JTlBVVDogJy5qcy1wcm9qZWN0LWlkJyxcbiAgSU5QVVQ6ICcuanMtaW5wdXQnLFxuICBTVUJNSVQ6ICcuanMtc3VibWl0LS1wYXJlbnRhbC1jb25zZW50LWZvcm0nLFxuICBFTUFJTF9DT05UQUlORVI6ICcuanMtZW1haWwtY29udGFpbmVyJyxcbn07XG5cbmNvbnN0IEZPUk1fVVJMID0gJy9hcGkvbWVtYmVycy9zYXZlX2NvbnNlbnQnO1xuXG5leHBvcnQgY2xhc3MgQ29uc2VudEZvcm0ge1xuICBjb3JlOiBDb3JlO1xuICBmb3JtPzogSFRNTEZvcm1FbGVtZW50O1xuICBpbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHN1Ym1pdD86IEhUTUxCdXR0b25FbGVtZW50O1xuICBzbmFja0JhcjogU25hY2tCYXI7XG4gIGVtYWlsQ29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIENvbnNlbnRGb3JtIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STSkgYXMgSFRNTEZvcm1FbGVtZW50O1xuICAgIGlmICh0aGlzLmZvcm0pIHtcbiAgICAgIHRoaXMuc3VibWl0ID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNVQk1JVCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICB0aGlzLmVtYWlsQ29udGFpbmVyID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkVNQUlMX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICB0aGlzLmlucHV0ID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLklOUFVUKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIH1cbiAgICB0aGlzLnNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKHRoaXMuY29yZSk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICBpZiAoIXRoaXMuc3VibWl0IHx8ICF0aGlzLmlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVTdWJtaXQpO1xuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUlucHV0KTtcbiAgICBpZiAodGhpcy5pbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHRoaXMuc3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3Qga2V5TmFtZSA9IGUua2V5O1xuICAgIGlmIChrZXlOYW1lID09PSAnRW50ZXInICYmIHRoaXMuc3VibWl0ICYmICF0aGlzLnN1Ym1pdC5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlSW5wdXQoKSB7XG4gICAgaWYgKCF0aGlzLnN1Ym1pdCB8fCAhdGhpcy5pbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgIHRoaXMuc3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3VibWl0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5mb3JtIHx8ICF0aGlzLnN1Ym1pdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN1Ym1pdC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNBVklORyk7XG4gICAgdGhpcy5mb3JtLnJlcG9ydFZhbGlkaXR5KCk7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgY29uc2VudF9lbWFpbDogdGhpcy5pbnB1dCAmJiB0aGlzLmlucHV0LnZhbHVlLFxuICAgIH07XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KEZPUk1fVVJMLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuZm9ybSB8fCAhdGhpcy5lbWFpbENvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICAgIHRoaXMuZW1haWxDb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc25hY2tCYXIuc25hY2tCYXJUcmlnZ2VyKCk7XG4gICAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TVUJNSVRURUQpO1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgICAgdGhpcy5lbWFpbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdWJtaXQgJiYgdGhpcy5zdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKF9lcnJvcikgPT4ge1xuICAgICAgICAgIC8vIElmIHRoZSBlcnJvciB3YXMgdGhhdCBjb25zZW50IGhhcyBhbHJlYWR5IGJlZW4gZ3JhbnRlZCwgcmVsb2FkIHBhZ2VcbiAgICAgICAgICBpZiAoX2Vycm9yLnJlc3BvbnNlICYmIF9lcnJvci5yZXNwb25zZS5kYXRhICYmXG4gICAgICAgICAgICAgIF9lcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycyA9PT0gJ0NvbnNlbnQgaGFzIGFscmVhZHkgYmVlbiBncmFudGVkJykge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMuZm9ybSB8fCAhdGhpcy5lbWFpbENvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgdGhpcy5lbWFpbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB0aGlzLnN1Ym1pdCAmJiB0aGlzLnN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLlNBVklORyk7XG4gICAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBub2RlTGlzdFRvQXJyYXksIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBJTlBVVF9TRUxFQ1RPUjogJy5mb3JtLS10ZXh0LWlucHV0LXdyYXAnLFxuICBSQURJT19HUk9VUDogJy5qcy1yYWRpby1ncm91cCcsXG59O1xuXG5pbnRlcmZhY2UgSUlucHV0UHJvcHMge1xuICB3cmFwcGVyOiBIVE1MRWxlbWVudDtcbiAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJhZGlvR3JvdXBQcm9wcyB7XG4gIHdyYXBwZXI6IEhUTUxFbGVtZW50O1xuICBpbnB1dHM6IEFycmF5PFxuICAgIHtcbiAgICAgIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgbGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQ7XG4gICAgfVxuICA+O1xufVxuXG5leHBvcnQgY2xhc3MgRm9ybXMge1xuICBjb3JlOiBDb3JlO1xuICB0ZXh0SW5wdXRzOiBBcnJheTxJSW5wdXRQcm9wcz47XG4gIHJhZGlvR3JvdXA/OiBJUmFkaW9Hcm91cFByb3BzO1xuXG4gIC8qKlxuICAgKiBGb3JtcyBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIGNvbnN0IGlucHV0cyA9IG5vZGVMaXN0VG9BcnJheShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLklOUFVUX1NFTEVDVE9SKSxcbiAgICAgICkgYXMgQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICAgIC8vIGN1c3RvbSBpbnB1dHMgb2JqZWN0XG4gICAgdGhpcy50ZXh0SW5wdXRzID0gaW5wdXRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JhcHBlcjogaXRlbSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgaW5wdXQ6IGl0ZW0ucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCByYWRpb0dyb3VwV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlJBRElPX0dST1VQKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAocmFkaW9Hcm91cFdyYXBwZXIpIHtcbiAgICAgIGNvbnN0IHJhZGlvR3JvdXBMYWJlbHMgPSBub2RlTGlzdFRvQXJyYXkocmFkaW9Hcm91cFdyYXBwZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xhYmVsJykpIGFzIEFycmF5PEhUTUxMYWJlbEVsZW1lbnQ+O1xuICAgICAgdGhpcy5yYWRpb0dyb3VwID0ge1xuICAgICAgICB3cmFwcGVyOiByYWRpb0dyb3VwV3JhcHBlcixcbiAgICAgICAgaW5wdXRzOiByYWRpb0dyb3VwTGFiZWxzLm1hcCgobGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhYmVsLmh0bWxGb3IpIGFzIEhUTUxJbnB1dEVsZW1lbnQsXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnRleHRJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmICghaW5wdXQuaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXQuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm9uRm9jdXMpO1xuICAgICAgaW5wdXQuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMub25CbHVyKTtcbiAgICAgIGlmIChpbnB1dC5pbnB1dC52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgaW5wdXQud3JhcHBlci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkZPQ1VTRUQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0aGlzLnJhZGlvR3JvdXApIHtcbiAgICAgIHRoaXMucmFkaW9Hcm91cC5pbnB1dHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICAgIGdyb3VwLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlUmFkaW9DaGFuZ2VcbiAgICAgICAgICAgIC5iaW5kKGdyb3VwLmlucHV0LCBncm91cC5sYWJlbCwgdGhpcykpO1xuICAgICAgICBncm91cC5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlUmFkaW9Gb2N1c1xuICAgICAgICAgICAgLmJpbmQoZ3JvdXAuaW5wdXQsIGdyb3VwLmxhYmVsLCB0aGlzKSk7XG4gICAgICAgIGdyb3VwLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZVJhZGlvQmx1clxuICAgICAgICAgICAgLmJpbmQoZ3JvdXAuaW5wdXQsIGdyb3VwLmxhYmVsLCB0aGlzKSk7XG5cbiAgICAgICAgZ3JvdXAuaW5wdXQuYmx1cigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJsdXIgZXZlbnQuIEhhbmRsZXMgdGV4dCBpbnB1dCBibHVyLlxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIG9uQmx1cihlOiBFdmVudCkge1xuICAgIHRoaXMuaW5wdXRCbHVyKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZm9jdXNlZCBjbGFzcyBpZiBpbnB1dCBoYXMgbm8gdmFsdWUuXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgaW5wdXRCbHVyKGVsOiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy50ZXh0SW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXQuaW5wdXQgPT09IGVsICYmIGVsLnZhbHVlID09PSAnJykge1xuICAgICAgICBpbnB1dC53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuRk9DVVNFRCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgZXZlbnQuIEFkZHMgZm9jdXNlZCBjbGFzcyB0byBpbnB1dCBhbmQgY2hlY2tzIGlzRXhwYW5kZWQgYm9vbGVhbiBhbmRcbiAgICogZXhwYW5kcyB0aGUgYWNjb3JkaW9uIGlmIGZhbHNlLlxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIG9uRm9jdXMoZTogRXZlbnQpIHtcbiAgICB0aGlzLnRleHRJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmIChpbnB1dC5pbnB1dCA9PT0gZS50YXJnZXQpIHtcbiAgICAgICAgaW5wdXQud3JhcHBlci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkZPQ1VTRUQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZSBldmVudC5cbiAgICovXG4gIEBhdXRvYmluZFxuICBoYW5kbGVSYWRpb0NoYW5nZShsYWJlbDogSFRNTExhYmVsRWxlbWVudCwgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsIGU6IEV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnJhZGlvR3JvdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yYWRpb0dyb3VwLmlucHV0cy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgIGdyb3VwLmxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB9KTtcbiAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgZXZlbnQuIEFkZHMgZm9jdXNlZCBjbGFzcyB0byByYWRpbyBpbnB1dHNcbiAgICovXG4gIEBhdXRvYmluZFxuICBoYW5kbGVSYWRpb0ZvY3VzKGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50LCBpbnB1dDogSFRNTElucHV0RWxlbWVudCwgZTogRXZlbnQpIHtcbiAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkZPQ1VTRUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJsdXIgZXZlbnQuIEFkZHMgZm9jdXNlZCBjbGFzcyB0byByYWRpbyBpbnB1dHNcbiAgICovXG4gIEBhdXRvYmluZFxuICBoYW5kbGVSYWRpb0JsdXIobGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQsIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50LCBlOiBFdmVudCkge1xuICAgIGlmICghdGhpcy5yYWRpb0dyb3VwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmFkaW9Hcm91cC5pbnB1dHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICBncm91cC5sYWJlbC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkZPQ1VTRUQpO1xuICAgIH0pO1xuICB9XG5cbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHtcbiAgYXhpb3NJbnN0YW5jZSwgQUNUSU9OX0NMQVNTRVMsIG5vZGVMaXN0VG9BcnJheSxcbn0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBDS0VkaXQsIFNuYWNrQmFyIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgRk9STTogJy5qcy1mb3JtJyxcbiAgUFJPSkVDVF9JRF9JTlBVVDogJy5qcy1wcm9qZWN0LWlkJyxcbiAgUFJPSkVDVF9TSVRFX0lEX0lOUFVUOiAnLmpzLXByb2plY3Qtc2l0ZS1pZCcsXG4gIE1BSU5fVEVYVEFSRUE6ICcuanMtbWFpbi10ZXh0YXJlYScsXG4gIFNBVkVfQlVUVE9OUzogJy5qcy1zdWJtaXQnLFxuICBTQVZFX0JVVFRPTjogJy5qcy1zYXZlLWJ1dHRvbicsXG4gIFVQREFURV9CVVRUT046ICcuanMtdXBkYXRlLWJ1dHRvbicsXG59O1xuXG5jb25zdCBGT1JNX1VSTCA9ICcvYXBpL21lbWJlcnMvdXBkYXRlJztcbmV4cG9ydCBjbGFzcyBJbnNwaXJpbmdFZHVjYXRvciB7XG4gIGNvcmU6IENvcmU7XG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudDtcbiAgc2F2ZUJ1dHRvbnM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgY2tFZGl0OiBDS0VkaXQ7XG4gIG5hbWUgPSAnJztcbiAgbWFpblRleHRBcmVhID0gJyc7XG4gIHNuYWNrQmFyOiBTbmFja0JhcjtcbiAgaGFzRWRpdGVkID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEZvcm1zIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5ja0VkaXQgPSBuZXcgQ0tFZGl0KGNvcmUsIHRoaXMuaGFuZGxlQ0tFZGl0Q2hhbmdlKTtcbiAgICB0aGlzLmZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5GT1JNKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5zYXZlQnV0dG9ucyA9IG5vZGVMaXN0VG9BcnJheSh0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuU0FWRV9CVVRUT05TKSk7XG4gICAgdGhpcy5zbmFja0JhciA9IG5ldyBTbmFja0Jhcih0aGlzLmNvcmUpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5tYWluVGV4dEFyZWEgPSBDS0VESVRPUi5pbnN0YW5jZXNbdGhpcy5uYW1lXSAmJiBDS0VESVRPUi5pbnN0YW5jZXNbdGhpcy5uYW1lXS5nZXREYXRhKCk7XG4gICAgdGhpcy5zYXZlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVDS0VkaXRDaGFuZ2UoZTogQ0tFRElUT1IuZXZlbnRJbmZvKSB7XG4gICAgdGhpcy5uYW1lID0gZS5lZGl0b3IubmFtZTtcbiAgICB0aGlzLm1haW5UZXh0QXJlYSA9IGUuZWRpdG9yLmdldERhdGEoKTtcbiAgICBpZiAoIXRoaXMuaGFzRWRpdGVkKSB7XG4gICAgICB0aGlzLnNhdmVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICAoYnV0dG9uIGFzIEhUTUxCdXR0b25FbGVtZW50KS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuaGFzRWRpdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTdWJtaXQoZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGluc3BpcmluZ19lZHVjYXRvcjogdGhpcy5tYWluVGV4dEFyZWEsXG4gICAgfTtcbiAgICBheGlvc0luc3RhbmNlLnBvc3QoRk9STV9VUkwsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNuYWNrQmFyLnNuYWNrQmFyVHJpZ2dlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TQVZFX0JVVFRPTikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpXG4gICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICAgICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlVQREFURV9CVVRUT04pIGFzIEhUTUxCdXR0b25FbGVtZW50KVxuICAgICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLlNBVklORyk7XG4gICAgICAgICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNBVkVfQlVUVE9OKSBhcyBIVE1MQnV0dG9uRWxlbWVudClcbiAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICAgICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVVBEQVRFX0JVVFRPTikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQpXG4gICAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IGF4aW9zSW5zdGFuY2UsIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgRk9STTogJy5qcy1mb3JtJyxcbiAgU1VCTUlUOiAnLmpzLXN1Ym1pdC0tcGFyZW50YWwtY29uc2VudC1mb3JtJyxcbiAgQ09ERV9JTlBVVDogJy5qcy1jb2RlLWlucHV0JyxcbiAgU1RVREVOVF9JTlBVVDogJy5qcy1zdHVkZW50LWlucHV0Jyxcbn07XG5cbmNvbnN0IENPTlNFTlRfVVJMID0gJy9nc2ZhcGkvbWVtYmVycy9ncmFudF9jb25zZW50JztcblxuZXhwb3J0IGNsYXNzIFBhcmVudGFsQ29uc2VudCB7XG4gIGNvcmU6IENvcmU7XG4gIGZvcm0/OiBIVE1MRm9ybUVsZW1lbnQ7XG4gIHN1Ym1pdD86IEhUTUxCdXR0b25FbGVtZW50O1xuICBjb2RlPzogSFRNTElucHV0RWxlbWVudDtcbiAgc3R1ZGVudD86IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFBhcmVudGFsQ29uc2VudCBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk0pIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICBpZiAodGhpcy5mb3JtKSB7XG4gICAgICB0aGlzLnN1Ym1pdCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TVUJNSVQpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgdGhpcy5jb2RlID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNPREVfSU5QVVQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICB0aGlzLnN0dWRlbnQgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuU1RVREVOVF9JTlBVVCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB9XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaW5pdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3VibWl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVTdWJtaXQpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVN1Ym1pdChlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmZvcm0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGNvZGU6IHRoaXMuY29kZSAmJiB0aGlzLmNvZGUudmFsdWUsXG4gICAgICBzdHVkZW50OiB0aGlzLnN0dWRlbnQgJiYgdGhpcy5zdHVkZW50LnZhbHVlLFxuICAgIH07XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KENPTlNFTlRfVVJMLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU1VCTUlUVEVEKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wYXJlbnRhbC1jb25zZW50L2FwcHJvdmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChfZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7XG4gIGF4aW9zSW5zdGFuY2UsXG4gIEFDVElPTl9DTEFTU0VTLFxuICBub2RlTGlzdFRvQXJyYXksXG59IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IEFnZVJhbmdlUmVzdHJpY3Rpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvQWdlUmFuZ2VSZXN0cmljdGlvbic7XG5pbXBvcnQgeyBTbmFja0JhciB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIEZPUk06ICcuanMtcHJvZmlsZS1mb3JtJyxcbiAgRk9STV9TVUJNSVQ6ICcuanMtZm9ybS1zdWJtaXQnLFxuICBGT1JNX1RFWFRfSU5QVVQ6ICcuZm9ybS0tdGV4dC1pbnB1dCcsXG4gIEZPUk1fUkFESU86ICcuanMtcmFkaW8tZ3JvdXAnLFxuICBGT1JNX0xFR0FMOiAnLmpzLXRlcm1zLWNvbnRhaW5lcicsXG4gIEZPUk1fRklSU1RfTkFNRTogJy5qcy1maXJzdC1uYW1lLWNvbnRhaW5lcicsXG4gIEZPUk1fTEFTVF9OQU1FOiAnLmpzLWxhc3QtbmFtZS1jb250YWluZXInLFxuICBGT1JNX0FHRV9SQU5HRTogJyNhZ2UtcmFuZ2UnLFxuICBGT1JNX0FHRV9DT05UQUlORVI6ICcuanMtYWdlLXJhbmdlLWNvbnRhaW5lcicsXG4gIEZPUk1fU1VDQ0VTUzogJy5qcy1mb3JtLXN1Y2Nlc3MnLFxuICBGT1JNX0NPVU5UUlk6ICcuanMtY291bnRyeS1pbnB1dCcsXG4gIEZPUk1fU1RBVEU6ICcuanMtc3RhdGUtaW5wdXQnLFxuICBGT1JNX0xBTkdVQUdFOiAnLmpzLWxhbmd1YWdlLWlucHV0JyxcbiAgRk9STV9URUFNX0NPREU6ICcuanMtdGVhbS1pbnB1dCcsXG4gIEZPUk1fUEhPTkVfTlVNQkVSOiAnLmpzLXBob25lLW51bWJlcicsXG4gIEZPUk1fU0NIT09MOiAnLmpzLXNjaG9vbC1jb250YWluZXInLFxuICBGT1JNX0hPTUVfU0NIT09MRUQ6ICcuanMtaG9tZS1zY2hvb2xlZCcsXG4gIEZPUk1fU0NIT09MX0NPTlRBSU5FUjogJy5qcy1zY2hvb2wtaW5mbycsXG4gIEZPUk1fU0NIT09MX05BTUU6ICcuanMtc2Nob29sLW5hbWUnLFxuICBGT1JNX1NDSE9PTF9BRERSRVNTOiAnLmpzLXNjaG9vbC1hZGRyZXNzJyxcbiAgRk9STV9TQ0hPT0xfWklQOiAnLmpzLXNjaG9vbC16aXAnLFxuICBGT1JNX1NDSE9PTF9DSVRZOiAnLmpzLXNjaG9vbC1jaXR5JyxcbiAgRk9STV9TQ0hPT0xfU1RBVEU6ICcuanMtc2Nob29sLXN0YXRlJyxcbiAgRk9STV9TQ0hPT0xfQ09VTlRSWTogJy5qcy1zY2hvb2wtY291bnRyeScsXG4gIERFTEVURV9CVVRUT046ICcuanMtZGVsZXRlLWFjY291bnQnLFxuICBQUk9GSUxFX1dJREdFVFM6ICcuanMtcHJvZmlsZS13aWRnZXQnLFxuICBTVEFUVVNfQ09NUExFVEVfSU5ESUNBVE9SOiAnLmpzLWFjY291bnQtc3RhdHVzLWNvbXBsZXRlLWluZGljYXRvcicsXG4gIFNUQVRVU19JTkNPTVBMRVRFX0lORElDQVRPUjogJy5qcy1hY2NvdW50LXN0YXR1cy1pbmNvbXBsZXRlLWluZGljYXRvcicsXG59O1xuXG5jb25zdCBQUk9GSUxFX0ZPUk1fVVJMID0gJy9hcGkvbWVtYmVycy91cGRhdGUnO1xuY29uc3QgREVMRVRFX0FDVElPTl9VUkwgPSAnL2FwaS9tZW1iZXJzL2RlbGV0ZV9tZSc7XG5sZXQgTE9HT1VUX1VSTCA9ICcnO1xuXG5leHBvcnQgY2xhc3MgUHJvZmlsZSB7XG4gIGNvcmU6IENvcmU7XG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudDtcbiAgZm9ybVN1Ym1pdDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGZvcm1TdWNjZXNzOiBIVE1MRWxlbWVudDtcbiAgY291bnRyeTogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIGZpcnN0TmFtZTogSFRNTElucHV0RWxlbWVudDtcbiAgYWdlUmFuZ2VDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBhZ2VSYW5nZVJlc3RyaWN0aW9uczogQWdlUmFuZ2VSZXN0cmljdGlvbnM7XG4gIHN0YXRlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgc3RhdGU6IEhUTUxTZWxlY3RFbGVtZW50O1xuICBzdXJuYW1lOiBIVE1MSW5wdXRFbGVtZW50O1xuICBwaG9uZU51bWJlcjogSFRNTElucHV0RWxlbWVudDtcbiAgaG9tZVNjaG9vbGVkOiBIVE1MSW5wdXRFbGVtZW50O1xuICBzY2hvb2xGb3JtOiBIVE1MRWxlbWVudDtcbiAgc2Nob29sSW5mb0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHNjaG9vbEluZm9JbnB1dHM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgc2Nob29sTmFtZTogSFRNTElucHV0RWxlbWVudDtcbiAgc2Nob29sQWRkcjE6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHNjaG9vbFBvc3RhbENvZGU6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHNjaG9vbENpdHk6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHNjaG9vbFN0YXRlOiBIVE1MSW5wdXRFbGVtZW50O1xuICBzY2hvb2xDb3VudHJ5OiBIVE1MSW5wdXRFbGVtZW50O1xuICBkZWxldGVUcmlnZ2VyOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgc25hY2tCYXI6IFNuYWNrQmFyO1xuICBzY2hvb2xWaXNpYmxlOiBib29sZWFuO1xuICBwcm9maWxlV2lkZ2V0czogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICBlcnJvcnNDbGVhcmVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogUHJvZmlsZSBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk0pIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9TVUJNSVQpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMuZm9ybVN1Y2Nlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5GT1JNX1NVQ0NFU1MpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY291bnRyeSA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5GT1JNX0NPVU5UUll9IHNlbGVjdGApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHRoaXMuc3RhdGVDb250YWluZXIgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9TVEFURSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGVDb250YWluZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fU1RBVEV9IHNlbGVjdGApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHRoaXMuZmlyc3ROYW1lID0gdGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5GT1JNX0ZJUlNUX05BTUV9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLnN1cm5hbWUgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9MQVNUX05BTUV9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLnBob25lTnVtYmVyID0gdGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5GT1JNX1BIT05FX05VTUJFUn0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2Nob29sRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk1fU0NIT09MKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmhvbWVTY2hvb2xlZCA9ICh0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fSE9NRV9TQ0hPT0xFRH0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50KTtcbiAgICB0aGlzLnNjaG9vbFZpc2libGUgPSAhdGhpcy5ob21lU2Nob29sZWQuY2hlY2tlZDtcbiAgICB0aGlzLnNjaG9vbEluZm9Db250YWluZXIgPSAodGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5GT1JNX1NDSE9PTF9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50KTtcbiAgICB0aGlzLnNjaG9vbEluZm9JbnB1dHMgPSBub2RlTGlzdFRvQXJyYXkodGhpcy5zY2hvb2xJbmZvQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpO1xuICAgIHRoaXMuc2Nob29sTmFtZSA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9TQ0hPT0xfTkFNRX0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2Nob29sQWRkcjEgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fU0NIT09MX0FERFJFU1N9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLnNjaG9vbFBvc3RhbENvZGUgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fU0NIT09MX1pJUH0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2Nob29sQ2l0eSA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9TQ0hPT0xfQ0lUWX0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2Nob29sU3RhdGUgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fU0NIT09MX1NUQVRFfSBzZWxlY3RgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2Nob29sQ291bnRyeSA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9TQ0hPT0xfQ09VTlRSWX0gc2VsZWN0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLmRlbGV0ZVRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5ERUxFVEVfQlVUVE9OKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLnByb2ZpbGVXaWRnZXRzID0gbm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLlBST0ZJTEVfV0lER0VUUykpO1xuICAgIHRoaXMuYWdlUmFuZ2VDb250YWluZXIgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9SQURJTykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5hZ2VSYW5nZVJlc3RyaWN0aW9ucyA9IG5ldyBBZ2VSYW5nZVJlc3RyaWN0aW9ucyhcbiAgICAgIHRoaXMuY291bnRyeSxcbiAgICAgIHRoaXMuYWdlUmFuZ2VDb250YWluZXIsXG4gICAgKTtcbiAgICB0aGlzLnNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKHRoaXMuY29yZSk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuZm9ybVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgICBMT0dPVVRfVVJMID0gdGhpcy5kZWxldGVUcmlnZ2VyLmRhdGFzZXQubG9nb3V0VXJsIGFzIHN0cmluZztcbiAgICB0aGlzLmRlbGV0ZVRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZURlbGV0ZSk7XG4gICAgdGhpcy5oYW5kbGVIb21lU2Nob29sQ2hhbmdlKCk7XG4gICAgdGhpcy5ob21lU2Nob29sZWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVIb21lU2Nob29sQ2hhbmdlKTtcbiAgICB0aGlzLmNvdW50cnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVDb3VudHJ5Q2hhbmdlKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpLmZvckVhY2goKGlucHV0KSA9PlxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuaGFuZGxlT25JbnB1dCkpO1xuICAgIHRoaXMuaGFuZGxlQ291bnRyeUNoYW5nZSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZU9uSW5wdXQoKSB7XG4gICAgaWYgKCF0aGlzLmVycm9yc0NsZWFyZWQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4tZXJyb3InKVxuICAgICAgICAgIC5mb3JFYWNoKChlcnJvckVsKSA9PiBlcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuRVJST1IpKTtcbiAgICAgIHRoaXMuZXJyb3JzQ2xlYXJlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUNvdW50cnlDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuY291bnRyeS52YWx1ZSA9PT0gJ1VTJykge1xuICAgICAgdGhpcy5zY2hvb2xWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3RhdGVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjaG9vbFZpc2libGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3RhdGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH1cbiAgICB0aGlzLnNldFNjaG9vbFZpc2liaWxpdHkoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZXRTY2hvb2xWaXNpYmlsaXR5KCkge1xuICAgIGlmICh0aGlzLnNjaG9vbFZpc2libGUpIHtcbiAgICAgIHRoaXMuc2Nob29sRm9ybS5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICB0aGlzLmhhbmRsZUhvbWVTY2hvb2xDaGFuZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zY2hvb2xGb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICAgIHRoaXMuaGFuZGxlSG9tZVNjaG9vbENoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVIb21lU2Nob29sQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmhvbWVTY2hvb2xlZC5jaGVja2VkKSB7XG4gICAgICB0aGlzLnNjaG9vbEluZm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjaG9vbEluZm9Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTdWJtaXQoZT86IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBlICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXQuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgIGlmICh0aGlzLmZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICBjb25zdCBzZW5kU2Nob29sID0gIXRoaXMuaG9tZVNjaG9vbGVkLmNoZWNrZWQgJiYgdGhpcy5zY2hvb2xWaXNpYmxlO1xuICAgICAgY29uc3QgcHJvZmlsZVBhcmFtcyA9IHtcbiAgICAgICAgZmlyc3RuYW1lOiB0aGlzLmZpcnN0TmFtZS52YWx1ZSxcbiAgICAgICAgc3VybmFtZTogdGhpcy5zdXJuYW1lLnZhbHVlLFxuICAgICAgICBsb2NhbGU6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nLFxuICAgICAgICBhZ2VfcmFuZ2U6IHRoaXMuYWdlUmFuZ2VSZXN0cmljdGlvbnMuYWdlUmFuZ2UgIT09ICcnID9cbiAgICAgICAgICAgIHRoaXMuYWdlUmFuZ2VSZXN0cmljdGlvbnMuYWdlUmFuZ2UgOiBudWxsLFxuICAgICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnkudmFsdWUsXG4gICAgICAgIGhvbWVfc3RhdGU6IHRoaXMuY291bnRyeS52YWx1ZSA9PT0gJ1VTJyA/IHRoaXMuc3RhdGUudmFsdWUgOiBudWxsLFxuICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMucGhvbmVOdW1iZXIudmFsdWUsXG4gICAgICAgIGhvbWVfc2Nob29sZWQ6IHRoaXMuc2Nob29sVmlzaWJsZSA/IHRoaXMuaG9tZVNjaG9vbGVkLmNoZWNrZWQgOiBudWxsLFxuICAgICAgICBzY2hvb2xfbmFtZTogc2VuZFNjaG9vbCA/IHRoaXMuc2Nob29sTmFtZS52YWx1ZSA6IG51bGwsXG4gICAgICAgIHNjaG9vbF9hZGRyMTogc2VuZFNjaG9vbCA/IHRoaXMuc2Nob29sQWRkcjEudmFsdWUgOiBudWxsLFxuICAgICAgICBzY2hvb2xfcG9zdGFsX2NvZGU6IHNlbmRTY2hvb2wgPyB0aGlzLnNjaG9vbFBvc3RhbENvZGUudmFsdWUgOiBudWxsLFxuICAgICAgICBzY2hvb2xfY2l0eTogc2VuZFNjaG9vbCA/IHRoaXMuc2Nob29sQ2l0eS52YWx1ZSA6IG51bGwsXG4gICAgICAgIHNjaG9vbF9zdGF0ZTogc2VuZFNjaG9vbCA/IHRoaXMuc2Nob29sU3RhdGUudmFsdWUgOiBudWxsLFxuICAgICAgICBzY2hvb2xfY291bnRyeTogc2VuZFNjaG9vbCA/IHRoaXMuc2Nob29sQ291bnRyeS52YWx1ZSA6IG51bGwsXG4gICAgICB9O1xuICAgICAgYXhpb3NJbnN0YW5jZS5wb3N0KFBST0ZJTEVfRk9STV9VUkwsIEpTT04uc3RyaW5naWZ5KHByb2ZpbGVQYXJhbXMpKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICB0aGlzLmZvcm1TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5pc19wcm9maWxlX2NvbXBsZXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0UHJvZmlsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRQcm9maWxlSW5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5zbmFja0JhclRyaWdnZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLmVycm9yc0NsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMgPT09ICdJbnZhbGlkIGFnZSByYW5nZSBmb3IgRVUnKSB7XG4gICAgICAgICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9BR0VfQ09OVEFJTkVSKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB0aGlzLmZvcm1TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0UHJvZmlsZUNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZmlsZVdpZGdldHMuZm9yRWFjaCgod2lkZ2V0KSA9PiB7XG4gICAgICAod2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNUQVRVU19JTkNPTVBMRVRFX0lORElDQVRPUikgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICAod2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNUQVRVU19DT01QTEVURV9JTkRJQ0FUT1IpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldFByb2ZpbGVJbmNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZmlsZVdpZGdldHMuZm9yRWFjaCgod2lkZ2V0KSA9PiB7XG4gICAgICAod2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNUQVRVU19JTkNPTVBMRVRFX0lORElDQVRPUikgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICAod2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNUQVRVU19DT01QTEVURV9JTkRJQ0FUT1IpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KERFTEVURV9BQ1RJT05fVVJMKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBlcnJvcnMgaGVyZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IExPR09VVF9VUkw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG59XG4iLCJkZWNsYXJlIHZhciBUd2Vlbk1heDogYW55O1xuaW1wb3J0IENvcmUgZnJvbSAnLi4vQ29yZSc7XG5pbXBvcnQge1xuICBBQ1RJT05fQ0xBU1NFUyxcbiAgbm9kZUxpc3RUb0FycmF5LFxuICBheGlvc0luc3RhbmNlLFxufSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IENLRWRpdCwgU3RlcE5hdiwgU25hY2tCYXIsIFN0aWNreUJhciB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIEZPUk06ICcuanMtZm9ybScsXG4gIFBST0pFQ1RfSURfSU5QVVQ6ICcuanMtcHJvamVjdC1pZCcsXG4gIFBST0pFQ1RfU0lURV9JRF9JTlBVVDogJy5qcy1wcm9qZWN0LXNpdGUtaWQnLFxuICBNQUlOX1RFWFRBUkVBOiAnLmpzLXJpY2gtdGV4dGFyZWEnLFxuICBTQVZFRDogJy5qcy1zdGF0dXMtYmFyLXNhdmVkJyxcbiAgU0FWSU5HOiAnLmpzLXN0YXR1cy1iYXItc2F2aW5nJyxcbiAgRU1QVFk6ICcuanMtc3RhdHVzLWJhci1lbXB0eScsXG4gIEVESVRFRF9IQVNIOiAnLmpzLWxhc3QtZWRpdGVkJyxcbiAgQkFEX0hBU0g6ICcuanMtYmFkLWhhc2gnLFxuICBSRUxPQURfQ1RBOiAnLmpzLXJlbG9hZC1jdGEnLFxufTtcblxuY29uc3QgRk9STV9VUkwgPSAnL2FwaS9zaXRlcy91cGRhdGUnO1xuY29uc3QgQVVUT1NBVkVfVElNRU9VVCA9IDIwMDA7XG5jb25zdCBTTkFDS0JBUl9USU1FT1VUID0gODAwMDtcblxuZXhwb3J0IGNsYXNzIFN0ZXBGb3JtIHtcbiAgY29yZTogQ29yZTtcbiAgZm9ybTogSFRNTEZvcm1FbGVtZW50O1xuICBpbnB1dHM6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgcHJvamVjdFNpdGVJZDogc3RyaW5nO1xuICBja0VkaXQ6IENLRWRpdDtcbiAgbmFtZSA9ICcnO1xuICBtYWluVGV4dEFyZWEgPSAnJztcbiAgc3RlcE5hdjogU3RlcE5hdjtcbiAgdGltZW91dDogYW55O1xuICBzYXZlZFN0YXR1czogSFRNTEVsZW1lbnQ7XG4gIHNhdmluZ1N0YXR1czogSFRNTEVsZW1lbnQ7XG4gIGVtcHR5U3RhdHVzOiBIVE1MRWxlbWVudDtcbiAgaXNGb3JtU2F2ZWQ6IGJvb2xlYW47XG4gIHNuYWNrQmFyOiBTbmFja0JhcjtcbiAgc3RpY2t5QmFyOiBTdGlja3lCYXI7XG4gIGN1cnJlbnRFZGl0SGFzaD86IHN0cmluZyB8IG51bGw7XG4gIGJhZEhhc2hXYXJuaW5nRWw6IEhUTUxFbGVtZW50O1xuICBlZGl0VGltZW91dD86IG51bWJlcjtcbiAgcmVsb2FkQ1RBOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAvKipcbiAgICogRm9ybXMgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLm5hbWUgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuTUFJTl9URVhUQVJFQSkgYXMgSFRNTEVsZW1lbnQpLmlkO1xuICAgIHRoaXMuY2tFZGl0ID0gbmV3IENLRWRpdChjb3JlLCB0aGlzLmhhbmRsZUNLRWRpdENoYW5nZSk7XG4gICAgdGhpcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STSkgYXMgSFRNTEZvcm1FbGVtZW50O1xuICAgIHRoaXMuaW5wdXRzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpKTtcbiAgICB0aGlzLnByb2plY3RTaXRlSWQgPSAoZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5QUk9KRUNUX1NJVEVfSURfSU5QVVQpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIHRoaXMuc3RlcE5hdiA9IG5ldyBTdGVwTmF2KHRoaXMuY29yZSk7XG4gICAgdGhpcy5zYXZlZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNBVkVEKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XG4gICAgdGhpcy5zYXZpbmdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TQVZJTkcpIGFzIEhUTUxTcGFuRWxlbWVudDtcbiAgICB0aGlzLmVtcHR5U3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRU1QVFkpIGFzIEhUTUxTcGFuRWxlbWVudDtcbiAgICBjb25zdCBlZGl0SGFzaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRURJVEVEX0hBU0gpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5iYWRIYXNoV2FybmluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQkFEX0hBU0gpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMucmVsb2FkQ1RBID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUkVMT0FEX0NUQSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgaWYgKGVkaXRIYXNoSW5wdXQgJiYgZWRpdEhhc2hJbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHRoaXMuY3VycmVudEVkaXRIYXNoID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGVkaXRIYXNoSW5wdXQpIHtcbiAgICAgIHRoaXMuY3VycmVudEVkaXRIYXNoID0gZWRpdEhhc2hJbnB1dC52YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzRm9ybVNhdmVkID0gdHJ1ZTtcbiAgICB0aGlzLnNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKHRoaXMuY29yZSk7XG4gICAgdGhpcy5zdGlja3lCYXIgPSBuZXcgU3RpY2t5QmFyKHRydWUpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5tYWluVGV4dEFyZWEgPSBDS0VESVRPUi5pbnN0YW5jZXNbdGhpcy5uYW1lXSAmJiBDS0VESVRPUi5pbnN0YW5jZXNbdGhpcy5uYW1lXS5nZXREYXRhKCk7XG4gICAgdGhpcy5yZWxvYWRDVEEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVJlbG9hZENUQSk7XG4gICAgQ0tFRElUT1Iub24oJ2luc3RhbmNlUmVhZHknLCAoIGV2ICkgPT4ge1xuICAgICAgZXYuZWRpdG9yLm9uKCdmb2N1cycsIHRoaXMuY2hlY2tMYXN0RWRpdGVkKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5oYW5kbGVCZWZvcmVVbmxvYWQpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGNoZWNrTGFzdEVkaXRlZCgpIHtcbiAgICBjb25zdCBwcm9qZWN0VXJsID0gYC9hcGkvc2l0ZXMvZ2V0P2hhc2hvbmx5PSR7dGhpcy5uYW1lfWA7XG4gICAgYXhpb3NJbnN0YW5jZS5nZXQocHJvamVjdFVybCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSByZXNwb25zZS5kYXRhLnJlcGxhY2UoL15cXCldfScsLywgJycpO1xuICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZShzYW5pdGl6ZWREYXRhKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBqc29uUmVzcG9uc2VbYCR7dGhpcy5uYW1lfV9oYXNoYF07XG4gICAgICBpZiAoaGFzaCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaGFzaCAhPT0gdGhpcy5jdXJyZW50RWRpdEhhc2gpIHtcbiAgICAgICAgLy8gVGhpcyBtZWFucyBzb21lb25lIGVsc2UgaGFzIGVkaXRlZCB0aGUgcHJvamVjdCBhbmQgd2UgbmVlZCB0byB0dXJuIGl0XG4gICAgICAgIC8vIHRvIHJlYWQgb25seSBhbmQgc2hvdyBhIHdhcm5pbmdcbiAgICAgICAgdGhpcy5ja0VkaXQuZWRpdG9yICYmIHRoaXMuY2tFZGl0LmVkaXRvci5zZXRSZWFkT25seSgpO1xuICAgICAgICB0aGlzLmJhZEhhc2hXYXJuaW5nRWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgICBUd2Vlbk1heC50byh3aW5kb3csIDEsIHtcbiAgICAgICAgICBzY3JvbGxUbzoge1xuICAgICAgICAgICAgeTogd2luZG93LnNjcm9sbFkgKyB0aGlzLmJhZEhhc2hXYXJuaW5nRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gODUsXG4gICAgICAgICAgICBhdXRvS2lsbDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQ0tFZGl0Q2hhbmdlKGU6IENLRURJVE9SLmV2ZW50SW5mbykge1xuICAgIHRoaXMubmFtZSA9IGUuZWRpdG9yLm5hbWU7XG4gICAgdGhpcy5tYWluVGV4dEFyZWEgPSBlLmVkaXRvci5nZXREYXRhKCk7XG4gICAgdGhpcy5jaGVja0F1dG9TYXZlKCk7XG4gICAgdGhpcy5lbXB0eVN0YXR1cy5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgdGhpcy5zYXZlZFN0YXR1cy5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgdGhpcy5zYXZpbmdTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUJlZm9yZVVubG9hZChlOiBCZWZvcmVVbmxvYWRFdmVudCkge1xuICAgIGlmICghdGhpcy5pc0Zvcm1TYXZlZCkge1xuICAgICAgLy8gTW9zdCBicm93c2Vycy5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIENocm9tZS9DaHJvbWl1bSBiYXNlZCBicm93c2VycyBzdGlsbCBuZWVkIGEgc3RyaW5nLCBidXQgd29uJ3QgYmUgdmlzaWJsZS5cbiAgICAgIGUucmV0dXJuVmFsdWUgPSAnR1NGMjAxOCc7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlbG9hZENUQShlOiBFdmVudCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjaGVja0F1dG9TYXZlKCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuaXNGb3JtU2F2ZWQgPSBmYWxzZTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7XG4gICAgfSwgQVVUT1NBVkVfVElNRU9VVCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3VibWl0KCk6IHZvaWQge1xuICAgIHRoaXMuZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGlkOiB0aGlzLnByb2plY3RTaXRlSWQsXG4gICAgICBbdGhpcy5uYW1lXTogdGhpcy5tYWluVGV4dEFyZWEsXG4gICAgICBbYCR7dGhpcy5uYW1lfV9oYXNoYF06IHRoaXMuY3VycmVudEVkaXRIYXNoLFxuICAgIH07XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KEZPUk1fVVJMLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgIHRoaXMuY2hlY2tMYXN0RWRpdGVkKCk7XG4gICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNVQk1JVFRFRCk7XG4gICAgICAgICAgdGhpcy5zYXZpbmdTdGF0dXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgICAgIC8vIFNldCBiYWNrIHRvIEVNUFRZIGlmIHRleHRhcmVhIHdhcyBjbGVhcmVkXG4gICAgICAgICAgaWYgKHRoaXMubWFpblRleHRBcmVhID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZWRTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmlzRm9ybVNhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAvLyBSZXNldCBuZXcgaGFzaFxuICAgICAgICAgIHRoaXMuY3VycmVudEVkaXRIYXNoID0gcmVzcG9uc2UuZGF0YVtgJHt0aGlzLm5hbWV9X2hhc2hgXTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgLy8gQ2F0Y2ggbmV0d29yayBlcnJvclxuICAgICAgICB0aGlzLmNoZWNrTGFzdEVkaXRlZCgpO1xuICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzLnN0YXJ0c1dpdGgoJ0VkaXQgY29sbGlzaW9uJykpIHtcbiAgICAgICAgICB0aGlzLnNuYWNrQmFyLnNuYWNrQmFyVHJpZ2dlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTTkFDS0JBUl9USU1FT1VUKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICB9KTtcbiAgfVxufVxuIiwiZGVjbGFyZSB2YXIgVHdlZW5NYXg6IGFueTtcbmltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IHtcbiAgQUNUSU9OX0NMQVNTRVMsXG4gIGF4aW9zSW5zdGFuY2UsXG4gIG5vZGVMaXN0VG9BcnJheSxcbn0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBDS0VkaXQsIFN0ZXBOYXYsIFNuYWNrQmFyLCBTdGlja3lCYXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBGT1JNOiAnLmpzLWZvcm0nLFxuICBQUk9KRUNUX0lEX0lOUFVUOiAnLmpzLXByb2plY3QtaWQnLFxuICBQUk9KRUNUX1NJVEVfSURfSU5QVVQ6ICcuanMtcHJvamVjdC1zaXRlLWlkJyxcbiAgTUFJTl9URVhUQVJFQTogJy5qcy1tYWluLXRleHRhcmVhJyxcbiAgUFJPSkVDVF9OQU1FOiAnLmpzLXByb2plY3QtbmFtZScsXG4gIFBST0pFQ1RfQ0FURUdPUlk6ICcuanMtbWFpbi1jYXRlZ29yeScsXG4gIEZPUk1fU1VCX0NBVEVHT1JZOiAnLmpzLXNlY29uZGFyeS1jYXRlZ29yeScsXG4gIFBST0pFQ1RfU1VCX0NBVEVHT1JJRVM6ICcuanMtc3ViLWNhdGVnb3JpZXMnLFxuICBQUk9KRUNUX0RFU0NSSVBUSU9OOiAnLmpzLWRlc2NyaXB0aW9uJyxcbiAgU0FWRUQ6ICcuanMtc3RhdHVzLWJhci1zYXZlZCcsXG4gIFNBVklORzogJy5qcy1zdGF0dXMtYmFyLXNhdmluZycsXG4gIEVNUFRZOiAnLmpzLXN0YXR1cy1iYXItZW1wdHknLFxuICBJTkNPTVBMRVRFOiAnLmpzLXN0YXR1cy1iYXItaW5jb21wbGV0ZScsXG4gIEVESVRFRF9IQVNIOiAnLmpzLWxhc3QtZWRpdGVkJyxcbiAgQkFEX0hBU0g6ICcuanMtYmFkLWhhc2gnLFxuICBSRUxPQURfQ1RBOiAnLmpzLXJlbG9hZC1jdGEnLFxufTtcblxuY29uc3QgU0lURVNfRk9STV9VUkwgPSAnL2FwaS9zaXRlcy91cGRhdGUnO1xuY29uc3QgUFJPSkVDVF9GT1JNX1VSTCA9ICcvYXBpL3Byb2plY3RzL3VwZGF0ZSc7XG5jb25zdCBBVVRPU0FWRV9USU1FT1VUID0gMjAwMDtcblxuZXhwb3J0IGNsYXNzIFN0ZXBTdW1tYXJ5Rm9ybSB7XG4gIGNvcmU6IENvcmU7XG4gIGNrRWRpdDogQ0tFZGl0O1xuICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XG4gIHByb2plY3RTaXRlSWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBIVE1MU2VsZWN0RWxlbWVudDtcbiAgc3ViQ2F0ZWdvcnlGb3JtOiBIVE1MRWxlbWVudDtcbiAgc3ViQ2F0ZWdvcmllczogQXJyYXk8SFRNTElucHV0RWxlbWVudD47XG4gIHN0ZXBOYXY6IFN0ZXBOYXY7XG4gIHN1bW1hcnkgPSAnJztcbiAgbmFtZSA9ICcnO1xuICBkZXNjcmlwdGlvbiA9ICcnO1xuICB0aW1lb3V0OiBhbnk7XG4gIHNhdmVkU3RhdHVzOiBIVE1MRWxlbWVudDtcbiAgc2F2aW5nU3RhdHVzOiBIVE1MRWxlbWVudDtcbiAgZW1wdHlTdGF0dXM6IEhUTUxFbGVtZW50O1xuICBpbmNvbXBsZXRlU3RhdHVzOiBIVE1MRWxlbWVudDtcbiAgc3ViQ2F0ZWdvcmllc0NoZWNrZWQ6IG51bWJlcjtcbiAgaXNGb3JtU2F2ZWQ6IGJvb2xlYW47XG4gIHNuYWNrQmFyOiBTbmFja0JhcjtcbiAgc3RpY2t5QmFyOiBTdGlja3lCYXI7XG4gIGlzU2l0ZXNQb3N0U3VjY2VzczogYm9vbGVhbjtcbiAgaXNQcm9qZWN0UG9zdFN1Y2Nlc3M6IGJvb2xlYW47XG4gIGN1cnJlbnRFZGl0SGFzaD86IHN0cmluZyB8IG51bGw7XG4gIGJhZEhhc2hXYXJuaW5nRWw6IEhUTUxFbGVtZW50O1xuICBlZGl0VGltZW91dD86IG51bWJlcjtcbiAgcmVsb2FkQ1RBOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAvKipcbiAgICogRm9ybXMgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLmNrRWRpdCA9IG5ldyBDS0VkaXQoY29yZSwgdGhpcy5oYW5kbGVDS0VkaXRDaGFuZ2UpO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk0pIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICB0aGlzLnByb2plY3RTaXRlSWQgPSAoZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlBST0pFQ1RfU0lURV9JRF9JTlBVVCkgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgdGhpcy5wcm9qZWN0SWQgPSAoZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlBST0pFQ1RfSURfSU5QVVQpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUFJPSkVDVF9DQVRFR09SWSkgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgdGhpcy5zdWJDYXRlZ29yaWVzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICBTRUxFQ1RPUlMuUFJPSkVDVF9TVUJfQ0FURUdPUklFUykpIGFzIEFycmF5PEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgIHRoaXMuc3ViQ2F0ZWdvcnlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9TVUJfQ0FURUdPUlkpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc3RlcE5hdiA9IG5ldyBTdGVwTmF2KHRoaXMuY29yZSk7XG4gICAgdGhpcy5zYXZlZFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNBVkVEKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XG4gICAgdGhpcy5zYXZpbmdTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TQVZJTkcpIGFzIEhUTUxTcGFuRWxlbWVudDtcbiAgICB0aGlzLmVtcHR5U3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRU1QVFkpIGFzIEhUTUxTcGFuRWxlbWVudDtcbiAgICB0aGlzLmluY29tcGxldGVTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5JTkNPTVBMRVRFKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XG4gICAgY29uc3QgZWRpdEhhc2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkVESVRFRF9IQVNIKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuYmFkSGFzaFdhcm5pbmdFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkJBRF9IQVNIKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnJlbG9hZENUQSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlJFTE9BRF9DVEEpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGlmIChlZGl0SGFzaElucHV0ICYmIGVkaXRIYXNoSW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLmN1cnJlbnRFZGl0SGFzaCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChlZGl0SGFzaElucHV0KSB7XG4gICAgICB0aGlzLmN1cnJlbnRFZGl0SGFzaCA9IGVkaXRIYXNoSW5wdXQudmFsdWU7XG4gICAgfVxuICAgIHRoaXMuc3ViQ2F0ZWdvcmllc0NoZWNrZWQgPSAwO1xuICAgIHRoaXMuaXNTaXRlc1Bvc3RTdWNjZXNzID0gdHJ1ZTtcbiAgICB0aGlzLmlzUHJvamVjdFBvc3RTdWNjZXNzID0gdHJ1ZTtcbiAgICB0aGlzLmlzRm9ybVNhdmVkID0gdGhpcy5pc1NpdGVzUG9zdFN1Y2Nlc3MgJiYgdGhpcy5pc1Byb2plY3RQb3N0U3VjY2VzcztcbiAgICB0aGlzLnNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKHRoaXMuY29yZSk7XG4gICAgdGhpcy5zdGlja3lCYXIgPSBuZXcgU3RpY2t5QmFyKHRydWUpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IENLRURJVE9SLmluc3RhbmNlcy5kZXNjcmlwdGlvbiAmJiBDS0VESVRPUi5pbnN0YW5jZXMuZGVzY3JpcHRpb24uZ2V0RGF0YSgpO1xuICAgIHRoaXMubmFtZSA9IENLRURJVE9SLmluc3RhbmNlcy5wcm9qZWN0X25hbWUgJiYgQ0tFRElUT1IuaW5zdGFuY2VzLnByb2plY3RfbmFtZS5nZXREYXRhKCk7XG4gICAgdGhpcy5zdW1tYXJ5ID0gQ0tFRElUT1IuaW5zdGFuY2VzLnN1bW1hcnkgJiYgQ0tFRElUT1IuaW5zdGFuY2VzLnN1bW1hcnkuZ2V0RGF0YSgpO1xuICAgIGlmICh0aGlzLmNhdGVnb3J5LnZhbHVlKSB7XG4gICAgICB0aGlzLnN1YkNhdGVnb3J5Rm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgfVxuICAgIHRoaXMuY2F0ZWdvcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVDYXRlZ29yeUNoYW5nZSk7XG4gICAgZm9yIChsZXQgc3ViQ2F0ZWdvcnkgb2YgdGhpcy5zdWJDYXRlZ29yaWVzKSB7XG4gICAgICBzdWJDYXRlZ29yeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVNlY29uZGFyeUNhdGVnb3J5Q2hhbmdlKTtcbiAgICB9XG4gICAgdGhpcy5zdWJDYXRlZ29yaWVzQ2hlY2tlZCA9IHRoaXMuc3ViQ2F0ZWdvcmllcy5maWx0ZXIoKGMpID0+IGMuY2hlY2tlZCkubGVuZ3RoO1xuICAgIHRoaXMucmVtb3ZlU3ViQ2F0ZWdvcnlGcm9tTGlzdCgpO1xuICAgIHRoaXMuZGlzYWJsZVN1YkNhdGVnb3JpZXMoKTtcbiAgICB0aGlzLnJlbG9hZENUQS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUmVsb2FkQ1RBKTtcbiAgICBDS0VESVRPUi5vbignaW5zdGFuY2VSZWFkeScsICggZXYgKSA9PiB7XG4gICAgICBldi5lZGl0b3Iub24oJ2ZvY3VzJywgdGhpcy5jaGVja0xhc3RFZGl0ZWQpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgY2hlY2tMYXN0RWRpdGVkKCkge1xuICAgIGNvbnN0IHByb2plY3RVcmwgPSBgL2FwaS9zaXRlcy9nZXQ/aGFzaG9ubHk9c3VtbWFyeWA7XG4gICAgYXhpb3NJbnN0YW5jZS5nZXQocHJvamVjdFVybCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSByZXNwb25zZS5kYXRhLnJlcGxhY2UoL15cXCldfScsLywgJycpO1xuICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZShzYW5pdGl6ZWREYXRhKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBqc29uUmVzcG9uc2VbYCR7dGhpcy5uYW1lfV9oYXNoYF07XG4gICAgICBpZiAoaGFzaCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaGFzaCAhPT0gdGhpcy5jdXJyZW50RWRpdEhhc2gpIHtcbiAgICAgICAgLy8gVGhpcyBtZWFucyBzb21lb25lIGVsc2UgaGFzIGVkaXRlZCB0aGUgcHJvamVjdCBhbmQgd2UgbmVlZCB0byB0dXJuIGl0XG4gICAgICAgIC8vIHRvIHJlYWQgb25seSBhbmQgc2hvdyBhIHdhcm5pbmdcbiAgICAgICAgdGhpcy5ja0VkaXQuZWRpdG9yICYmIHRoaXMuY2tFZGl0LmVkaXRvci5zZXRSZWFkT25seSgpO1xuICAgICAgICB0aGlzLmJhZEhhc2hXYXJuaW5nRWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgICBUd2Vlbk1heC50byh3aW5kb3csIDEsIHtcbiAgICAgICAgICBzY3JvbGxUbzoge1xuICAgICAgICAgICAgeTogd2luZG93LnNjcm9sbFkgKyB0aGlzLmJhZEhhc2hXYXJuaW5nRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gODUsXG4gICAgICAgICAgICBhdXRvS2lsbDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQ0tFZGl0Q2hhbmdlKGU6IENLRURJVE9SLmV2ZW50SW5mbyApIHtcbiAgICBjb25zdCBkYXRhID0gZS5lZGl0b3IuZ2V0RGF0YSgpO1xuICAgIGNvbnN0IG5hbWUgPSBlLmVkaXRvci5uYW1lO1xuICAgIHRoaXMuY2hlY2tBdXRvU2F2ZSgpO1xuICAgIHRoaXMuZW1wdHlTdGF0dXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIHRoaXMuc2F2ZWRTdGF0dXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIHRoaXMuc2F2aW5nU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB0aGlzLmluY29tcGxldGVTdGF0dXMuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAncHJvamVjdF9uYW1lJzpcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZXNjcmlwdGlvbic6XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgICB0aGlzLnN1bW1hcnkgPSBkYXRhO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlUmVsb2FkQ1RBKGU6IEV2ZW50KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUJlZm9yZVVubG9hZChlOiBCZWZvcmVVbmxvYWRFdmVudCkge1xuICAgIGlmICghdGhpcy5pc0Zvcm1TYXZlZCkge1xuICAgICAgLy8gTW9zdCBicm93c2Vycy5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIENocm9tZS9DaHJvbWl1bSBiYXNlZCBicm93c2VycyBzdGlsbCBuZWVkIGEgc3RyaW5nLCBidXQgd29uJ3QgYmUgdmlzaWJsZS5cbiAgICAgIGUucmV0dXJuVmFsdWUgPSAnR1NGMjAxOCc7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUNhdGVnb3J5Q2hhbmdlKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMuc3ViQ2F0ZWdvcnlGb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuQUNUSVZFKTtcbiAgICB0aGlzLnJlbW92ZVN1YkNhdGVnb3J5RnJvbUxpc3QoKTtcbiAgICB0aGlzLmNoZWNrQXV0b1NhdmUoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTZWNvbmRhcnlDYXRlZ29yeUNoYW5nZShldmVudDogRXZlbnQpIHtcbiAgICB0aGlzLnN1YkNhdGVnb3JpZXNDaGVja2VkID0gdGhpcy5zdWJDYXRlZ29yaWVzLmZpbHRlcigoYykgPT4gYy5jaGVja2VkKS5sZW5ndGg7XG4gICAgbGV0IGNhdGVnb3J5ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY2F0ZWdvcnkuY2hlY2tlZCA/IHRoaXMuZGlzYWJsZVN1YkNhdGVnb3JpZXMoKSA6IHRoaXMuZW5hYmxlU3ViQ2F0ZWdvcmllcygpO1xuICAgIHRoaXMuY2hlY2tBdXRvU2F2ZSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGRpc2FibGVTdWJDYXRlZ29yaWVzKCkge1xuICAgIGlmICh0aGlzLnN1YkNhdGVnb3JpZXNDaGVja2VkID09PSAyKSB7XG4gICAgICBmb3IgKGxldCBzdWJDYXRlZ29yeSBvZiB0aGlzLnN1YkNhdGVnb3JpZXMpIHtcbiAgICAgICAgaWYgKCFzdWJDYXRlZ29yeS5jaGVja2VkKSB7XG4gICAgICAgICAgc3ViQ2F0ZWdvcnkuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGVuYWJsZVN1YkNhdGVnb3JpZXMoKSB7XG4gICAgZm9yIChsZXQgc3ViQ2F0ZWdvcnkgb2YgdGhpcy5zdWJDYXRlZ29yaWVzKSB7XG4gICAgICBzdWJDYXRlZ29yeS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmRpc2FibGVTdWJDYXRlZ29yaWVzKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgcmVtb3ZlU3ViQ2F0ZWdvcnlGcm9tTGlzdCgpIHtcbiAgICBmb3IgKGxldCBzdWJDYXRlZ29yeSBvZiB0aGlzLnN1YkNhdGVnb3JpZXMpIHtcbiAgICAgIGNvbnN0IHBhcmVudERpdiA9IHN1YkNhdGVnb3J5LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoc3ViQ2F0ZWdvcnkudmFsdWUgPT09IHRoaXMuY2F0ZWdvcnkudmFsdWUpIHtcbiAgICAgICAgcGFyZW50RGl2LmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICAgICAgaWYgKHN1YkNhdGVnb3J5LmNoZWNrZWQpIHtcbiAgICAgICAgICBzdWJDYXRlZ29yeS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudERpdi5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3ViQ2F0ZWdvcmllc0NoZWNrZWQgPSB0aGlzLnN1YkNhdGVnb3JpZXMuZmlsdGVyKChjKSA9PiBjLmNoZWNrZWQpLmxlbmd0aDtcbiAgICB0aGlzLmVuYWJsZVN1YkNhdGVnb3JpZXMoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjaGVja0F1dG9TYXZlKCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuaXNGb3JtU2F2ZWQgPSBmYWxzZTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7XG4gICAgfSwgQVVUT1NBVkVfVElNRU9VVCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgY2hlY2tTdGF0dXMocHJvamVjdFBhcmFtczogYW55LCBzaXRlc1BhcmFtczogYW55KSB7XG4gICAgaWYgKHRoaXMuaXNGb3JtU2F2ZWQpIHtcbiAgICAgIHRoaXMuc2F2aW5nU3RhdHVzLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICAgIGlmIChwcm9qZWN0UGFyYW1zLnByb2plY3RfbmFtZSAmJiBwcm9qZWN0UGFyYW1zLmRlc2NyaXB0aW9uICYmXG4gICAgICAgIHByb2plY3RQYXJhbXMubWFpbl9jYXRlZ29yeSAmJiBzaXRlc1BhcmFtcy5zdW1tYXJ5KSB7XG4gICAgICAgIHRoaXMuc2F2ZWRTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pOyAvLyBDT01QTEVURSArIFNBVkVEXG4gICAgICB9IGVsc2UgaWYgKCFwcm9qZWN0UGFyYW1zLnByb2plY3RfbmFtZSB8fCAhcHJvamVjdFBhcmFtcy5kZXNjcmlwdGlvbiB8fFxuICAgICAgICAhcHJvamVjdFBhcmFtcy5tYWluX2NhdGVnb3J5IHx8ICFzaXRlc1BhcmFtcy5zdW1tYXJ5KSB7XG4gICAgICAgIHRoaXMuaW5jb21wbGV0ZVN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7IC8vIElOQ09NUExFVEVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1wdHlTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pOyAvLyBFTVBUWVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBhc3luYyBzZW5kUHJvamVjdERhdGEocHJvamVjdFBhcmFtczogYW55KSB7XG4gICAgcmV0dXJuIGF4aW9zSW5zdGFuY2UucG9zdChQUk9KRUNUX0ZPUk1fVVJMLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0UGFyYW1zKSlcbiAgICAgIC50aGVuKChwcm9qZWN0UmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHByb2plY3RSZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgIHRoaXMuY2hlY2tMYXN0RWRpdGVkKCk7XG4gICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIHRoaXMuaXNQcm9qZWN0UG9zdFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU1VCTUlUVEVEKTtcbiAgICAgICAgICB0aGlzLmlzUHJvamVjdFBvc3RTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja0xhc3RFZGl0ZWQoKTtcbiAgICAgICAgLy8gQ2F0Y2ggbmV0d29yayBlcnJvclxuICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzLnN0YXJ0c1dpdGgoJ0VkaXQgY29sbGlzaW9uJykpIHtcbiAgICAgICAgICB0aGlzLnNuYWNrQmFyLnNuYWNrQmFyVHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgdGhpcy5pc1Byb2plY3RQb3N0U3VjY2VzcyA9IGZhbHNlO1xuICAgICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgYXN5bmMgc2VuZFNpdGVEYXRhKHNpdGVzUGFyYW1zOiBhbnkpIHtcbiAgICByZXR1cm4gYXhpb3NJbnN0YW5jZS5wb3N0KFNJVEVTX0ZPUk1fVVJMLCBKU09OLnN0cmluZ2lmeShzaXRlc1BhcmFtcykpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7XG4gICAgICAgICAgdGhpcy5jaGVja0xhc3RFZGl0ZWQoKTtcbiAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgdGhpcy5pc1NpdGVzUG9zdFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU1VCTUlUVEVEKTtcbiAgICAgICAgICB0aGlzLmlzU2l0ZXNQb3N0U3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIHRoaXMuY2hlY2tMYXN0RWRpdGVkKCk7XG4gICAgICAgIC8vIENhdGNoIG5ldHdvcmsgZXJyb3JcbiAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycy5zdGFydHNXaXRoKCdFZGl0IGNvbGxpc2lvbicpKSB7XG4gICAgICAgICAgdGhpcy5zbmFja0Jhci5zbmFja0JhclRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgIHRoaXMuaXNTaXRlc1Bvc3RTdWNjZXNzID0gZmFsc2U7XG4gICAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBhc3luYyBoYW5kbGVTdWJtaXQoKSB7XG4gICAgdGhpcy5lbXB0eVN0YXR1cy5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgdGhpcy5zYXZlZFN0YXR1cy5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgdGhpcy5pbmNvbXBsZXRlU3RhdHVzLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB0aGlzLnNhdmluZ1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgY29uc3Qgc2l0ZXNQYXJhbXMgPSB7XG4gICAgICBpZDogdGhpcy5wcm9qZWN0U2l0ZUlkLFxuICAgICAgc3VtbWFyeTogdGhpcy5zdW1tYXJ5LFxuICAgICAgc3VtbWFyeV9oYXNoOiB0aGlzLmN1cnJlbnRFZGl0SGFzaCxcbiAgICB9O1xuICAgIGNvbnN0IHN1YkNhdFZhbHVlcyA9IHRoaXMuc3ViQ2F0ZWdvcmllcy5yZWR1Y2UoKGFjYywgY3VyOiBhbnkpID0+IHtcbiAgICAgIGlmIChjdXIuY2hlY2tlZCkge1xuICAgICAgICByZXR1cm4gWy4uLmFjYywgY3VyLnZhbHVlXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10gYXMgQXJyYXk8c3RyaW5nPik7XG4gICAgY29uc3QgcHJvamVjdFBhcmFtcyA9IHtcbiAgICAgIGlkOiB0aGlzLnByb2plY3RJZCxcbiAgICAgIHByb2plY3RfbmFtZTogdGhpcy5uYW1lLnRyaW0oKSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLnRyaW0oKSxcbiAgICAgIG1haW5fY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnkudmFsdWUsXG4gICAgICBzZWNvbmRhcnlfY2F0ZWdvcmllczogc3ViQ2F0VmFsdWVzLFxuICAgIH07XG4gICAgYXdhaXQgdGhpcy5zZW5kUHJvamVjdERhdGEocHJvamVjdFBhcmFtcyk7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2l0ZURhdGEoc2l0ZXNQYXJhbXMpO1xuICAgIHRoaXMuaXNGb3JtU2F2ZWQgPSB0aGlzLmlzUHJvamVjdFBvc3RTdWNjZXNzICYmIHRoaXMuaXNTaXRlc1Bvc3RTdWNjZXNzO1xuICAgIHRoaXMuY2hlY2tTdGF0dXMocHJvamVjdFBhcmFtcywgc2l0ZXNQYXJhbXMpO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSwgYXhpb3NJbnN0YW5jZSwgQUNUSU9OX0NMQVNTRVMgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCBDbGlwYm9hcmRKUyA9IHJlcXVpcmUoJ2NsaXBib2FyZCcpO1xuaW1wb3J0IHsgU25hY2tCYXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBDQU5DRUxfSU5WSVRFOiAnLmpzLWNhbmNlbC1pbnZpdGUnLFxuICBDQU5DRUxfU05BQ0tCQVI6ICcuanMtY2FuY2VsLXNuYWNrYmFyJyxcbiAgQ09QWV9TTkFDS0JBUjogJy5qcy1jb3B5LXNuYWNrYmFyJyxcbiAgU0FWRURfU05BQ0tCQVI6ICcuanMtc2F2ZWQtc25hY2tiYXInLFxuICBDT1BZX1RFQU1fQ09ERTogJy5qcy1jb3B5LXRlYW0tY29kZScsXG4gIFRFQU1fQ09ERV9DT05UQUlORVJTOiAnLmpzLXRlYW0taW52aXRlLWNvbnRhaW5lcicsXG4gIENSRUFURV9URUFNX0NPTlRBSU5FUjogJy5qcy1jcmVhdGUtdGVhbS1jb250YWluZXInLFxuICBDUkVBVEVfVEVBTTogJy5qcy1jcmVhdGUtdGVhbScsXG4gIEZPUk06ICcuanMtZm9ybScsXG4gIElOVklURV9DT05UQUlORVI6ICcuanMtaW52aXRlLWNvbnRhaW5lcicsXG4gIElOVklURV9TRU5UX0NPTlRBSU5FUjogJy5qcy1pbnZpdGUtc2VudC1jb250YWluZXInLFxuICBURUFNX0NPREVfRElTUExBWTogJy5qcy10ZWFtLWNvZGUtZGlzcGxheScsXG4gIEpPSU5fVEVBTV9DT05UQUlORVI6ICcuanMtdGVhbS1jb2RlLWNvbnRhaW5lcicsXG4gIEpPSU5fVEVBTTogJy5qcy1qb2luLXRlYW0nLFxuICBMRUFWRV9URUFNOiAnLmpzLWxlYXZlLW1vZGFsLWNvbnRhaW5lcicsXG4gIFBST0pFQ1RfSURfSU5QVVQ6ICcuanMtcHJvamVjdC1pZCcsXG4gIFJFX1NFTkRfSU5WSVRFOiAnLmpzLXJlLXNlbmQtaW52aXRlJyxcbiAgUkVNT1ZFX0NPTlRBSU5FUlM6ICcuanMtcmVtb3ZlLW1vZGFsLWNvbnRhaW5lcicsXG4gIFVQREFURV9URUFNX0NPTlRBSU5URVI6ICcuanMtdXBkYXRlLXRlYW0tY29kZS1jb250YWluZXInLFxuICBVUERBVEVfVEVBTV9OQU1FOiAnLmpzLXN1Ym1pdC0tdGVhbS1mb3JtJyxcbn07XG5jb25zdCBTTkFDS0JBUl9ERUxBWSA9IDUwMDA7XG5jb25zdCBKT0lOX1VSTCA9ICcvYXBpL21lbWJlcnMvam9pbl90ZWFtJztcbmNvbnN0IENSRUFURV9VUkwgPSAnL2FwaS9wcm9qZWN0cy91cGRhdGUnO1xuY29uc3QgSU5WSVRFX1VSTCA9ICcvYXBpL3Byb2plY3RzL2ludml0ZSc7XG5jb25zdCBDQU5DRUxfVVJMID0gJy9hcGkvcHJvamVjdHMvcmVtb3ZlJztcbmNvbnN0IFBST0pFQ1RfVVJMID0gJy9hcGkvcHJvamVjdHMvZ2V0JztcblxuZXhwb3J0IGNsYXNzIFRlYW1Gb3JtIHtcbiAgc25hY2tCYXI6IFNuYWNrQmFyO1xuICBjYW5jZWxTbmFja0JhcjogU25hY2tCYXI7XG4gIHNhdmVkU25hY2tCYXI6IFNuYWNrQmFyO1xuICBjbGlwQm9hcmQ/OiBDbGlwYm9hcmRKUztcbiAgY29yZTogQ29yZTtcbiAgY3JlYXRlVGVhbUJ1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xuICBjcmVhdGVUZWFtSW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xuICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XG4gIGlucHV0czogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICBpbnZpdGVDb250YWluZXI/OiBBcnJheTxIVE1MRWxlbWVudD47XG4gIGludml0ZVNlbnRDb250YWluZXI/OiBBcnJheTxIVE1MRWxlbWVudD47XG4gIGpvaW5UZWFtQnV0dG9uPzogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGpvaW5UZWFtSW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xuICBsZWF2ZVRlYW0/OiBIVE1MRWxlbWVudDtcbiAgb3JpZ2luYWxUZWFtTmFtZT86IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHJlbW92ZU1lbWJlcnM/OiBBcnJheTxIVE1MRWxlbWVudD47XG4gIHRlYW1Db2RlQ29udGFpbmVycz86IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgdGVhbUNvZGVCdXR0b25zPzogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICB1cGRhdGVUZWFtQnV0dG9uPzogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHVwZGF0ZVRlYW1JbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEZvcm1zIGNvbnN0cnVjdG9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgdGhpcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STSkgYXMgSFRNTEZvcm1FbGVtZW50O1xuICAgIHRoaXMucHJvamVjdElkID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlBST0pFQ1RfSURfSU5QVVQpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIHRoaXMuaW5wdXRzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpKTtcbiAgICB0aGlzLmpvaW5UZWFtSW5wdXQgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkpPSU5fVEVBTV9DT05UQUlORVJ9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLmpvaW5UZWFtQnV0dG9uID0gdGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5KT0lOX1RFQU0pIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMuY3JlYXRlVGVhbUlucHV0ID0gdGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5DUkVBVEVfVEVBTV9DT05UQUlORVJ9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLmNyZWF0ZVRlYW1CdXR0b24gPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNSRUFURV9URUFNKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLnVwZGF0ZVRlYW1JbnB1dCA9ICh0aGlzLmZvcm1cbiAgICAgIC5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5VUERBVEVfVEVBTV9DT05UQUlOVEVSfSBpbnB1dGApIGFzIEhUTUxJbnB1dEVsZW1lbnQpO1xuICAgIHRoaXMudXBkYXRlVGVhbUJ1dHRvbiA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVVBEQVRFX1RFQU1fTkFNRSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy50ZWFtQ29kZUNvbnRhaW5lcnMgPSBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuVEVBTV9DT0RFX0NPTlRBSU5FUlMpKTtcbiAgICB0aGlzLm9yaWdpbmFsVGVhbU5hbWUgPSB0aGlzLnVwZGF0ZVRlYW1JbnB1dCAmJiB0aGlzLnVwZGF0ZVRlYW1JbnB1dC52YWx1ZTtcbiAgICB0aGlzLmxlYXZlVGVhbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkxFQVZFX1RFQU0pIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMucmVtb3ZlTWVtYmVycyA9IG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SUy5SRU1PVkVfQ09OVEFJTkVSUykpO1xuICAgIHRoaXMuaW52aXRlQ29udGFpbmVyID0gbm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLklOVklURV9DT05UQUlORVIpKTtcbiAgICB0aGlzLmludml0ZVNlbnRDb250YWluZXIgPSBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuSU5WSVRFX1NFTlRfQ09OVEFJTkVSKSk7XG4gICAgdGhpcy5jYW5jZWxTbmFja0JhciA9IG5ldyBTbmFja0JhcihcbiAgICAgIHRoaXMuY29yZSxcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNBTkNFTF9TTkFDS0JBUikgYXMgSFRNTEVsZW1lbnQsXG4gICAgKTtcbiAgICB0aGlzLnNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKFxuICAgICAgdGhpcy5jb3JlLFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ09QWV9TTkFDS0JBUikgYXMgSFRNTEVsZW1lbnQsXG4gICAgKTtcbiAgICB0aGlzLnNhdmVkU25hY2tCYXIgPSBuZXcgU25hY2tCYXIoXG4gICAgICB0aGlzLmNvcmUsXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TQVZFRF9TTkFDS0JBUikgYXMgSFRNTEVsZW1lbnQsXG4gICAgKTtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ09QWV9URUFNX0NPREUpKSB7XG4gICAgICB0aGlzLmNsaXBCb2FyZCA9IG5ldyBDbGlwYm9hcmRKUyhTRUxFQ1RPUlMuQ09QWV9URUFNX0NPREUpO1xuICAgICAgdGhpcy5jbGlwQm9hcmQub24oJ3N1Y2Nlc3MnLCB0aGlzLnNuYWNrQmFyLnNuYWNrQmFyVHJpZ2dlci5cbiAgICAgICAgYmluZCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuam9pblRlYW1CdXR0b24gJiYgdGhpcy5qb2luVGVhbUlucHV0KSB7XG4gICAgICB0aGlzLmpvaW5UZWFtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XG4gICAgICB0aGlzLmpvaW5UZWFtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVKb2luVGVhbUJ1dHRvbik7XG4gICAgICBpZiAodGhpcy5qb2luVGVhbUlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICB0aGlzLmpvaW5UZWFtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuam9pblRlYW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuaGFuZGxlSm9pbklucHV0KTtcbiAgICB9XG4gICAgaWYgKHRoaXMudXBkYXRlVGVhbUJ1dHRvbiAmJiB0aGlzLnVwZGF0ZVRlYW1JbnB1dCkge1xuICAgICAgdGhpcy51cGRhdGVUZWFtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZVVwZGF0ZVRlYW1JbnB1dCk7XG4gICAgICB0aGlzLnVwZGF0ZVRlYW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICAgIHRoaXMudXBkYXRlVGVhbUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZVRlYW1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVVwZGF0ZVRlYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jcmVhdGVUZWFtQnV0dG9uICYmIHRoaXMuY3JlYXRlVGVhbUlucHV0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVRlYW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICAgIHRoaXMuY3JlYXRlVGVhbUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ3JlYXRlVGVhbUJ1dHRvbik7XG4gICAgICB0aGlzLmNyZWF0ZVRlYW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuaGFuZGxlQ3JlYXRlSW5wdXQpO1xuICAgICAgaWYgKHRoaXMuY3JlYXRlVGVhbUlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICB0aGlzLmNyZWF0ZVRlYW1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pbnZpdGVDb250YWluZXIpIHtcbiAgICAgIHRoaXMuaW52aXRlQ29udGFpbmVyLmZvckVhY2goKGludml0ZSkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGludml0ZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGludml0ZS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUludml0ZUlucHV0LmJpbmQodGhpcywgYnV0dG9uKSk7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNBVklORyk7XG4gICAgICAgICAgdGhpcy5oYW5kbGVJbnZpdGVCdXR0b24oaW5wdXQsIGludml0ZSwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmludml0ZVNlbnRDb250YWluZXIpIHtcbiAgICAgIHRoaXMuaW52aXRlU2VudENvbnRhaW5lci5mb3JFYWNoKChpbnZpdGUpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBpbnZpdGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBjb25zdCBzZW5kQnV0dG9uID0gaW52aXRlLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlJFX1NFTkRfSU5WSVRFKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gaW52aXRlLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNBTkNFTF9JTlZJVEUpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBzZW5kQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHNlbmRCdXR0b24uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgICAgIHRoaXMuc2VuZEludml0ZShpbnB1dCwgaW52aXRlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbmNlbFNuYWNrQmFyXG4gICAgICAgICAgICAuc25hY2tCYXJUcmlnZ2VyKFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgdGhpcy5jYW5jZWxJbnZpdGUuYmluZCh0aGlzLCBpbnB1dCwgaW52aXRlKSwgU05BQ0tCQVJfREVMQVksXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW1vdmVNZW1iZXJzKSB7XG4gICAgICB0aGlzLnJlbW92ZU1lbWJlcnMuZm9yRWFjaCgoY29udGFpbmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgY29uc3QgcmVtb3ZlQnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICByZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlbW92ZU1lbWJlclxuICAgICAgICAgICAgLmJpbmQodGhpcywgaW5wdXQsIGNvbnRhaW5lcikpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlYXZlVGVhbSkge1xuICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmxlYXZlVGVhbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICBjb25zdCByZW1vdmVCdXR0b24gPSB0aGlzLmxlYXZlVGVhbS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgIHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVtb3ZlTWVtYmVyXG4gICAgICAgICAgLmJpbmQodGhpcywgaW5wdXQsIHRoaXMubGVhdmVUZWFtKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVhbUNvZGVDb250YWluZXJzKSB7XG4gICAgICB0aGlzLnRlYW1Db2RlQ29udGFpbmVycy5mb3JFYWNoKChjb250YWluZXIpID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNPUFlfVEVBTV9DT0RFKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFNX0NPREVfRElTUExBWSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChidXR0b24uZGF0YXNldC5jbGlwYm9hcmRUZXh0ID09PSAnTm9uZScgfHwgc3Bhbi5pbm5lclRleHQgPT09ICdOb25lJykge1xuICAgICAgICAgIHRoaXMucG9sbENvZGUoYnV0dG9uLCBzcGFuKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHBvbGxDb2RlKGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQsIHNwYW46IEhUTUxFbGVtZW50KSB7XG4gICAgY2xlYXJUaW1lb3V0KCk7XG4gICAgYXhpb3NJbnN0YW5jZS5nZXQoUFJPSkVDVF9VUkwpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSByZXNwb25zZS5kYXRhLnJlcGxhY2UoL15cXCldfScsLywgJycpO1xuICAgICAgICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZShzYW5pdGl6ZWREYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBqc29uUmVzcG9uc2VbKGJ1dHRvbi5kYXRhc2V0LnNsb3RuYW1lIGFzIHN0cmluZyldO1xuICAgICAgICAgICAgaWYgKHRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnBvbGxDb2RlLmJpbmQodGhpcywgYnV0dG9uLCBzcGFuKSwgMjAwMCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgYnV0dG9uLmRhdGFzZXQuY2xpcGJvYXJkVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcEJvYXJkKSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xpcEJvYXJkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xpcEJvYXJkID0gbmV3IENsaXBib2FyZEpTKFNFTEVDVE9SUy5DT1BZX1RFQU1fQ09ERSk7XG4gICAgICAgICAgICB0aGlzLmNsaXBCb2FyZC5vbignc3VjY2VzcycsIHRoaXMuc25hY2tCYXIuc25hY2tCYXJUcmlnZ2VyXG4gICAgICAgICAgICAgIC5iaW5kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3Qga2V5TmFtZSA9IGUua2V5O1xuICAgIGlmIChrZXlOYW1lID09PSAnRW50ZXInKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIHN3aXRjaCAodGFyZ2V0LmlkKSB7XG4gICAgICAgIGNhc2UgJ3RlYW0tY29kZSc6XG4gICAgICAgICAgdGhpcy5qb2luVGVhbSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZWFtLW5hbWUnOlxuICAgICAgICAgIHRoaXMuaGFuZGxlVXBkYXRlVGVhbSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjcmVhdGUtbmFtZSc6XG4gICAgICAgICAgdGhpcy5oYW5kbGVDcmVhdGVUZWFtQnV0dG9uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RlYW0tbWVtYmVyMic6XG4gICAgICAgIGNhc2UgJ3RlYW0tbWVtYmVyMyc6XG4gICAgICAgICAgdGhpcy5oYW5kbGVJbnZpdGVCdXR0b24odGFyZ2V0LCB0YXJnZXQuY2xvc2VzdCgnLmpzLWludml0ZS1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudCwgZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUludml0ZUlucHV0KGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQsIGU6IEV2ZW50KSB7XG4gICAgaWYgKChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlSW52aXRlQnV0dG9uKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50LCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBlOiBFdmVudCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNlbmRJbnZpdGUoaW5wdXQsIGNvbnRhaW5lcik7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlSm9pbklucHV0KCkge1xuICAgIGlmICghdGhpcy5qb2luVGVhbUJ1dHRvbiB8fCAhdGhpcy5qb2luVGVhbUlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmpvaW5UZWFtSW5wdXQudmFsdWUgIT09ICcnKSB7XG4gICAgICB0aGlzLmpvaW5UZWFtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuam9pblRlYW1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVDcmVhdGVJbnB1dCgpIHtcbiAgICBpZiAoIXRoaXMuY3JlYXRlVGVhbUJ1dHRvbiB8fCAhdGhpcy5jcmVhdGVUZWFtSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3JlYXRlVGVhbUlucHV0LnZhbHVlICE9PSAnJykge1xuICAgICAgdGhpcy5jcmVhdGVUZWFtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3JlYXRlVGVhbUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVVwZGF0ZVRlYW1JbnB1dCgpIHtcbiAgICBpZiAoIXRoaXMudXBkYXRlVGVhbUlucHV0IHx8ICF0aGlzLnVwZGF0ZVRlYW1CdXR0b24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudXBkYXRlVGVhbUlucHV0LnZhbHVlID09PSB0aGlzLm9yaWdpbmFsVGVhbU5hbWUgfHwgdGhpcy51cGRhdGVUZWFtSW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLnVwZGF0ZVRlYW1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVRlYW1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlVXBkYXRlVGVhbSgpIHtcbiAgICBpZiAodGhpcy51cGRhdGVUZWFtSW5wdXQgJiYgdGhpcy51cGRhdGVUZWFtQnV0dG9uKSB7XG4gICAgICB0aGlzLnVwZGF0ZVRlYW1CdXR0b24uY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5TQVZJTkcpO1xuICAgICAgdGhpcy5jcmVhdGVUZWFtKHRoaXMudXBkYXRlVGVhbUlucHV0LnZhbHVlLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlSm9pblRlYW1CdXR0b24oZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmpvaW5UZWFtKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlQ3JlYXRlVGVhbUJ1dHRvbihlPzogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLmNyZWF0ZVRlYW1JbnB1dCkge1xuICAgICAgdGhpcy5jcmVhdGVUZWFtKHRoaXMuY3JlYXRlVGVhbUlucHV0LnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgam9pblRlYW0oKTogdm9pZCB7XG4gICAgdGhpcy5qb2luVGVhbUJ1dHRvbiAmJiB0aGlzLmpvaW5UZWFtQnV0dG9uLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU0FWSU5HKTtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBpbnZpdGVfY29kZTogdGhpcy5qb2luVGVhbUlucHV0ICYmIHRoaXMuam9pblRlYW1JbnB1dC52YWx1ZSxcbiAgICB9O1xuICAgIGF4aW9zSW5zdGFuY2UucG9zdChKT0lOX1VSTCwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7XG4gICAgICAgICAgICAodGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkpPSU5fVEVBTV9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU1VCTUlUVEVEKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgKHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5KT0lOX1RFQU1fQ09OVEFJTkVSKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGNyZWF0ZVRlYW0odGVhbU5hbWU6IHN0cmluZywgaXNFeGlzdGluZ1RlYW0/OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5jcmVhdGVUZWFtQnV0dG9uICYmIHRoaXMuY3JlYXRlVGVhbUJ1dHRvbi5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNBVklORyk7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgaWQ6IHBhcnNlSW50KHRoaXMucHJvamVjdElkLCAxMCksXG4gICAgICB0ZWFtX25hbWU6IHRlYW1OYW1lLFxuICAgIH07XG4gICAgYXhpb3NJbnN0YW5jZS5wb3N0KENSRUFURV9VUkwsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgICAgKHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DUkVBVEVfVEVBTV9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuU1VCTUlUVEVEKTtcbiAgICAgICAgICAgIGlmIChpc0V4aXN0aW5nVGVhbSkge1xuICAgICAgICAgICAgICB0aGlzLnNhdmVkU25hY2tCYXIuc25hY2tCYXJUcmlnZ2VyKCk7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZXNldEFjdGl2ZUJ1dHRvbnMoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChfZXJyb3IpID0+IHtcbiAgICAgICAgICAodGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkNSRUFURV9URUFNX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkVSUk9SKTtcbiAgICAgICAgICB0aGlzLnJlc2V0QWN0aXZlQnV0dG9ucygpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZW5kSW52aXRlKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50LCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgbG9jYWxlOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcbiAgICAgIFtpbnB1dC5uYW1lXTogaW5wdXQudmFsdWUsXG4gICAgfTtcbiAgICBheGlvc0luc3RhbmNlLnBvc3QoSU5WSVRFX1VSTCwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNVQk1JVFRFRCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGNhbmNlbEludml0ZShpbnB1dDogSFRNTElucHV0RWxlbWVudCwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIFtpbnB1dC5uYW1lXTogaW5wdXQudmFsdWUsXG4gICAgfTtcbiAgICBheGlvc0luc3RhbmNlLnBvc3QoQ0FOQ0VMX1VSTCwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNVQk1JVFRFRCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHJlbW92ZU1lbWJlcihpbnB1dDogSFRNTElucHV0RWxlbWVudCwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIFtpbnB1dC5uYW1lXTogaW5wdXQudmFsdWUsXG4gICAgfTtcbiAgICBheGlvc0luc3RhbmNlLnBvc3QoQ0FOQ0VMX1VSTCwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5FUlJPUik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLlNVQk1JVFRFRCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmVCdXR0b25zKCk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHJlc2V0QWN0aXZlQnV0dG9ucygpIHtcbiAgICBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuU0FWSU5HKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZGVjbGFyZSB2YXIgVHdlZW5NYXg6IGFueTtcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIFRFQVNFUl9GT1JNOiAnLmpzLXRlYXNlci1mb3JtJyxcbiAgVEVBU0VSX0ZPUk1fU1VCTUlUOiAnLmpzLXRlYXNlci1mb3JtLXN1Ym1pdCcsXG4gIFRFQVNFUl9GT1JNX1RFWFRfSU5QVVQ6ICcuZm9ybS0tdGV4dC1pbnB1dCcsXG4gIFRFQVNFUl9GT1JNX0VNQUlMOiAnLmpzLWVtYWlsLWNvbnRhaW5lcicsXG4gIFRFQVNFUl9GT1JNX1JBRElPOiAnLmpzLXJhZGlvLWNvbnRhaW5lcicsXG4gIFRFQVNFUl9GT1JNX0xFR0FMOiAnLmpzLXRlcm1zLWNvbnRhaW5lcicsXG4gIFRFQVNFUl9GT1JNX1NVQ0NFU1M6ICcuanMtdGVhc2VyLWZvcm0tc3VjY2VzcycsXG4gIFRFQVNFUl9GT1JNX0NPTlRBSU5FUjogJy5qcy10ZWFzZXItZm9ybS1jb250YWluZXInLFxuICBURUFTRVJfRk9STV9DT1VOVFJZOiAnLmpzLWNvdW50cnktaW5wdXQnLFxuICBURUFTRVJfRk9STV9MQU5HVUFHRTogJy5qcy1sYW5ndWFnZS1pbnB1dCcsXG59O1xuXG5pbnRlcmZhY2UgSVBhcmFtcyB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZztcbn1cblxuY29uc3QgVEVBU0VSX0ZPUk1fVVJMID0gJ2h0dHBzOi8vc2VydmljZXMuZ29vZ2xlLmNvbS9mYi9zdWJtaXNzaW9ucy9nb29nbGVzY2llbmNlZmFpci10ZWFzZXIvJztcblxuZXhwb3J0IGludGVyZmFjZSBJQW5pbWF0aW9uRGF0YSB7XG4gIGFkZEV2ZW50TGlzdGVuZXI/OiBhbnk7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHJlbmRlcmVyOiAnc3ZnJ3wnY2FudmFzJztcbiAgbG9vcDogYm9vbGVhbjtcbiAgYXV0b3BsYXk6IGJvb2xlYW47XG4gIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVhc2VyRm9ybSB7XG4gIGNvcmU6IENvcmU7XG4gIHRlYXNlckZvcm06IEhUTUxGb3JtRWxlbWVudDtcbiAgdGVhc2VyRm9ybVN1Ym1pdDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHRlYXNlckZvcm1TdWNjZXNzOiBIVE1MRWxlbWVudDtcbiAgdGVhc2VyRm9ybUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRlYXNlciBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMudGVhc2VyRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMudGVhc2VyRm9ybSA9IHRoaXMudGVhc2VyRm9ybUNvbnRhaW5lclxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk0pIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICB0aGlzLnRlYXNlckZvcm1TdWJtaXQgPSB0aGlzLnRlYXNlckZvcm1Db250YWluZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX1NVQk1JVCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy50ZWFzZXJGb3JtU3VjY2VzcyA9IGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9TVUNDRVNTKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMudGVhc2VyRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UpO1xuICAgIHRoaXMudGVhc2VyRm9ybVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLlRFQVNFUl9GT1JNX0VNQUlMfSBpbnB1dGApIGFzIEhUTUxJbnB1dEVsZW1lbnQpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVFbWFpbEJsdXIpO1xuICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUx9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudClcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlTGVnYWxCbHVyKTtcblxuICAgIChub2RlTGlzdFRvQXJyYXkodGhpcy50ZWFzZXJGb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtbW9kYWwtbGluaycpKSBhcyBBcnJheTxIVE1MQW5jaG9yRWxlbWVudD4pXG4gICAgICAgIC5mb3JFYWNoKChsaW5rKSA9PiBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZXNldE1vZGFsKSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgcmVzZXRNb2RhbChlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKCcuZ2x1ZS1hcHAtcmVhZHkgLmdsdWUtYy1tb2RhbF9fb3ZlcmxheScpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3VibWl0KGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMuaXNGb3JtVmFsaWQoKSkge1xuICAgICAgY29uc3QgcGFyYW1zOiBJUGFyYW1zID0ge1xuICAgICAgICAnZ3NmLWNvdW50cnknOiAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fQ09VTlRSWSlhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSxcbiAgICAgICAgJ2dzZi1lbWFpbCc6ICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIFNFTEVDVE9SUy5URUFTRVJfRk9STV9URVhUX0lOUFVUKWFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLFxuICAgICAgICAnZ3NmLWktYW0tYSc6ICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGAke1NFTEVDVE9SUy5URUFTRVJfRk9STV9SQURJT30gaW5wdXQ6Y2hlY2tlZGApYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsXG4gICAgICAgICdnc2YtaXMtbGVnYWwtY2hlY2tlZCc6ICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGAke1NFTEVDVE9SUy5URUFTRVJfRk9STV9MRUdBTH0gaW5wdXRgKWFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLFxuICAgICAgICAnZ3NmLWxhbmd1YWdlJzogKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0xBTkdVQUdFKWFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLFxuICAgICAgfTtcbiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPVxuICAgICAgICAgICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuICAgICAgYXhpb3MucG9zdChURUFTRVJfRk9STV9VUkwsIE9iamVjdC5rZXlzKHBhcmFtcylcbiAgICAgICAgICAubWFwKGtleSA9PiBgJHtrZXl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KChwYXJhbXNba2V5XSkpfWApLmpvaW4oJyYnKSlcbiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9ycykge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnNbJ2dzZi1lbWFpbCddKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9FTUFJTCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnNbJ2dzZi1pLWFtLWEnXSkge1xuICAgICAgICAgICAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fUkFESU8pIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzWydnc2YtaXMtbGVnYWwtY2hlY2tlZCddKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9MRUdBTCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50ZWFzZXJGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJy1zdWJtaXR0ZWQnKTtcbiAgICAgICAgICAgICAgdGhpcy50ZWFzZXJGb3JtU3VjY2Vzcy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byh3aW5kb3csIC4xNSwge1xuICAgICAgICAgICAgICAgICAgc2Nyb2xsVG86IHtcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0tpbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlYXNlckZvcm1TdWNjZXNzLmNsYXNzTGlzdC5hZGQoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlYXNlckZvcm1Db250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICB0aGlzLnRlYXNlckZvcm1Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGVhc2VyRm9ybS5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICAgICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZvcm1TdGF0ZXMoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpc0VtYWlsVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZW1haWxGaWVsZCA9IHRoaXMudGVhc2VyRm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fVEVYVF9JTlBVVCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICByZXR1cm4gZW1haWxGaWVsZC52YWxpZGl0eS52YWxpZDtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpc0NhdGVnb3J5VmFsaWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY2F0ZWdvcnlGaWVsZHMgPSBub2RlTGlzdFRvQXJyYXkodGhpcy50ZWFzZXJGb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS0tcmFkaW8tZ3JvdXAgaW5wdXQnKSkgYXMgQXJyYXk8SFRNTElucHV0RWxlbWVudD47XG4gICAgcmV0dXJuIGNhdGVnb3J5RmllbGRzLmZpbmQoKGZpZWxkKSA9PiBmaWVsZC5jaGVja2VkID09PSB0cnVlKSAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGlzTGVnYWxDaGVja2VkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxlZ2FsQ2hlY2sgPSB0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcignI2lzTGVnYWxDaGVja2VkJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICByZXR1cm4gbGVnYWxDaGVjay5jaGVja2VkID09PSB0cnVlO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGlzRm9ybVZhbGlkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzRW1haWxWYWxpZCgpICYmIHRoaXMuaXNDYXRlZ29yeVZhbGlkKCkgJiYgdGhpcy5pc0xlZ2FsQ2hlY2tlZCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldEZvcm1TdGF0ZXMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzRW1haWxWYWxpZCgpKSB7XG4gICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0VNQUlMKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzQ2F0ZWdvcnlWYWxpZCgpKSB7XG4gICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX1JBRElPKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzTGVnYWxDaGVja2VkKCkpIHtcbiAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlRm9ybUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnRlYXNlckZvcm1TdWJtaXQuZGlzYWJsZWQgPSAhdGhpcy5pc0Zvcm1WYWxpZCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUVtYWlsQmx1cigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNFbWFpbFZhbGlkKCkpIHtcbiAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fRU1BSUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9FTUFJTCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJy1lcnJvcicpO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVMZWdhbEJsdXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzTGVnYWxDaGVja2VkKCkpIHtcbiAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCctZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9MRUdBTCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJy1lcnJvcicpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRm9ybXMgfSBmcm9tICcuL0Zvcm1zJztcbmltcG9ydCB7IFN0ZXBGb3JtIH0gZnJvbSAnLi9TdGVwRm9ybSc7XG5pbXBvcnQgeyBTdGVwU3VtbWFyeUZvcm0gfSBmcm9tICcuL1N0ZXBTdW1tYXJ5Rm9ybSc7XG5pbXBvcnQgeyBUZWFtRm9ybSB9IGZyb20gJy4vVGVhbUZvcm0nO1xuaW1wb3J0IHsgQ29uc2VudEZvcm0gfSBmcm9tICcuL0NvbnNlbnRGb3JtJztcbmltcG9ydCB7IENoZWNrTGlzdCB9IGZyb20gJy4vQ2hlY2tMaXN0JztcbmltcG9ydCB7IFBhcmVudGFsQ29uc2VudCB9IGZyb20gJy4vUGFyZW50YWxDb25zZW50JztcbmltcG9ydCB7IFByb2ZpbGUgfSBmcm9tICcuL1Byb2ZpbGUnO1xuaW1wb3J0IHsgSW5zcGlyaW5nRWR1Y2F0b3IgfSBmcm9tICcuL0luc3BpcmluZ0VkdWNhdG9yJztcbmltcG9ydCBUZWFzZXJGb3JtIGZyb20gJy4vVGVhc2VyRm9ybSc7XG5cbmV4cG9ydCB7XG4gIENoZWNrTGlzdCxcbiAgQ29uc2VudEZvcm0sXG4gIEZvcm1zLFxuICBJbnNwaXJpbmdFZHVjYXRvcixcbiAgUGFyZW50YWxDb25zZW50LFxuICBQcm9maWxlLFxuICBTdGVwRm9ybSxcbiAgU3RlcFN1bW1hcnlGb3JtLFxuICBUZWFtRm9ybSxcbiAgVGVhc2VyRm9ybSxcbn07XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBNT0RBTF9MSU5LOiAnLmpzLW1vZGFsLWxpbmsnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFzaGJvYXJkIHtcbiAgY29yZTogQ29yZTtcbiAgbW9kYWxMaW5rOiBIVE1MQW5jaG9yRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLm1vZGFsTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLk1PREFMX0xJTkspIGFzIEhUTUxBbmNob3JFbGVtZW50O1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09ICcjdG9wLXRpcHMnKSB7XG4gICAgICB0aGlzLm1vZGFsTGluayAmJiB0aGlzLm1vZGFsTGluay5jbGljaygpO1xuICAgIH1cbiAgfVxuXG59XG4iLCJkZWNsYXJlIHZhciBib2R5bW92aW46IGFueTtcbmltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJ2NvcmUtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBJQW5pbWF0aW9uRGF0YSB9IGZyb20gJy4uL21vZGVscy9JbnRlcmZhY2UnO1xuaW1wb3J0IHsgSW50ZXJhY3RpdmVMb2dvIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBBQ1RJT05fQ0xBU1NFUyB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIFBBUkVOVF9MT0dPX0NPTlRBSU5FUjogJy5qcy1wYXJlbnQtbG9nby1jb250YWluZXInLFxuICBMT0dPX0NPTlRBSU5FUjogJy5qcy1sb2dvLWNvbnRhaW5lcicsXG4gIElOVEVSQUNUSVZFX0xPR09fQ09OVEFJTkVSOiAnLmpzLWludGVyYWN0aXZlLWxvZ28tY29udGFpbmVyJyxcbiAgQ09NUEFTU19DT05UQUlORVI6ICcuanMtYW5pbWF0ZS1jb21wYXNzJyxcbiAgTE9HT19XSEVOX1NDUk9MTEVEOiAnLmpzLWxvZ28td2hlbi1zY3JvbGxlZCcsXG4gIE1PREFMX0xJTks6ICcuanMtZXJyb3ItbW9kYWwtbGluaycsXG59O1xuXG5jb25zdCBIRUFERVJfSEVJR0hUID0gODA7XG5jb25zdCBTQ1JPTExfSEVBREVSX0lOVEVSQUNUSU9OX0NMQVNTID0gJy13aWxsLXRyYW5zaXRpb24tb24tc2Nyb2xsJztcbmNvbnN0IFNDUk9MTF9IRUFERVJfVklTSUJMRV9DTEFTUyA9ICctc2hvdWxkLXNob3cnO1xuY29uc3QgU0NST0xMX0hFQURFUl9JTlZJU0lCTEVfQ0xBU1MgPSAnLXNob3VsZC1oaWRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSB7XG4gIGNvcmU6IENvcmU7XG4gIGxvZ29BbmltYXRpb25PYmplY3Q6IGFueTtcbiAgaW50ZXJhY3RpdmVMb2dvQW5pbWF0aW9uT2JqZWN0OiBhbnk7XG4gIGxvZ29BbmltYXRpb25EYXRhOiBJQW5pbWF0aW9uRGF0YTtcbiAgaW50ZXJhY3RpdmVMb2dvQW5pbWF0aW9uRGF0YTogSUFuaW1hdGlvbkRhdGE7XG4gIGxvZ29BbmltYXRpb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBpbnRlcmFjdGl2ZUxvZ29BbmltYXRpb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBpbnRlcmFjdGl2ZUxvZ28/OiBJbnRlcmFjdGl2ZUxvZ287XG4gIGNvbXBhc3NBbmltYXRpb25Db250YWluZXI/OiBIVE1MRWxlbWVudDtcbiAgY29tcGFzc0FuaW1hdGlvbkRhdGE/OiBJQW5pbWF0aW9uRGF0YTtcbiAgY29tcGFzc0FuaW1hdGlvbk9iamVjdDogYW55O1xuICBtZWRTY3JlZW46IGJvb2xlYW47XG4gIGhlYWRlckxvZ286IEhUTUxFbGVtZW50O1xuICBwYXJlbnRMb2dvQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgaGVhZGVySXNTY3JvbGxlZCA9IGZhbHNlO1xuICBjb21wYXNzSGFzUGxheWVkID0gZmFsc2U7XG4gIGVycm9yTW9kYWxMaW5rOiBIVE1MQW5jaG9yRWxlbWVudDtcblxuICAvKipcbiAgICogSG9tZSBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMubWVkU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDYwMHB4KScpLm1hdGNoZXM7XG4gICAgdGhpcy5sb2dvQW5pbWF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuTE9HT19DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0aGlzLmxvZ29BbmltYXRpb25Db250YWluZXIpIHtcbiAgICAgIHRoaXMubG9nb0FuaW1hdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkFDVElWRSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcmFjdGl2ZUxvZ29BbmltYXRpb25Db250YWluZXIgPVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5JTlRFUkFDVElWRV9MT0dPX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5sb2dvQW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5sb2dvQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIHBhdGg6IHRoaXMubWVkU2NyZWVuID9cbiAgICAgICAgICAnL3N0YXRpYy9kYXRhL0dTRl9sb2dvNy5qc29uJyA6ICcvc3RhdGljL2RhdGEvR1NGX2xvZ29fbW9iaWxlLmpzb24nLFxuICAgIH07XG5cbiAgICB0aGlzLmludGVyYWN0aXZlTG9nb0FuaW1hdGlvbkRhdGEgPSB7XG4gICAgICBjb250YWluZXI6IHRoaXMuaW50ZXJhY3RpdmVMb2dvQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBwYXRoOiAnL3N0YXRpYy9kYXRhL0dTRl9pbnRlcmFjdGl2ZV9sb2dvLmpzb24nLFxuICAgIH07XG5cbiAgICB0aGlzLnBhcmVudExvZ29Db250YWluZXIgPVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5QQVJFTlRfTE9HT19DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuaGVhZGVyTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkxPR09fV0hFTl9TQ1JPTExFRCkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICB0aGlzLmNvbXBhc3NBbmltYXRpb25Db250YWluZXIgPVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT01QQVNTX0NPTlRBSU5FUikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICB0aGlzLmNvbXBhc3NBbmltYXRpb25EYXRhID0ge1xuICAgICAgY29udGFpbmVyOiB0aGlzLmNvbXBhc3NBbmltYXRpb25Db250YWluZXIsXG4gICAgICByZW5kZXJlcjogJ3N2ZycsXG4gICAgICBsb29wOiBmYWxzZSxcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgIHBhdGg6ICcvc3RhdGljL2RhdGEvY29tcGFzcy5qc29uJyxcbiAgICB9O1xuXG4gICAgdGhpcy5lcnJvck1vZGFsTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLk1PREFMX0xJTkspIGFzIEhUTUxBbmNob3JFbGVtZW50O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogSG9tZSBjb25zdHJ1Y3RvclxuICAgKiBAaW5pdFxuICAgKi9cbiAgQGF1dG9iaW5kXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5pbnRlcmFjdGl2ZUxvZ29BbmltYXRpb25PYmplY3QgPVxuICAgICAgICBib2R5bW92aW4ubG9hZEFuaW1hdGlvbih0aGlzLmludGVyYWN0aXZlTG9nb0FuaW1hdGlvbkRhdGEpO1xuICAgIHRoaXMuaW50ZXJhY3RpdmVMb2dvID0gbmV3IEludGVyYWN0aXZlTG9nbyhcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUxvZ29BbmltYXRpb25Db250YWluZXIsXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVMb2dvQW5pbWF0aW9uT2JqZWN0LFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5jb3JlLnByZWZlcnNSZWR1Y2VkTW90aW9uKSB7XG4gICAgICB0aGlzLmxvZ29BbmltYXRpb25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuICAgICAgaWYgKHRoaXMuaW50ZXJhY3RpdmVMb2dvKSB7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVMb2dvLmluaXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2dvQW5pbWF0aW9uT2JqZWN0ID0gYm9keW1vdmluLmxvYWRBbmltYXRpb24odGhpcy5sb2dvQW5pbWF0aW9uRGF0YSk7XG4gICAgICB0aGlzLmFuaW1hdGVMb2dvKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGVhZGVyTG9nbyAmJiB0aGlzLnBhcmVudExvZ29Db250YWluZXIpIHtcbiAgICAgIHRoaXMucGFyZW50TG9nb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFNDUk9MTF9IRUFERVJfSU5URVJBQ1RJT05fQ0xBU1MpO1xuICAgICAgdGhpcy5oZWFkZXJMb2dvLmNsYXNzTGlzdC5hZGQoU0NST0xMX0hFQURFUl9JTlRFUkFDVElPTl9DTEFTUyk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgIHRoaXMub25TY3JvbGwoKTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbXBhc3NBbmltYXRpb25Db250YWluZXIpIHtcbiAgICAgIHRoaXMuY29tcGFzc0FuaW1hdGlvbk9iamVjdCA9IGJvZHltb3Zpbi5sb2FkQW5pbWF0aW9uKHRoaXMuY29tcGFzc0FuaW1hdGlvbkRhdGEpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gJyNzaWduLWluJykge1xuICAgICAgdGhpcy5lcnJvck1vZGFsTGluayAmJiB0aGlzLmVycm9yTW9kYWxMaW5rLmNsaWNrKCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9nbyBhbmltYXRpb25cbiAgICogQGFuaW1hdGVMb2dvXG4gICAqL1xuICBAYXV0b2JpbmRcbiAgYW5pbWF0ZUxvZ28oKTogdm9pZCB7XG4gICAgdGhpcy5sb2dvQW5pbWF0aW9uT2JqZWN0LnBsYXkoKTtcbiAgICB0aGlzLmxvZ29BbmltYXRpb25PYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ29BbmltYXRpb25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5BQ1RJVkUpO1xuXG4gICAgICBpZiAodGhpcy5pbnRlcmFjdGl2ZUxvZ28pIHtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUxvZ28uaW5pdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIG9uU2Nyb2xsKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGlmICh0aGlzLmNvcmUucHJlZmVyc1JlZHVjZWRNb3Rpb24gJiYgIXRoaXMuY29tcGFzc0hhc1BsYXllZCkge1xuICAgICAgdGhpcy5jb21wYXNzQW5pbWF0aW9uT2JqZWN0LmdvVG9BbmRTdG9wKHRoaXMuY29tcGFzc0FuaW1hdGlvbk9iamVjdC50b3RhbEZyYW1lcywgdHJ1ZSk7XG4gICAgICB0aGlzLmNvbXBhc3NIYXNQbGF5ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jb21wYXNzQW5pbWF0aW9uQ29udGFpbmVyICYmICF0aGlzLmNvbXBhc3NIYXNQbGF5ZWQpIHtcbiAgICAgICAgY29uc3QgY29tcGFzc1RvcCA9IHRoaXMuY29tcGFzc0FuaW1hdGlvbkNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIGlmIChjb21wYXNzVG9wIDwgd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5jb21wYXNzQW5pbWF0aW9uT2JqZWN0LnBsYXkoKTtcbiAgICAgICAgICB0aGlzLmNvbXBhc3NIYXNQbGF5ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1lZFNjcmVlbikgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IHRvcCA9IHRoaXMuaW50ZXJhY3RpdmVMb2dvQW5pbWF0aW9uQ29udGFpbmVyXG4gICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZiAodG9wIDwgSEVBREVSX0hFSUdIVCAmJiAhdGhpcy5oZWFkZXJJc1Njcm9sbGVkKSB7XG4gICAgICAvLyB0aGlzLnBhcmVudExvZ29Db250YWluZXIuY2xhc3NMaXN0LmFkZChTQ1JPTExfSEVBREVSX0lOVklTSUJMRV9DTEFTUyk7XG4gICAgICB0aGlzLmhlYWRlckxvZ28uY2xhc3NMaXN0LmFkZChTQ1JPTExfSEVBREVSX1ZJU0lCTEVfQ0xBU1MpO1xuICAgICAgdGhpcy5oZWFkZXJJc1Njcm9sbGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRvcCA+PSBIRUFERVJfSEVJR0hUICYmIHRoaXMuaGVhZGVySXNTY3JvbGxlZCkge1xuICAgICAgdGhpcy5wYXJlbnRMb2dvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoU0NST0xMX0hFQURFUl9JTlZJU0lCTEVfQ0xBU1MpO1xuICAgICAgdGhpcy5oZWFkZXJMb2dvLmNsYXNzTGlzdC5yZW1vdmUoU0NST0xMX0hFQURFUl9WSVNJQkxFX0NMQVNTKTtcbiAgICAgIHRoaXMuaGVhZGVySXNTY3JvbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblJlc2l6ZSgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGVSZXNpemUpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB0aGlzLm1lZFNjcmVlbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA2MDBweCknKS5tYXRjaGVzO1xuICB9XG5cbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IENsaXBib2FyZEpTID0gcmVxdWlyZSgnY2xpcGJvYXJkJyk7XG5pbXBvcnQgeyBTbmFja0JhciB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuXG5jb25zdCBTRUxFQ1RPUlMgPSB7XG4gIENPUFlfU05BQ0tCQVI6ICcuanMtY29weS1zbmFja2JhcicsXG4gIENPUFlfVVJMOiAnLmpzLWNvcHktdXJsJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3RQcmV2aWV3IHtcbiAgY29yZTogQ29yZTtcbiAgY2xpcEJvYXJkPzogQ2xpcGJvYXJkSlM7XG4gIHNuYWNrQmFyPzogU25hY2tCYXI7XG5cbiAgY29uc3RydWN0b3IoY29yZTogQ29yZSkge1xuICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgY29uc3Qgc25hY2tCYXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5DT1BZX1NOQUNLQkFSKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoIXNuYWNrQmFyQ29udGFpbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc25hY2tCYXIgPSBuZXcgU25hY2tCYXIoXG4gICAgICB0aGlzLmNvcmUsXG4gICAgICBzbmFja0JhckNvbnRhaW5lcixcbiAgICApO1xuICAgIHRoaXMuY2xpcEJvYXJkID0gbmV3IENsaXBib2FyZEpTKFNFTEVDVE9SUy5DT1BZX1VSTCk7XG4gICAgdGhpcy5jbGlwQm9hcmQub24oJ3N1Y2Nlc3MnLCB0aGlzLnNuYWNrQmFyLnNuYWNrQmFyVHJpZ2dlclxuICAgICAgLmJpbmQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCkpO1xuICB9XG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7XG4gIG5vZGVMaXN0VG9BcnJheSxcbiAgYXhpb3NJbnN0YW5jZSxcbiAgQUNUSU9OX0NMQVNTRVMsXG59IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgVG9vbFRpcCB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IEFnZVJhbmdlUmVzdHJpY3Rpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvQWdlUmFuZ2VSZXN0cmljdGlvbic7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgRk9STTogJy5qcy1yZWdpc3Rlci1mb3JtJyxcbiAgRk9STV9TVUJNSVQ6ICcuanMtZm9ybS1zdWJtaXQnLFxuICBGT1JNX1RFWFRfSU5QVVQ6ICcuZm9ybS0tdGV4dC1pbnB1dCcsXG4gIEZPUk1fUkFESU86ICcuanMtcmFkaW8tZ3JvdXAnLFxuICBGT1JNX0xFR0FMOiAnLmpzLXRlcm1zLWNvbnRhaW5lcicsXG4gIEZPUk1fRklSU1RfTkFNRTogJy5qcy1maXJzdC1uYW1lLWNvbnRhaW5lcicsXG4gIEZPUk1fTEFTVF9OQU1FOiAnLmpzLWxhc3QtbmFtZS1jb250YWluZXInLFxuICBGT1JNX1NVQ0NFU1M6ICcuanMtZm9ybS1zdWNjZXNzJyxcbiAgRk9STV9DT05UQUlORVI6ICcuanMtZm9ybS1jb250YWluZXInLFxuICBGT1JNX0NPVU5UUlk6ICcuanMtY291bnRyeS1pbnB1dCcsXG4gIEZPUk1fU1RBVEU6ICcuanMtc3RhdGUtaW5wdXQnLFxuICBGT1JNX0xBTkdVQUdFOiAnLmpzLWxhbmd1YWdlLWlucHV0JyxcbiAgRk9STV9URUFNX0NPREU6ICcuanMtdGVhbS1pbnB1dCcsXG4gIEZPUk1fUElDVFVSRV9VUkw6ICcjcGljdHVyZVVybCcsXG4gIERBVEFfVElQX1NFTEVDVE9SOiAnLmpzLXRvb2x0aXAtdHJpZ2dlcicsXG4gIFJFR0lTVEVSX1RFUk1TOiAnLmpzLXJlZ2lzdGVyLXRlcm1zJyxcbiAgUkVDRUlWRURfVEVBTV9DT0RFOiAnLmpzLXJlY2VpdmVkLXRlYW0tY29kZScsXG4gIFNURVBfMTogJy5qcy1zdGVwLTEnLFxuICBTVEVQXzI6ICcuanMtc3RlcC0yJyxcbiAgQ09OVElOVUVfQlVUVE9OOiAnLmpzLWNvbnRpbnVlJyxcbn07XG5cbmNvbnN0IEZPUk1fVVJMID0gJy9hcGkvbWVtYmVycy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RlciB7XG4gIGNvcmU6IENvcmU7XG4gIGZvcm06IEhUTUxGb3JtRWxlbWVudDtcbiAgZm9ybVN1Ym1pdDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGZvcm1TdWNjZXNzOiBIVE1MRWxlbWVudDtcbiAgZm9ybUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGNvdW50cnk6IEhUTUxTZWxlY3RFbGVtZW50O1xuICBjb250aW51ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGZpcnN0TmFtZTogSFRNTElucHV0RWxlbWVudDtcbiAgYWdlUmFuZ2VDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBhZ2VSYW5nZVJlc3RyaWN0aW9uczogQWdlUmFuZ2VSZXN0cmljdGlvbnM7XG4gIHJlZ2lzdGVyVGVybXM6IEhUTUxFbGVtZW50O1xuICBzdGF0ZTogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIHN0YXRlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgc3VybmFtZTogSFRNTElucHV0RWxlbWVudDtcbiAgdGVhbUNvZGU6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHRlYW1Db2RlQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgYWNjZXB0UHJpdmFjeTogSFRNTElucHV0RWxlbWVudDtcbiAgcGljdHVyZVVybDogSFRNTElucHV0RWxlbWVudDtcbiAgcmVjZWl2ZWRUZWFtQ29kZTogSFRNTElucHV0RWxlbWVudDtcbiAgc3RlcE9uZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHN0ZXBUd29Db250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBjb25zdHJ1Y3RvclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvcmU6IENvcmUpIHtcbiAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk0pIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk1fU1VCTUlUKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLmZvcm1TdWNjZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9TVUNDRVNTKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmZvcm1Db250YWluZXIgPSBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY291bnRyeSA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5GT1JNX0NPVU5UUll9IHNlbGVjdGApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHRoaXMuc3RhdGVDb250YWluZXIgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuRk9STV9TVEFURSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGVDb250YWluZXJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLkZPUk1fU1RBVEV9IHNlbGVjdGApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHRoaXMuZmlyc3ROYW1lID0gdGhpcy5mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAke1NFTEVDVE9SUy5GT1JNX0ZJUlNUX05BTUV9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLnN1cm5hbWUgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9MQVNUX05BTUV9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB0aGlzLnRlYW1Db2RlQ29udGFpbmVyID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk1fVEVBTV9DT0RFKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnRlYW1Db2RlID0gdGhpcy50ZWFtQ29kZUNvbnRhaW5lclxuICAgICAgICAucXVlcnlTZWxlY3RvcignaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuYWNjZXB0UHJpdmFjeSA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuRk9STV9MRUdBTH0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMucGljdHVyZVVybCA9IHRoaXMuZm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvcihgaW5wdXQke1NFTEVDVE9SUy5GT1JNX1BJQ1RVUkVfVVJMfWApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5yZWdpc3RlclRlcm1zID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlJFR0lTVEVSX1RFUk1TKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnJlY2VpdmVkVGVhbUNvZGUgPSB0aGlzLmZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLlJFQ0VJVkVEX1RFQU1fQ09ERX0gaW5wdXRgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc3RlcE9uZUNvbnRhaW5lciA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TVEVQXzEpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc3RlcFR3b0NvbnRhaW5lciA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TVEVQXzIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY29udGludWVCdXR0b24gPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuQ09OVElOVUVfQlVUVE9OKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICB0aGlzLmFnZVJhbmdlQ29udGFpbmVyID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkZPUk1fUkFESU8pIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuYWdlUmFuZ2VSZXN0cmljdGlvbnMgPSBuZXcgQWdlUmFuZ2VSZXN0cmljdGlvbnMoXG4gICAgICB0aGlzLmNvdW50cnksXG4gICAgICB0aGlzLmFnZVJhbmdlQ29udGFpbmVyLFxuICAgICAgdGhpcy5yZWdpc3RlclRlcm1zLFxuICAgICk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICAgIHRoaXMuZm9ybVN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5zdGVwVHdvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB0aGlzLmZvcm1TdWJtaXQuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UpO1xuICAgIHRoaXMuZm9ybVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU3VibWl0KTtcblxuICAgIHRoaXMuY29udGludWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbnRpbnVlKTtcbiAgICBjb25zdCB0b29sVGlwRWxlbWVudHMgPSBub2RlTGlzdFRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUlMuREFUQV9USVBfU0VMRUNUT1IpKTtcbiAgICB0b29sVGlwRWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGNvbnN0IHRvb2x0aXAgPSBuZXcgVG9vbFRpcCh0aGlzLmNvcmUsIGVsKTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdG9vbHRpcC5kb21TaG93KTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0b29sdGlwLmRvbUhpZGUpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b29sdGlwLmRvbVNob3cpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlLmNvZGUgPT09ICdFbnRlcicgfHwgZS5jb2RlID09PSAnU3BhY2UnKSB7XG4gICAgICAgICAgaWYgKHRvb2x0aXAuaXNPcGVuKSB7XG4gICAgICAgICAgICB0b29sdGlwLmRvbUhpZGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9vbHRpcC5kb21TaG93KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlLmNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgdG9vbHRpcC5kb21IaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuY291bnRyeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUNvdW50cnlDaGFuZ2UpO1xuICAgIHRoaXMuc3RhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVGb3JtQ2hhbmdlKTtcbiAgICB0aGlzLnJlY2VpdmVkVGVhbUNvZGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zZXRUZWFtQ29kZVZpc2liaWxpdHkpO1xuICAgIHRoaXMuZmlyc3ROYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5oYW5kbGVGb3JtQ2hhbmdlKTtcbiAgICB0aGlzLnN1cm5hbWUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UpO1xuICAgIHRoaXMudGVhbUNvZGUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UpO1xuICAgIHRoaXMuc2V0U3RhdGVWaXNpYmlsaXR5KCk7XG4gICAgdGhpcy5zZXRUZWFtQ29kZVZpc2liaWxpdHkoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVLZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXlOYW1lID0gZS5rZXk7XG5cbiAgICBpZiAoa2V5TmFtZSA9PT0gJ0VudGVyJykge1xuICAgICAgaWYgKHRoaXMuaXNTdGVwT25lVmFsaWQoKSAmJiAhdGhpcy5pc1N0ZXBUd29WYWxpZCgpKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGludWUoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0ZXBPbmVWYWxpZCgpICYmIHRoaXMuaXNTdGVwVHdvVmFsaWQoKSkge1xuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZXRTdGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgaWYgKHRoaXMuY291bnRyeS52YWx1ZSA9PT0gJ1VTJykge1xuICAgICAgdGhpcy5zdGF0ZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICB0aGlzLnN0YXRlLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgICB0aGlzLnN0YXRlLnJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldFRlYW1Db2RlVmlzaWJpbGl0eSgpIHtcbiAgICBpZiAodGhpcy5yZWNlaXZlZFRlYW1Db2RlLmNoZWNrZWQpIHtcbiAgICAgIHRoaXMudGVhbUNvZGVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgdGhpcy50ZWFtQ29kZS5yZXF1aXJlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGVhbUNvZGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgICAgdGhpcy50ZWFtQ29kZS5yZXF1aXJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVDb3VudHJ5Q2hhbmdlKCkge1xuICAgIHRoaXMuc2V0U3RhdGVWaXNpYmlsaXR5KCk7XG4gICAgdGhpcy5oYW5kbGVGb3JtQ2hhbmdlKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlRm9ybUNoYW5nZSgpIHtcbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uLmRpc2FibGVkID0gIXRoaXMuaXNTdGVwT25lVmFsaWQoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXQuZGlzYWJsZWQgPSAhdGhpcy5pc1N0ZXBUd29WYWxpZCgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUNvbnRpbnVlKCkge1xuICAgIHRoaXMuc3RlcE9uZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEFDVElPTl9DTEFTU0VTLkhJRERFTik7XG4gICAgdGhpcy5zdGVwVHdvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuSElEREVOKTtcbiAgICB0aGlzLmZvcm1TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShBQ1RJT05fQ0xBU1NFUy5ISURERU4pO1xuICAgIHRoaXMuZmlyc3ROYW1lLmZvY3VzKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaXNTdGVwT25lVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY291bnRyeUlzVmFsaWQgPSB0aGlzLmNvdW50cnkuY2hlY2tWYWxpZGl0eSgpO1xuICAgIGNvbnN0IHN0YXRlSXNWYWxpZCA9IHRoaXMuc3RhdGUucmVxdWlyZWQgPyB0aGlzLnN0YXRlLmNoZWNrVmFsaWRpdHkoKSA6IHRydWU7XG4gICAgY29uc3QgYWdlSXNWYWxpZCA9IHRoaXMuYWdlUmFuZ2VSZXN0cmljdGlvbnMuYWdlUmFuZ2UgIT09ICcnO1xuXG4gICAgcmV0dXJuIGNvdW50cnlJc1ZhbGlkICYmIHN0YXRlSXNWYWxpZCAmJiBhZ2VJc1ZhbGlkO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGlzU3RlcFR3b1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZpcnN0TmFtZUlzVmFsaWQgPSB0aGlzLmZpcnN0TmFtZS5jaGVja1ZhbGlkaXR5KCk7XG4gICAgY29uc3Qgc3VyTmFtZUlzVmFsaWQgPSB0aGlzLnN1cm5hbWUuY2hlY2tWYWxpZGl0eSgpO1xuICAgIGNvbnN0IGlzVGVhbUNvZGVWYWxpZCA9IHRoaXMucmVjZWl2ZWRUZWFtQ29kZS5jaGVja2VkID8gdGhpcy50ZWFtQ29kZS5jaGVja1ZhbGlkaXR5KCkgOiB0cnVlO1xuICAgIGNvbnN0IGlzVGVybXNWYWxpZCA9IHRoaXMuYWNjZXB0UHJpdmFjeS5jaGVja2VkO1xuICAgIHJldHVybiBmaXJzdE5hbWVJc1ZhbGlkICYmIHN1ck5hbWVJc1ZhbGlkICYmIGlzVGVhbUNvZGVWYWxpZCAmJiBpc1Rlcm1zVmFsaWQ7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaXNGb3JtVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNTdGVwT25lVmFsaWQoKSAmJiB0aGlzLmlzU3RlcFR3b1ZhbGlkKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlU3VibWl0KCkge1xuICAgIHRoaXMuZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xuICAgIGlmICh0aGlzLmZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeS52YWx1ZSxcbiAgICAgICAgaG9tZV9zdGF0ZTogdGhpcy5zdGF0ZS52YWx1ZSxcbiAgICAgICAgZmlyc3RuYW1lOiB0aGlzLmZpcnN0TmFtZS52YWx1ZSxcbiAgICAgICAgc3VybmFtZTogdGhpcy5zdXJuYW1lLnZhbHVlLFxuICAgICAgICBpbnZpdGVfY29kZTogdGhpcy5yZWNlaXZlZFRlYW1Db2RlLmNoZWNrZWQgPyB0aGlzLnRlYW1Db2RlLnZhbHVlIDogbnVsbCxcbiAgICAgICAgbG9jYWxlOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcbiAgICAgICAgYWNjZXB0X3ByaXZhY3k6IHRoaXMuYWNjZXB0UHJpdmFjeS5jaGVja2VkLFxuICAgICAgICBhZ2VfcmFuZ2U6IHRoaXMuYWdlUmFuZ2VSZXN0cmljdGlvbnMuYWdlUmFuZ2UsXG4gICAgICAgIHBpY3R1cmVfdXJsOiB0aGlzLnBpY3R1cmVVcmwudmFsdWUsXG4gICAgICB9O1xuXG4gICAgICBheGlvc0luc3RhbmNlLnBvc3QoRk9STV9VUkwsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgdGhpcy5mb3JtLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5mb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJy1zdWJtaXR0ZWQnKTtcbiAgICAgICAgICAgICAgLy8gVE9ETzogaXMgdGhlcmUgYSBiZXR0ZXIgd2F5IHRvIHJlZGlyZWN0IG9yIGJ1aWxkIHVybD9cbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3lvdXItcHJvamVjdCN0b3AtdGlwcyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm0uY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMgPT09ICdDb2RlIG5vdCBmb3VuZCcpIHtcbiAgICAgICAgICAgICAgKHRoaXMudGVhbUNvZGVDb250YWluZXIucXVlcnlTZWxlY3RvcignLmZvcm0tLWlucHV0LWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoQUNUSU9OX0NMQVNTRVMuRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9Db3JlJztcbmltcG9ydCB7IG5vZGVMaXN0VG9BcnJheSwgR0xPQkFMX1NFTEVDVE9SUyB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgU25hY2tCYXIgfSBmcm9tICcuLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnY29yZS1kZWNvcmF0b3JzJztcblxuY29uc3QgU0VMRUNUT1JTID0ge1xuICBTTkFDS0JBUjogJy5qcy1sYXVuY2gtc25hY2tiYXInLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVndWlkZSB7XG4gIGNvcmU6IENvcmU7XG4gIHRleHRhcmVhczogSFRNTFRleHRBcmVhRWxlbWVudFtdO1xuICBzbmFja0JhcjogU25hY2tCYXI7XG4gIHNuYWNrQmFyVHJpZ2dlcjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEhvbWUgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLnRleHRhcmVhcyA9IG5vZGVMaXN0VG9BcnJheShcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChHTE9CQUxfU0VMRUNUT1JTLlJJQ0hfVEVYVEFSRUEpKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50W107XG4gICAgdGhpcy5zbmFja0JhclRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TTkFDS0JBUikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgdGhpcy5zbmFja0JhciA9IG5ldyBTbmFja0Jhcih0aGlzLmNvcmUpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNuYWNrQmFyVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU25hY2tCYXJUcmlnZ2VyKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVTbmFja0JhclRyaWdnZXIoKTogdm9pZCB7XG4gICAgdGhpcy5zbmFja0Jhci5zbmFja0JhclRyaWdnZXIoKTtcbiAgfVxufVxuIiwiZGVjbGFyZSB2YXIgYm9keW1vdmluOiBhbnk7XG5kZWNsYXJlIHZhciBUd2Vlbk1heDogYW55O1xuaW1wb3J0IHsgYXV0b2JpbmQgfSBmcm9tICdjb3JlLWRlY29yYXRvcnMnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBDb3JlIGZyb20gJy4uL0NvcmUnO1xuaW1wb3J0IHsgTmF2SW5QYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBub2RlTGlzdFRvQXJyYXksIEFDVElPTl9DTEFTU0VTIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgSUxMVVNUUkFUSU9OOiAnLmpzLXNjcm9sbC1pbGx1c3RyYXRpb24nLFxuICBTQ1JPTExfQ09OVEFJTkVSOiAnLmpzLXNjcm9sbC1jb250YWluZXInLFxuICBTQ1JPTExfRU5EOiAnLmpzLXNjcm9sbC1lbmQnLFxuICBTQ1JPTExfU1RBUlQ6ICcuanMtZmlyc3Qtc2Nyb2xsJyxcbiAgTE9HT19DT05UQUlORVI6ICcuanMtbG9nby1jb250YWluZXInLFxuICBTVUJNSVNTSU9OU19PUEVOOiAnLmpzLXN1Ym1pc3Npb25zLW9wZW4nLFxuICBSRVNPVVJDRV9DQVJEX0NPTlRBSU5FUjogJy5qcy1yZXNvdXJjZS1jYXJkLWNvbnRhaW5lcicsXG4gIFJFU09VUkNFX0NBUkQ6ICcuanMtcmVzb3VyY2UtY2FyZC1hbHQnLFxuICBURUFTRVJfRk9STTogJy5qcy10ZWFzZXItZm9ybScsXG4gIFRFQVNFUl9GT1JNX1NVQk1JVDogJy5qcy10ZWFzZXItZm9ybS1zdWJtaXQnLFxuICBURUFTRVJfRk9STV9URVhUX0lOUFVUOiAnLmZvcm0tLXRleHQtaW5wdXQnLFxuICBURUFTRVJfRk9STV9FTUFJTDogJy5qcy1lbWFpbC1jb250YWluZXInLFxuICBURUFTRVJfRk9STV9SQURJTzogJy5qcy1yYWRpby1jb250YWluZXInLFxuICBURUFTRVJfRk9STV9MRUdBTDogJy5qcy10ZXJtcy1jb250YWluZXInLFxuICBURUFTRVJfRk9STV9TVUNDRVNTOiAnLmpzLXRlYXNlci1mb3JtLXN1Y2Nlc3MnLFxuICBURUFTRVJfRk9STV9DT05UQUlORVI6ICcuanMtdGVhc2VyLWZvcm0tY29udGFpbmVyJyxcbiAgVEVBU0VSX0ZPUk1fQ09VTlRSWTogJy5qcy1jb3VudHJ5LWlucHV0JyxcbiAgVEVBU0VSX0ZPUk1fTEFOR1VBR0U6ICcuanMtbGFuZ3VhZ2UtaW5wdXQnLFxuICBIRUFERVI6ICcuanMtaGVhZGVyJyxcbiAgRUxTX1dJVEhfVkg6ICcuanMtdmgnLFxufTtcblxuaW50ZXJmYWNlIElQYXJhbXMge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG59XG5cbmNvbnN0IFRFQVNFUl9GT1JNX1VSTCA9ICdodHRwczovL3NlcnZpY2VzLmdvb2dsZS5jb20vZmIvc3VibWlzc2lvbnMvZ29vZ2xlc2NpZW5jZWZhaXItdGVhc2VyLyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFuaW1hdGlvbkRhdGEge1xuICBhZGRFdmVudExpc3RlbmVyPzogYW55O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICByZW5kZXJlcjogJ3N2Zyd8J2NhbnZhcyc7XG4gIGxvb3A6IGJvb2xlYW47XG4gIGF1dG9wbGF5OiBib29sZWFuO1xuICBwYXRoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlYXNlciB7XG4gIGFuaW1hdGlvbkRhdGE6IElBbmltYXRpb25EYXRhO1xuICBhbmltYXRpb25EdXJhdGlvbjogbnVtYmVyO1xuICBhbmltYXRpb25PYmplY3Q6IGFueTtcbiAgY29yZTogQ29yZTtcbiAgaGVhZGVyOiBIVE1MRWxlbWVudDtcbiAgaGVhZGVySGVpZ2h0OiBudW1iZXI7XG4gIGhlYWRlckhhc1NoYWRvdzogYm9vbGVhbjtcbiAgaWxsdXN0cmF0aW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgc3VibWlzc2lvbnNPcGVuRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGlzSU9TOiBib29sZWFuO1xuICBpc0xvY2tlZFRvcDogYm9vbGVhbjtcbiAgaXNMb2NrZWRCb3R0b206IGJvb2xlYW47XG4gIG5hdkluUGFnZTogTmF2SW5QYWdlO1xuICBzY3JvbGxFbmQ6IEhUTUxFbGVtZW50O1xuICBzY3JvbGxDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBzY3JvbGxDb250YWluZXJUb3A6IG51bWJlcjtcbiAgc2Nyb2xsQ29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gIHdpbmRvd0hlaWdodDogbnVtYmVyO1xuICB3aW5kb3dXaWR0aDogbnVtYmVyO1xuICBsYXJnZVNjcmVlbjogYm9vbGVhbjtcbiAgbWVkU2NyZWVuOiBib29sZWFuO1xuICBzbWFsbFNjcmVlbjogYm9vbGVhbjtcbiAgbG9nb0FuaW1hdGlvbkRhdGE6IElBbmltYXRpb25EYXRhO1xuICBsb2dvQW5pbWF0aW9uQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgbG9nb0FuaW1hdGlvbk9iamVjdDogYW55O1xuICB0ZWFzZXJGb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XG4gIHRlYXNlckZvcm1TdWJtaXQ6IEhUTUxCdXR0b25FbGVtZW50O1xuICB0ZWFzZXJGb3JtU3VjY2VzczogSFRNTEVsZW1lbnQ7XG4gIHRlYXNlckZvcm1Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICBlbHNXaXRoVmg6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAgc3ZnSGVpZ2h0OiBudW1iZXI7XG4gIHJlc291cmNlQ2FyZDogSFRNTEVsZW1lbnQ7XG4gIHJlc291cmNlQ2FyZENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGlzUmVzb3VyY2VDYXJkU2V0OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUZWFzZXIgY29uc3RydWN0b3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb3JlOiBDb3JlKSB7XG4gICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB0aGlzLndpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLm1lZFNjcmVlbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA2MDBweCknKS5tYXRjaGVzO1xuICAgIHRoaXMubGFyZ2VTY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgdGhpcy5zbWFsbFNjcmVlbiA9ICF0aGlzLm1lZFNjcmVlbjtcbiAgICB0aGlzLndpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy5oZWFkZXJIYXNTaGFkb3cgPSBmYWxzZTtcbiAgICB0aGlzLmlzSU9TID0gZmFsc2U7XG4gICAgdGhpcy5pbGx1c3RyYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5JTExVU1RSQVRJT04pIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMubG9nb0FuaW1hdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLkxPR09fQ09OVEFJTkVSKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnNjcm9sbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNDUk9MTF9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMudGVhc2VyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgdGhpcy50ZWFzZXJGb3JtU3VibWl0ID0gdGhpcy50ZWFzZXJGb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9TVUJNSVQpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIHRoaXMuc3VibWlzc2lvbnNPcGVuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNVQk1JU1NJT05TX09QRU4pIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMudGVhc2VyRm9ybVN1Y2Nlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9TVUNDRVNTKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnRlYXNlckZvcm1Db250YWluZXIgPSBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fQ09OVEFJTkVSKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmVsc1dpdGhWaCA9IG5vZGVMaXN0VG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SUy5FTFNfV0lUSF9WSCkpO1xuICAgIHRoaXMucmVzb3VyY2VDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUkVTT1VSQ0VfQ0FSRCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5yZXNvdXJjZUNhcmRDb250YWluZXIgPSBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuUkVTT1VSQ0VfQ0FSRF9DT05UQUlORVIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMubmF2SW5QYWdlID0gbmV3IE5hdkluUGFnZShjb3JlKTtcbiAgICB0aGlzLnNjcm9sbENvbnRhaW5lclRvcCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICB0aGlzLnNjcm9sbEVuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLlNDUk9MTF9FTkR9ID4gcGApIGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNDUk9MTF9FTkQpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuSEVBREVSKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmhlYWRlckhlaWdodCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVhc2VycGFnZS0taGVhZGVyJykgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgdGhpcy5hbmltYXRpb25EdXJhdGlvbiA9IHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0ICsgKHRoaXMuaGVhZGVySGVpZ2h0IC8gNCk7XG4gICAgdGhpcy5hbmltYXRpb25EYXRhID0ge1xuICAgICAgY29udGFpbmVyOiB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lcixcbiAgICAgIHJlbmRlcmVyOiAnc3ZnJyxcbiAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgcGF0aDogJy9zdGF0aWMvaW1hZ2VzL0dTRl90ZXN0MTMuanNvbicsXG4gICAgfTtcbiAgICB0aGlzLmFuaW1hdGlvbk9iamVjdCA9IGJvZHltb3Zpbi5sb2FkQW5pbWF0aW9uKHRoaXMuYW5pbWF0aW9uRGF0YSk7XG4gICAgdGhpcy5sb2dvQW5pbWF0aW9uRGF0YSA9IHtcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5sb2dvQW5pbWF0aW9uQ29udGFpbmVyLFxuICAgICAgcmVuZGVyZXI6ICdzdmcnLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIHBhdGg6IHRoaXMubWVkU2NyZWVuID9cbiAgICAgICAgICAnL3N0YXRpYy9pbWFnZXMvR1NGX2xvZ282Lmpzb24nIDogJy9zdGF0aWMvaW1hZ2VzL0dTRl9sb2dvX21vYmlsZS5qc29uJyxcbiAgICB9O1xuICAgIHRoaXMubG9nb0FuaW1hdGlvbk9iamVjdCA9IGJvZHltb3Zpbi5sb2FkQW5pbWF0aW9uKHRoaXMubG9nb0FuaW1hdGlvbkRhdGEpO1xuICAgIHRoaXMuaXNMb2NrZWRUb3AgPSBmYWxzZTtcbiAgICB0aGlzLmlzTG9ja2VkQm90dG9tID0gZmFsc2U7XG4gICAgdGhpcy5pc1Jlc291cmNlQ2FyZFNldCA9IGZhbHNlO1xuICAgIHRoaXMuc3ZnSGVpZ2h0ID0gMDtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNJT1MgPSAvKGlQYWR8aVBob25lfGlQb2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHRoaXMuYW5pbWF0ZUxvZ28oKTtcbiAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3dpbmRvdy5pbm5lcldpZHRofWA7XG4gICAgdGhpcy5pbGx1c3RyYXRpb25Db250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0fWA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuYW5pbWF0ZSk7XG4gICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKCkgPT4ge1xuICAgICAgdGhpcy5pbGx1c3RyYXRpb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICB9O1xuICAgIHRoaXMudGVhc2VyRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUZvcm1DaGFuZ2UpO1xuICAgIHRoaXMudGVhc2VyRm9ybVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU3VibWl0KTtcbiAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoYCR7U0VMRUNUT1JTLlRFQVNFUl9GT1JNX0VNQUlMfSBpbnB1dGApIGFzIEhUTUxJbnB1dEVsZW1lbnQpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVFbWFpbEJsdXIpO1xuICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihgJHtTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUx9IGlucHV0YCkgYXMgSFRNTElucHV0RWxlbWVudClcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlTGVnYWxCbHVyKTtcbiAgICB0aGlzLmFuaW1hdGlvbk9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdET01Mb2FkZWQnLCB0aGlzLnNldElsbHVzdHJhdGlvblJlYWR5KTtcbiAgICAobm9kZUxpc3RUb0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1tb2RhbC1saW5rJykpIGFzIEFycmF5PEhUTUxBbmNob3JFbGVtZW50PilcbiAgICAgICAgLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc2V0TW9kYWwpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLmhhbmRsZU9yaWVudGF0aW9uQ2hhbmdlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICAgIGlmICh0aGlzLm1lZFNjcmVlbikge1xuICAgICAgdGhpcy5zZXRSZXNvdXJjZUNhcmQoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRIZWlnaHRzRm9yVmgoKTtcbiAgICBpZiAoLyhlZHVjYXRvci1yZXNvdXJjZXMpLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5oYXNoKSkge1xuICAgICAgVHdlZW5NYXgudG8od2luZG93LCAxLCB7XG4gICAgICAgIHNjcm9sbFRvOiB7XG4gICAgICAgICAgeTogKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZHVjYXRvci1yZXNvdXJjZXMnKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAgICAgLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxcbiAgICAgICAgICBhdXRvS2lsbDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0UmVzb3VyY2VDYXJkKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzUmVzb3VyY2VDYXJkU2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlubmVySHRtbCA9IHRoaXMucmVzb3VyY2VDYXJkLmlubmVySFRNTDtcbiAgICBjb25zdCBuZXdMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbmV3TGkuY2xhc3NMaXN0LmFkZCgnaC1jLWNhcm91c2VsX19pdGVtJywgJ3Jlc291cmNlLWNhcmQnLCAncmVzb3VyY2UtY2FyZC1hbHQnKTtcbiAgICBuZXdMaS5pbm5lckhUTUwgPSBpbm5lckh0bWw7XG4gICAgdGhpcy5yZXNvdXJjZUNhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGkpO1xuICAgIHRoaXMucmVzb3VyY2VDYXJkLnJlbW92ZSgpO1xuICAgIHRoaXMuaXNSZXNvdXJjZUNhcmRTZXQgPSB0cnVlO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVJlc2l6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLndpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLm1lZFNjcmVlbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA2MDBweCknKS5tYXRjaGVzO1xuICAgIHRoaXMubGFyZ2VTY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG5cbiAgICBpZiAodGhpcy5zbWFsbFNjcmVlbikge1xuICAgICAgaWYgKHRoaXMubWVkU2NyZWVuKSB7XG4gICAgICAgIHRoaXMuc21hbGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dvQW5pbWF0aW9uT2JqZWN0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5sb2dvQW5pbWF0aW9uRGF0YS5wYXRoID0gJy9zdGF0aWMvaW1hZ2VzL0dTRl9sb2dvNi5qc29uJztcbiAgICAgICAgdGhpcy5sb2dvQW5pbWF0aW9uT2JqZWN0ID0gYm9keW1vdmluLmxvYWRBbmltYXRpb24odGhpcy5sb2dvQW5pbWF0aW9uRGF0YSk7XG4gICAgICAgIHRoaXMubG9nb0FuaW1hdGlvbk9iamVjdC5wbGF5KCk7XG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2VDYXJkKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5tZWRTY3JlZW4pIHtcbiAgICAgICAgdGhpcy5zbWFsbFNjcmVlbiA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nb0FuaW1hdGlvbk9iamVjdC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubG9nb0FuaW1hdGlvbkRhdGEucGF0aCA9ICcvc3RhdGljL2ltYWdlcy9HU0ZfbG9nb19tb2JpbGUuanNvbic7XG4gICAgICAgIHRoaXMubG9nb0FuaW1hdGlvbk9iamVjdCA9IGJvZHltb3Zpbi5sb2FkQW5pbWF0aW9uKHRoaXMubG9nb0FuaW1hdGlvbkRhdGEpO1xuICAgICAgICB0aGlzLmxvZ29BbmltYXRpb25PYmplY3QucGxheSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLndpbmRvd1dpZHRoICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm9uUmVzaXplKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgcmVzZXRNb2RhbChlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nbHVlLWFwcC1yZWFkeSAuZ2x1ZS1jLW1vZGFsX19vdmVybGF5JykgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgIC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVPcmllbnRhdGlvbkNoYW5nZSgpOiB2b2lkIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25SZXNpemUpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHNldElsbHVzdHJhdGlvblJlYWR5KCk6IHZvaWQge1xuICAgIGNvbnN0IHN2ZyA9IHRoaXMuaWxsdXN0cmF0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpIGFzIFNWR0VsZW1lbnQ7XG4gICAgdGhpcy5zdmdIZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodDtcbiAgICBzdmcuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy53aW5kb3dIZWlnaHR9YDtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvblJlc2l6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1lZFNjcmVlbiA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA2MDBweCknKS5tYXRjaGVzO1xuICAgIHRoaXMubGFyZ2VTY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTAyNHB4KScpLm1hdGNoZXM7XG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdGhpcy5zZXRJbGx1c3RyYXRpb25SZWFkeSgpO1xuICAgIHRoaXMuc2V0SGVpZ2h0c0ZvclZoKCk7XG4gICAgdGhpcy5zY3JvbGxDb250YWluZXJUb3AgPSB0aGlzLnNjcm9sbENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgdGhpcy5oZWFkZXJIZWlnaHQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlYXNlcnBhZ2UtLWhlYWRlcicpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlNDUk9MTF9FTkQpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgIHRoaXMuYW5pbWF0ZSgpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGFuaW1hdGUoKTogdm9pZCB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gMjAwICYmICF0aGlzLmhlYWRlckhhc1NoYWRvdykge1xuICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZChBQ1RJT05fQ0xBU1NFUy5IQVNfU0hBRE9XKTtcbiAgICAgIHRoaXMuaGVhZGVySGFzU2hhZG93ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZIDwgMjAwICYmIHRoaXMuaGVhZGVySGFzU2hhZG93KSB7XG4gICAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKEFDVElPTl9DTEFTU0VTLkhBU19TSEFET1cpO1xuICAgICAgdGhpcy5oZWFkZXJIYXNTaGFkb3cgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5zY3JvbGxZIC0gKHRoaXMuaGVhZGVySGVpZ2h0IC8gMik7XG4gICAgY29uc3Qgc2Nyb2xsZWRJbkNvbnRhaW5lciA9IHRoaXMuc2Nyb2xsQ29udGFpbmVySGVpZ2h0IC0gKHRoaXMuaGVhZGVySGVpZ2h0IC8gMilcbiAgICAgICAgLSAodGhpcy53aW5kb3dIZWlnaHQgLyA0KTtcbiAgICBjb25zdCBtYXhGcmFtZXMgPSB0aGlzLmFuaW1hdGlvbk9iamVjdC50b3RhbEZyYW1lcztcbiAgICBjb25zdCBmcmFtZSA9IChtYXhGcmFtZXMgLyAxMDApICpcbiAgICAgICAgKHNjcm9sbFBvc2l0aW9uIC8gKHNjcm9sbGVkSW5Db250YWluZXIgLyAxMDApKTtcbiAgICB0aGlzLmFuaW1hdGlvbk9iamVjdC5nb1RvQW5kU3RvcChmcmFtZSwgdHJ1ZSk7XG4gICAgY29uc3QgbmF2SGVpZ2h0ID0gdGhpcy5tZWRTY3JlZW4gPyA4MCA6IDY0O1xuICAgIGNvbnN0IGlsbHVzdHJhdGlvblRvcCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgICAgICAtICh3aW5kb3cuaW5uZXJIZWlnaHQgKiAuNSkgLSBuYXZIZWlnaHQ7XG4gICAgaWYgKHRoaXMuc2Nyb2xsRW5kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCA8XG4gICAgICAgICh0aGlzLndpbmRvd0hlaWdodCAqICh0aGlzLmxhcmdlU2NyZWVuID8gLjggOiAuNykpICsgbmF2SGVpZ2h0KSB7XG4gICAgICBpZiAodGhpcy5pc0xvY2tlZEJvdHRvbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCctbG9ja2VkJyk7XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCctZml4ZWQnKTtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5TQ1JPTExfRU5EKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gKHRoaXMud2luZG93SGVpZ2h0IC8gMik7XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5zdHlsZS50b3AgPSAnYXV0byc7XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSBgJHtib3R0b20gKyBuYXZIZWlnaHR9cHhgO1xuICAgICAgdGhpcy5pc0xvY2tlZEJvdHRvbSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5pc0xvY2tlZEJvdHRvbSkge1xuICAgICAgICBpZiAoaWxsdXN0cmF0aW9uVG9wIDwgMSkge1xuICAgICAgICAgIGlmICh0aGlzLmlzTG9ja2VkVG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaWxsdXN0cmF0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJy1maXhlZCcpO1xuICAgICAgICAgIHRoaXMuaWxsdXN0cmF0aW9uQ29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgICAgICB0aGlzLmlzTG9ja2VkVG9wID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNMb2NrZWRUb3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pbGx1c3RyYXRpb25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnLWZpeGVkJyk7XG4gICAgICAgICAgdGhpcy5pbGx1c3RyYXRpb25Db250YWluZXIuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2JvdHRvbScpO1xuICAgICAgICAgIHRoaXMuaXNMb2NrZWRUb3AgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCctbG9ja2VkJyk7XG4gICAgICB0aGlzLmlsbHVzdHJhdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCctZml4ZWQnKTtcbiAgICAgIHRoaXMuaWxsdXN0cmF0aW9uQ29udGFpbmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0b3AnKTtcbiAgICAgIHRoaXMuaWxsdXN0cmF0aW9uQ29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICAgIHRoaXMuaXNMb2NrZWRCb3R0b20gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgYW5pbWF0ZUxvZ28oKTogdm9pZCB7XG4gICAgdGhpcy5sb2dvQW5pbWF0aW9uT2JqZWN0LnBsYXkoKTtcbiAgICB0aGlzLmxvZ29BbmltYXRpb25PYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCB0aGlzLm9uTG9nb0FuaW1hdGlvbkNvbXBsZXRlKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBvbkxvZ29BbmltYXRpb25Db21wbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN1Ym1pc3Npb25zT3BlbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnLWFjdGl2ZScpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZVN1Ym1pdChlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLmlzRm9ybVZhbGlkKCkpIHtcbiAgICAgIGNvbnN0IHBhcmFtczogSVBhcmFtcyA9IHtcbiAgICAgICAgJ2dzZi1jb3VudHJ5JzogKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0NPVU5UUlkpYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsXG4gICAgICAgICdnc2YtZW1haWwnOiAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fVEVYVF9JTlBVVClhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSxcbiAgICAgICAgJ2dzZi1pLWFtLWEnOiAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgJHtTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fUkFESU99IGlucHV0OmNoZWNrZWRgKWFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLFxuICAgICAgICAnZ3NmLWlzLWxlZ2FsLWNoZWNrZWQnOiAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgJHtTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUx9IGlucHV0YClhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSxcbiAgICAgICAgJ2dzZi1sYW5ndWFnZSc6ICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIFNFTEVDVE9SUy5URUFTRVJfRk9STV9MQU5HVUFHRSlhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSxcbiAgICAgIH07XG4gICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID1cbiAgICAgICAgICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgIGF4aW9zLnBvc3QoVEVBU0VSX0ZPUk1fVVJMLCBPYmplY3Qua2V5cyhwYXJhbXMpXG4gICAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fT0ke2VuY29kZVVSSUNvbXBvbmVudCgocGFyYW1zW2tleV0pKX1gKS5qb2luKCcmJykpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzWydnc2YtZW1haWwnXSkge1xuICAgICAgICAgICAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fRU1BSUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JzWydnc2YtaS1hbS1hJ10pIHtcbiAgICAgICAgICAgICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX1JBRElPKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yc1snZ3NmLWlzLWxlZ2FsLWNoZWNrZWQnXSkge1xuICAgICAgICAgICAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMudGVhc2VyRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCctc3VibWl0dGVkJyk7XG4gICAgICAgICAgICAgIHRoaXMudGVhc2VyRm9ybVN1Y2Nlc3Muc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgVHdlZW5NYXgudG8od2luZG93LCAuMTUsIHtcbiAgICAgICAgICAgICAgICAgIHNjcm9sbFRvOiB7XG4gICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9LaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWFzZXJGb3JtU3VjY2Vzcy5jbGFzc0xpc3QuYWRkKCctYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWFzZXJGb3JtQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWFzZXJGb3JtQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRlYXNlckZvcm0uY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRGb3JtU3RhdGVzKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaXNFbWFpbFZhbGlkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVtYWlsRmllbGQgPSB0aGlzLnRlYXNlckZvcm1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX1RFWFRfSU5QVVQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgcmV0dXJuIGVtYWlsRmllbGQudmFsaWRpdHkudmFsaWQ7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaXNDYXRlZ29yeVZhbGlkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhdGVnb3J5RmllbGRzID0gbm9kZUxpc3RUb0FycmF5KHRoaXMudGVhc2VyRm9ybVxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tLXJhZGlvLWdyb3VwIGlucHV0JykpIGFzIEFycmF5PEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgIHJldHVybiBjYXRlZ29yeUZpZWxkcy5maW5kKChmaWVsZCkgPT4gZmllbGQuY2hlY2tlZCA9PT0gdHJ1ZSkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpc0xlZ2FsQ2hlY2tlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBsZWdhbENoZWNrID0gdGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoJyNpc0xlZ2FsQ2hlY2tlZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgcmV0dXJuIGxlZ2FsQ2hlY2suY2hlY2tlZCA9PT0gdHJ1ZTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBpc0Zvcm1WYWxpZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0VtYWlsVmFsaWQoKSAmJiB0aGlzLmlzQ2F0ZWdvcnlWYWxpZCgpICYmIHRoaXMuaXNMZWdhbENoZWNrZWQoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBzZXRGb3JtU3RhdGVzKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0VtYWlsVmFsaWQoKSkge1xuICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9FTUFJTCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0NhdGVnb3J5VmFsaWQoKSkge1xuICAgICAgKHRoaXMudGVhc2VyRm9ybS5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5URUFTRVJfRk9STV9SQURJTykgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgLmNsYXNzTGlzdC5hZGQoJy1lcnJvcicpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0xlZ2FsQ2hlY2tlZCgpKSB7XG4gICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0xFR0FMKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgfVxuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhbmRsZUZvcm1DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy50ZWFzZXJGb3JtU3VibWl0LmRpc2FibGVkID0gIXRoaXMuaXNGb3JtVmFsaWQoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBoYW5kbGVFbWFpbEJsdXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzRW1haWxWYWxpZCgpKSB7XG4gICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0VNQUlMKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fRU1BSUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCctZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgaGFuZGxlTGVnYWxCbHVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0xlZ2FsQ2hlY2tlZCgpKSB7XG4gICAgICAodGhpcy50ZWFzZXJGb3JtLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JTLlRFQVNFUl9GT1JNX0xFR0FMKSBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgnLWVycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzLnRlYXNlckZvcm0ucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuVEVBU0VSX0ZPUk1fTEVHQUwpIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCctZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2V0SGVpZ2h0c0ZvclZoKCk6IHZvaWQge1xuXG4gICAgdGhpcy5lbHNXaXRoVmguZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKTtcbiAgICAgIGlmICh0aGlzLmxhcmdlU2NyZWVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3RlYXNlcnBhZ2UtLXNjcm9sbC0tY29udGVudCcpKSB7XG4gICAgICAgIGVsLnN0eWxlLnBhZGRpbmcgPSBgJHt0aGlzLndpbmRvd0hlaWdodCAqICh0aGlzLmxhcmdlU2NyZWVuID8gLjMgOiAuMil9cHggMGA7XG4gICAgICB9XG4gICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1zY3JvbGwtaWxsdXN0cmF0aW9uJykpIHtcbiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy53aW5kb3dIZWlnaHR9cHhgO1xuICAgICAgfVxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnanMtZmlyc3Qtc2Nyb2xsJykpIHtcbiAgICAgICAgZWwuc3R5bGUucGFkZGluZ1RvcCA9IGAke3RoaXMud2luZG93SGVpZ2h0ICogKHRoaXMubGFyZ2VTY3JlZW4gPyAuNSA6IC4zKX1weGA7XG4gICAgICB9XG4gICAgICBlbC5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuaGVpZ2h0O1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgSG9tZSBmcm9tICcuL0hvbWUnO1xuaW1wb3J0IFByb2plY3RQcmV2aWV3IGZyb20gJy4vUHJvamVjdFByZXZpZXcnO1xuaW1wb3J0IFJlZ2lzdGVyIGZyb20gJy4vUmVnaXN0ZXInO1xuaW1wb3J0IFN0eWxlZ3VpZGUgZnJvbSAnLi9TdHlsZWd1aWRlJztcbmltcG9ydCBUZWFzZXIgZnJvbSAnLi9UZWFzZXInO1xuaW1wb3J0IERhc2hib2FyZCBmcm9tICcuL0Rhc2hib2FyZCc7XG5cbmV4cG9ydCB7XG4gIERhc2hib2FyZCxcbiAgSG9tZSxcbiAgUHJvamVjdFByZXZpZXcsXG4gIFJlZ2lzdGVyLFxuICBTdHlsZWd1aWRlLFxuICBUZWFzZXIsXG59O1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7XG4gIGhlYWRlcnM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXhpb3NJbnN0YW5jZTtcbiIsImNvbnN0IHsgc3FydCB9ID0gTWF0aDtcblxuLyoqXG4gKiBEZXNjcmliZXMgYSBwb2ludCBpbiAyZCBzcGFjZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyB0byBhbm90aGVyIHBvaW50LlxuICAgKi9cbiAgZGlzdGFuY2UocDogUG9pbnQpOiBudW1iZXIge1xuICAgIHJldHVybiBQb2ludC5kaXN0YW5jZSh0aGlzLngsIHRoaXMueSwgcC54LCBwLnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHRvIHRoZSBjb29yZGluYXRlcyBvZiBhbm90aGVyIHBvaW50LlxuICAgKi9cbiAgZGlzdGFuY2VUb0Nvb3Jkcyh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIFBvaW50LmRpc3RhbmNlKHRoaXMueCwgdGhpcy55LCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhpcyBwb2ludCB0byBhIHNwZWNpZmllZCBkaXN0YW5jZSBmcm9tIG9yaWdpbi5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbbGVuZ3RoPTFdXG4gICAqL1xuICBub3JtYWxpemUobGVuZ3RoPSAxLjApOiB2b2lkIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgZCA9IHNxcnQoeCAqIHggKyB5ICogeSk7XG5cbiAgICB0aGlzLnggPSBsZW5ndGggKiB4IC8gZDtcbiAgICB0aGlzLnkgPSBsZW5ndGggKiB5IC8gZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgcG9pbnQuXG4gICAqL1xuICBzY2FsZShzY2FsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy54ICo9IHNjYWxlO1xuICAgIHRoaXMueSAqPSBzY2FsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBuZXcgcG9pbnQgd2l0aCB0aGUgc2FtZSB2YWx1ZXMuXG4gICAqL1xuICBjbG9uZSgpOiBQb2ludCB7XG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgIHRoaXMueCxcbiAgICAgIHRoaXMueSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY29vcmRpbmF0ZXMgb2YgdHdvIHBvaW50cy5cbiAgICovXG4gIHN0YXRpYyBkaXN0YW5jZSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBkeCA9IHgxIC0geDI7XG4gICAgY29uc3QgZHkgPSB5MSAtIHkyO1xuXG4gICAgcmV0dXJuIHNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpbmVhcmx5IGludGVycG9sYXRlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICovXG4gIHN0YXRpYyBsZXJwKHB0MTogUG9pbnQsIHB0MjogUG9pbnQsIGNvZWY6IG51bWJlcik6IFBvaW50IHtcbiAgICBjb25zdCBpcCA9IDEgLSBjb2VmO1xuXG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgIHB0MS54ICogaXAgKyBwdDIueCAqIGNvZWYsXG4gICAgICBwdDEueSAqIGlwICsgcHQyLnkgKiBjb2VmLFxuICAgICk7XG4gIH1cbn1cbiIsImNvbnN0IENLRURJVE9SX1NFVFRJTkdTID0ge1xuICBsYW5ndWFnZTogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXG4gIHVwbG9hZFVybDogJy9hcGkvdXBsb2FkJyxcbiAgcmVtb3ZlQnV0dG9uczogJ0N1dCxDb3B5LFBhc3RlLFN0cmlrZSxBYm91dCxBbmNob3InLFxufTtcblxuY29uc3QgR0xPQkFMX1NFTEVDVE9SUyA9IHtcbiAgUklDSF9URVhUQVJFQTogJy5qcy1yaWNoLXRleHRhcmVhJyxcbn07XG5cbmNvbnN0IE1FRElBX1FVRVJJRVMgPSB7XG4gIFNNQUxMOiAnKG1pbi13aWR0aDogNjAwcHgpJyxcbiAgTUVESVVNOiAnKG1pbi13aWR0aDogOTAwcHgpJyxcbiAgTEFSR0U6ICcobWluLXdpZHRoOiAxMDI0cHgpJyxcbiAgWEw6ICcobWluLXdpZHRoOiAxNDQwcHgpJyxcbn07XG5cbmNvbnN0IEFDVElPTl9DTEFTU0VTID0ge1xuICBBQ1RJVkU6ICctYWN0aXZlJyxcbiAgRU5BQkxFRDogJy1lbmFibGVkJyxcbiAgRElTQUJMRUQ6ICctZGlzYWJsZWQnLFxuICBFUlJPUjogJy1lcnJvcicsXG4gIEZPQ1VTRUQ6ICctZm9jdXNlZCcsXG4gIE5FRURTX0ZPQ1VTX1JJTkc6ICctbmVlZHMtZm9jdXMnLFxuICBTVUJNSVRURUQ6ICctc3VibWl0dGVkJyxcbiAgSU5BQ1RJVkU6ICctaW5hY3RpdmUnLFxuICBISURERU46ICctaGlkZGVuJyxcbiAgSEFTX1NIQURPVzogJy1oYXMtc2hhZG93JyxcbiAgU0FWSU5HOiAnLXNhdmluZycsXG4gIEhPVkVSRUQ6ICctaG92ZXJlZCcsXG4gIFJFRFVDRV9NT1RJT046ICctcmVkdWNlZC1tb3Rpb24nLFxufTtcblxuZXhwb3J0IHtcbiAgQ0tFRElUT1JfU0VUVElOR1MsXG4gIEdMT0JBTF9TRUxFQ1RPUlMsXG4gIEFDVElPTl9DTEFTU0VTLFxuICBNRURJQV9RVUVSSUVTLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVESU9fTEVWRUwgPSAwLjU7XG4iLCJleHBvcnQgZnVuY3Rpb24gcmVhZENvb2tpZShuYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFJlZ0V4cChgKD86Xnw7ICkke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX09KFteO10qKWApLmV4ZWMoZG9jdW1lbnQuY29va2llKTtcbiAgcmV0dXJuIHJlc3VsdCA/IHJlc3VsdFsxXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUNvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGRheXMgPSAzNjUpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xuICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT1cIiR7dmFsdWV9XCI7IGV4cGlyZXM9JHtkYXRlLnRvVVRDU3RyaW5nKCl9OyBwYXRoPS9gO1xufVxuIiwiaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZSc7XG5pbXBvcnQgbm9kZUxpc3RUb0FycmF5IGZyb20gJy4vbm9kZUxpc3RUb0FycmF5JztcbmltcG9ydCB7IHJlYWRDb29raWUsIHdyaXRlQ29va2llIH0gZnJvbSAnLi9jb29raWVzJztcbmltcG9ydCB7XG4gIENLRURJVE9SX1NFVFRJTkdTLFxuICBHTE9CQUxfU0VMRUNUT1JTLFxuICBBQ1RJT05fQ0xBU1NFUyxcbiAgTUVESUFfUVVFUklFUyxcbiAgREVGQVVMVF9BVURJT19MRVZFTCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGF4aW9zSW5zdGFuY2UgZnJvbSAnLi9BeGlvc0luc3RhbmNlJztcbmltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50JztcbmltcG9ydCB7IGlzSW5WaWV3cG9ydCB9IGZyb20gJy4vaXNJblZpZXdwb3J0JztcblxuY29uc3QgaXNJT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmV8aVBvZHxpUGFkLyk7XG5sZXQgc2hvdWxkTG9hZE1EQyA9IHRydWU7XG5cbmlmIChpc0lPUykge1xuICBjb25zdCB2ZXJzaW9uID1cbiAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9cXGJbMC05XStfWzAtOV0rKD86X1swLTldKyk/XFxiLykgfHwgWycnXSlbMF0ucmVwbGFjZSgvXy9nLCAnLicpO1xuICBzaG91bGRMb2FkTURDID0gcGFyc2VJbnQodmVyc2lvbiwgMTApID4gMTA7XG59XG5cbmNvbnN0IFJpcHBsZSA9IHNob3VsZExvYWRNREMgPyBNRENSaXBwbGUgOiBudWxsO1xuXG5leHBvcnQge1xuICBBQ1RJT05fQ0xBU1NFUyxcbiAgYXhpb3NJbnN0YW5jZSxcbiAgQ0tFRElUT1JfU0VUVElOR1MsXG4gIERFRkFVTFRfQVVESU9fTEVWRUwsXG4gIEdMT0JBTF9TRUxFQ1RPUlMsXG4gIGlzSW5WaWV3cG9ydCxcbiAgTUVESUFfUVVFUklFUyxcbiAgUmlwcGxlLFxuICBub2RlTGlzdFRvQXJyYXksXG4gIHJlYWRDb29raWUsXG4gIHdyaXRlQ29va2llLFxuICBQb2ludCxcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3QgYm91bmRpbmcgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiAoXG4gICAgICAgIGJvdW5kaW5nLnRvcCA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG4gICAgICAgIGJvdW5kaW5nLmxlZnQgPj0gMCAmJlxuICAgICAgICBib3VuZGluZy5ib3R0b20gPj0gMCAmJlxuICAgICAgICBib3VuZGluZy5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICAgICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub2RlTGlzdFRvQXJyYXkobm9kZUxpc3Q6IE5vZGVMaXN0KSB7XG4gIGNvbnN0IGFycmF5RnJvbU5vZGVMaXN0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheUZyb21Ob2RlTGlzdC5wdXNoKG5vZGVMaXN0W2ldIGFzIEhUTUxFbGVtZW50KTtcbiAgfVxuICByZXR1cm4gYXJyYXlGcm9tTm9kZUxpc3Q7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9
/*
     FILE ARCHIVED ON 18:35:24 Oct 15, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:35:45 Apr 30, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  esindex: 0.012
  RedisCDXSource: 684.625
  xauthn.identify: 88.103
  CDXLines.iter: 10.055 (3)
  LoadShardBlock: 91.635 (3)
  exclusion.robots.policy: 88.422
  PetaboxLoader3.resolve: 60.748
  PetaboxLoader3.datanode: 96.495 (4)
  xauthn.chkprivs: 0.056
  captures_list: 877.089
  exclusion.robots: 88.438
  load_resource: 221.851
*/